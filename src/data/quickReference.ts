/**
 * Quick Reference Data for D&D Content
 * Centralized data for tooltips and popups throughout the app
 */

// Source Book Reference
export interface SourceBook {
  name: string
  abbreviation: string
  page?: number
}

// Common D&D Source Books
export const SOURCE_BOOKS = {
  PHB: { name: "Player's Handbook", abbreviation: 'PHB' },
  PHB2024: { name: "Player's Handbook (2024)", abbreviation: 'PHB24' },
  XGTE: { name: "Xanathar's Guide to Everything", abbreviation: 'XGtE' },
  TCOE: { name: "Tasha's Cauldron of Everything", abbreviation: 'TCoE' },
  GGR: { name: "Guildmaster's Guide to Ravnica", abbreviation: 'GGR' },
  EGW: { name: "Explorer's Guide to Wildemount", abbreviation: 'EGW' },
} as const

// Spell Reference
export interface SpellRef {
  id: string
  name: string
  school: 'Abjuration' | 'Conjuration' | 'Divination' | 'Enchantment' | 'Evocation' | 'Illusion' | 'Necromancy' | 'Transmutation'
  level: number | 'cantrip'
  castingTime: string
  range: string
  components: string
  duration: string
  description: string
  higherLevels?: string
  classes: string[]
  sourceBook?: SourceBook
}

// Skill Reference
export interface SkillRef {
  id: string
  name: string
  ability: 'strength' | 'dexterity' | 'constitution' | 'intelligence' | 'wisdom' | 'charisma'
  description: string
  examples: string[]
}

// Ability Reference
export interface AbilityRef {
  id: string
  name: string
  abbreviation: string
  description: string
  skills: string[]
  commonUses: string[]
}

// Weapon Reference
export interface WeaponRef {
  id: string
  name: string
  category: 'simple' | 'martial'
  type: 'melee' | 'ranged'
  damage: string
  damageType: string
  properties: string[]
  weight: string
  cost: string
  description?: string
}

// Armor Reference
export interface ArmorRef {
  id: string
  name: string
  category: 'light' | 'medium' | 'heavy' | 'shield'
  ac: string
  strength?: number
  stealthDisadvantage: boolean
  weight: string
  cost: string
  description?: string
}

// Condition Reference
export interface ConditionRef {
  id: string
  name: string
  effects: string[]
  endCondition?: string
}

// Trait/Feature Reference
export interface TraitRef {
  id: string
  name: string
  source: string
  description: string
  mechanics?: string
}

// Game Rules/Mechanics Reference
export interface RuleRef {
  id: string
  name: string
  category: 'spellcasting' | 'combat' | 'rest' | 'movement' | 'general'
  summary: string
  description: string
  examples?: string[]
  relatedRules?: string[]
  table?: {
    headers: string[]
    rows: string[][]
  }
}

// SPELLS DATA
export const SPELLS: Record<string, SpellRef> = {
  // === CANTRIPS ===
  'dancing-lights': {
    id: 'dancing-lights',
    name: 'Dancing Lights',
    school: 'Evocation',
    level: 'cantrip',
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S, M (a bit of phosphorus or wychwood, or a glowworm)',
    duration: 'Concentration, up to 1 minute',
    description: 'You create up to four torch-sized lights within range, making them appear as torches, lanterns, or glowing orbs that hover in the air for the duration. You can combine the four lights into one glowing vaguely humanoid form of Medium size. Each light sheds dim light in a 10-foot radius.',
    classes: ['Bard', 'Sorcerer', 'Wizard', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 261 },
  },
  'light': {
    id: 'light',
    name: 'Light',
    school: 'Evocation',
    level: 'cantrip',
    castingTime: '1 action',
    range: 'Touch',
    components: 'V, M (a firefly or phosphorescent moss)',
    duration: '1 hour',
    description: 'You touch one object no larger than 10 feet in any dimension. Until the spell ends, the object sheds bright light in a 20-foot radius and dim light for an additional 20 feet. The light can be colored as you like. Covering the object blocks the light. The spell ends if you cast it again or dismiss it.',
    classes: ['Bard', 'Cleric', 'Sorcerer', 'Wizard', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 292 },
  },
  'mage-hand': {
    id: 'mage-hand',
    name: 'Mage Hand',
    school: 'Conjuration',
    level: 'cantrip',
    castingTime: '1 action',
    range: '30 feet',
    components: 'V, S',
    duration: '1 minute',
    description: 'A spectral, floating hand appears at a point you choose within range. The hand vanishes if it is ever more than 30 feet away from you or if you cast this spell again. You can use your action to control the hand and use it to manipulate objects, open doors, or pour out a container. The hand can\'t attack, activate magic items, or carry more than 10 pounds.',
    classes: ['Bard', 'Sorcerer', 'Warlock', 'Wizard', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 294 },
  },
  'minor-illusion': {
    id: 'minor-illusion',
    name: 'Minor Illusion',
    school: 'Illusion',
    level: 'cantrip',
    castingTime: '1 action',
    range: '30 feet',
    components: 'S, M (a bit of fleece)',
    duration: '1 minute',
    description: 'You create a sound or an image of an object within range that lasts for the duration. The illusion ends if you dismiss it or cast this spell again. If you create a sound, it can be any voice, instrument, or other sound. If you create an image, it must fit within a 5-foot cube and can\'t create sensory effects like light, sound, smell, or movement.',
    classes: ['Bard', 'Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 298 },
  },
  'prestidigitation': {
    id: 'prestidigitation',
    name: 'Prestidigitation',
    school: 'Transmutation',
    level: 'cantrip',
    castingTime: '1 action',
    range: '10 feet',
    components: 'V, S',
    duration: 'Up to 1 hour',
    description: 'This spell is a minor magical trick that novice spellcasters use for practice. You create harmless sensory effects, light or snuff small flames, clean or soil small objects, chill/warm/flavor materials, make small marks or symbols, or create trinkets that fit in your hand. You can have up to three non-instantaneous effects active at once.',
    classes: ['Bard', 'Sorcerer', 'Warlock', 'Wizard', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 308 },
  },
  'sacred-flame': {
    id: 'sacred-flame',
    name: 'Sacred Flame',
    school: 'Evocation',
    level: 'cantrip',
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'Flame-like radiance descends on a creature you can see. The target must succeed on a Dexterity saving throw or take 1d8 radiant damage. The target gains no benefit from cover for this saving throw. Damage increases at 5th level (2d8), 11th level (3d8), and 17th level (4d8).',
    classes: ['Cleric'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 314 },
  },
  'fire-bolt': {
    id: 'fire-bolt',
    name: 'Fire Bolt',
    school: 'Evocation',
    level: 'cantrip',
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'You hurl a mote of fire at a creature or object within range. Make a ranged spell attack. On a hit, the target takes 1d10 fire damage. A flammable object hit by this spell ignites if it isn\'t being worn or carried. Damage increases at 5th level (2d10), 11th level (3d10), and 17th level (4d10).',
    classes: ['Sorcerer', 'Wizard', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 273 },
  },
  'ray-of-frost': {
    id: 'ray-of-frost',
    name: 'Ray of Frost',
    school: 'Evocation',
    level: 'cantrip',
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'A frigid beam of blue-white light streaks toward a creature within range. Make a ranged spell attack. On a hit, it takes 1d8 cold damage, and its speed is reduced by 10 feet until the start of your next turn. Damage increases at higher levels.',
    classes: ['Sorcerer', 'Wizard', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 310 },
  },
  'shocking-grasp': {
    id: 'shocking-grasp',
    name: 'Shocking Grasp',
    school: 'Evocation',
    level: 'cantrip',
    castingTime: '1 action',
    range: 'Touch',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'Lightning springs from your hand to deliver a shock to a creature you try to touch. Make a melee spell attack against the target. You have advantage if the target is wearing armor made of metal. On a hit, the target takes 1d8 lightning damage, and it can\'t take reactions until the start of its next turn.',
    classes: ['Sorcerer', 'Wizard', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 318 },
  },
  'chill-touch': {
    id: 'chill-touch',
    name: 'Chill Touch',
    school: 'Necromancy',
    level: 'cantrip',
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S',
    duration: '1 round',
    description: 'You create a ghostly, skeletal hand in the space of a creature within range. Make a ranged spell attack. On a hit, the target takes 1d8 necrotic damage, and it can\'t regain hit points until the start of your next turn. If you hit an undead target, it also has disadvantage on attack rolls against you until the end of your next turn.',
    classes: ['Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 254 },
  },
  'vicious-mockery': {
    id: 'vicious-mockery',
    name: 'Vicious Mockery',
    school: 'Enchantment',
    level: 'cantrip',
    castingTime: '1 action',
    range: '60 feet',
    components: 'V',
    duration: 'Instantaneous',
    description: 'You unleash a string of insults laced with subtle enchantments at a creature you can see within range. If the target can hear you (though it need not understand you), it must succeed on a Wisdom saving throw or take 1d4 psychic damage and have disadvantage on the next attack roll it makes before the end of its next turn.',
    classes: ['Bard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 334 },
  },
  'true-strike': {
    id: 'true-strike',
    name: 'True Strike',
    school: 'Divination',
    level: 'cantrip',
    castingTime: '1 action',
    range: 'Self',
    components: 'S',
    duration: 'Concentration, up to 1 round',
    description: 'You extend your hand and point a finger at a target in range. Your magic grants you a brief insight into the target\'s defenses. On your next turn, you gain advantage on your first attack roll against the target, provided that this spell hasn\'t ended.',
    classes: ['Bard', 'Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 333 },
  },
  'spare-the-dying': {
    id: 'spare-the-dying',
    name: 'Spare the Dying',
    school: 'Necromancy',
    level: 'cantrip',
    castingTime: '1 action',
    range: 'Touch',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'You touch a living creature that has 0 hit points. The creature becomes stable. This spell has no effect on undead or constructs.',
    classes: ['Cleric', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 319 },
  },
  'guidance': {
    id: 'guidance',
    name: 'Guidance',
    school: 'Divination',
    level: 'cantrip',
    castingTime: '1 action',
    range: 'Touch',
    components: 'V, S',
    duration: 'Concentration, up to 1 minute',
    description: 'You touch one willing creature. Once before the spell ends, the target can roll a d4 and add the number rolled to one ability check of its choice. It can roll the die before or after making the ability check. The spell then ends.',
    classes: ['Cleric', 'Druid', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 280 },
  },
  'resistance': {
    id: 'resistance',
    name: 'Resistance',
    school: 'Abjuration',
    level: 'cantrip',
    castingTime: '1 action',
    range: 'Touch',
    components: 'V, S, M (a miniature cloak)',
    duration: 'Concentration, up to 1 minute',
    description: 'You touch one willing creature. Once before the spell ends, the target can roll a d4 and add the number rolled to one saving throw of its choice. It can roll the die before or after making the saving throw. The spell then ends.',
    classes: ['Cleric', 'Druid', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 311 },
  },
  'blade-ward': {
    id: 'blade-ward',
    name: 'Blade Ward',
    school: 'Abjuration',
    level: 'cantrip',
    castingTime: '1 action',
    range: 'Self',
    components: 'V, S',
    duration: '1 round',
    description: 'You extend your hand and trace a sigil of warding in the air. Until the end of your next turn, you have resistance against bludgeoning, piercing, and slashing damage dealt by weapon attacks.',
    classes: ['Bard', 'Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 249 },
  },
  'friends': {
    id: 'friends',
    name: 'Friends',
    school: 'Enchantment',
    level: 'cantrip',
    castingTime: '1 action',
    range: 'Self',
    components: 'S, M (a small amount of makeup)',
    duration: 'Concentration, up to 1 minute',
    description: 'For the duration, you have advantage on all Charisma checks directed at one creature of your choice that isn\'t hostile toward you. When the spell ends, the creature realizes that you used magic to influence its mood and becomes hostile toward you.',
    classes: ['Bard', 'Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 276 },
  },
  'toll-the-dead': {
    id: 'toll-the-dead',
    name: 'Toll the Dead',
    school: 'Necromancy',
    level: 'cantrip',
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'You point at one creature you can see within range, and the sound of a dolorous bell fills the air around it for a moment. The target must succeed on a Wisdom saving throw or take 1d8 necrotic damage. If the target is missing any of its hit points, it instead takes 1d12 necrotic damage.',
    classes: ['Cleric', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.XGTE, page: 169 },
  },
  'word-of-radiance': {
    id: 'word-of-radiance',
    name: 'Word of Radiance',
    school: 'Evocation',
    level: 'cantrip',
    castingTime: '1 action',
    range: '5 feet',
    components: 'V, M (a holy symbol)',
    duration: 'Instantaneous',
    description: 'You utter a divine word, and burning radiance erupts from you. Each creature of your choice that you can see within range must succeed on a Constitution saving throw or take 1d6 radiant damage.',
    classes: ['Cleric'],
    sourceBook: { ...SOURCE_BOOKS.XGTE, page: 171 },
  },
  'faerie-fire': {
    id: 'faerie-fire',
    name: 'Faerie Fire',
    school: 'Evocation',
    level: 1,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V',
    duration: 'Concentration, up to 1 minute',
    description: 'Each object in a 20-foot cube within range is outlined in blue, green, or violet light. Any creature in the area when the spell is cast is also outlined if it fails a Dexterity saving throw. Attack rolls against affected creatures have advantage, and the creatures can\'t benefit from being invisible.',
    classes: ['Bard', 'Druid', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 272 },
  },
  'darkness': {
    id: 'darkness',
    name: 'Darkness',
    school: 'Evocation',
    level: 2,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, M (bat fur and a drop of pitch or piece of coal)',
    duration: 'Concentration, up to 10 minutes',
    description: 'Magical darkness spreads from a point you choose within range to fill a 15-foot-radius sphere. Creatures with darkvision can\'t see through this darkness, and nonmagical light can\'t illuminate it.',
    classes: ['Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 262 },
  },
  'thaumaturgy': {
    id: 'thaumaturgy',
    name: 'Thaumaturgy',
    school: 'Transmutation',
    level: 'cantrip',
    castingTime: '1 action',
    range: '30 feet',
    components: 'V',
    duration: 'Up to 1 minute',
    description: 'You manifest a minor wonder, a sign of supernatural power: your voice booms, flames flicker, you cause tremors, create sounds, slam doors, or alter the appearance of your eyes.',
    classes: ['Cleric'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 329 },
  },
  'hellish-rebuke': {
    id: 'hellish-rebuke',
    name: 'Hellish Rebuke',
    school: 'Evocation',
    level: 1,
    castingTime: '1 reaction (when damaged)',
    range: '60 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'The creature that damaged you is surrounded by hellish flames. It must make a Dexterity saving throw, taking 2d10 fire damage on a failed save, or half on success.',
    higherLevels: 'Damage increases by 1d10 for each slot level above 1st.',
    classes: ['Warlock'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 283 },
  },
  'eldritch-blast': {
    id: 'eldritch-blast',
    name: 'Eldritch Blast',
    school: 'Evocation',
    level: 'cantrip',
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'A beam of crackling energy streaks toward a creature within range. Make a ranged spell attack. On hit, the target takes 1d10 force damage. The spell creates additional beams at higher levels: 2 beams at 5th, 3 at 11th, 4 at 17th.',
    classes: ['Warlock'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 270 },
  },
  'hex': {
    id: 'hex',
    name: 'Hex',
    school: 'Enchantment',
    level: 1,
    castingTime: '1 bonus action',
    range: '90 feet',
    components: 'V, S, M (petrified eye of a newt)',
    duration: 'Concentration, up to 1 hour',
    description: 'You curse a creature. Until the spell ends, you deal an extra 1d6 necrotic damage when you hit it with an attack. Choose one ability; the target has disadvantage on checks with that ability. If the target drops to 0 HP, you can use a bonus action to curse a new creature.',
    higherLevels: 'Duration increases: 8 hours at 3rd level, 24 hours at 5th level.',
    classes: ['Warlock'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 283 },
  },
  'armor-of-agathys': {
    id: 'armor-of-agathys',
    name: 'Armor of Agathys',
    school: 'Abjuration',
    level: 1,
    castingTime: '1 action',
    range: 'Self',
    components: 'V, S, M (a cup of water)',
    duration: '1 hour',
    description: 'Spectral frost covers you. You gain 5 temporary HP. If a creature hits you with a melee attack while you have these HP, it takes 5 cold damage.',
    higherLevels: 'Both the temp HP and cold damage increase by 5 for each slot level above 1st.',
    classes: ['Warlock'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 244 },
  },
  // Great Old One expanded spells
  'dissonant-whispers': {
    id: 'dissonant-whispers',
    name: 'Dissonant Whispers',
    school: 'Enchantment',
    level: 1,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V',
    duration: 'Instantaneous',
    description: 'You whisper a discordant melody that only one creature can hear. The target must make a WIS save or take 3d6 psychic damage and immediately use its reaction to move away from you. On success, half damage and no movement.',
    higherLevels: 'Damage increases by 1d6 for each slot level above 1st.',
    classes: ['Bard', 'Warlock'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 266 },
  },
  'tashas-hideous-laughter': {
    id: 'tashas-hideous-laughter',
    name: "Tasha's Hideous Laughter",
    school: 'Enchantment',
    level: 1,
    castingTime: '1 action',
    range: '30 feet',
    components: 'V, S, M (tiny tarts and a feather)',
    duration: 'Concentration, up to 1 minute',
    description: 'A creature falls prone and becomes incapacitated, laughing uncontrollably. It must make a WIS save at the end of each turn and when it takes damage, ending the effect on success.',
    classes: ['Bard', 'Wizard', 'Warlock'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 282 },
  },
  'detect-thoughts': {
    id: 'detect-thoughts',
    name: 'Detect Thoughts',
    school: 'Divination',
    level: 2,
    castingTime: '1 action',
    range: 'Self',
    components: 'V, S, M (a copper piece)',
    duration: 'Concentration, up to 1 minute',
    description: 'You can read the surface thoughts of creatures within 30 feet. You can probe deeper, forcing a WIS save or learning reasoning and emotional state. The target knows you are probing.',
    classes: ['Bard', 'Sorcerer', 'Wizard', 'Warlock'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 263 },
  },
  'phantasmal-force': {
    id: 'phantasmal-force',
    name: 'Phantasmal Force',
    school: 'Illusion',
    level: 2,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S, M (a bit of fleece)',
    duration: 'Concentration, up to 1 minute',
    description: 'You create a phantasmal object or creature visible only to the target. The target rationalizes illogical outcomes and takes 1d6 psychic damage each turn if the illusion is harmful.',
    classes: ['Bard', 'Sorcerer', 'Wizard', 'Warlock'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 305 },
  },
  // Fiend expanded spells
  'burning-hands': {
    id: 'burning-hands',
    name: 'Burning Hands',
    school: 'Evocation',
    level: 1,
    castingTime: '1 action',
    range: 'Self (15-foot cone)',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'A thin sheet of flames shoots from your fingertips. Each creature in a 15-foot cone must make a DEX save, taking 3d6 fire damage on a failed save, or half as much on a success.',
    higherLevels: 'Damage increases by 1d6 for each slot level above 1st.',
    classes: ['Sorcerer', 'Wizard', 'Warlock'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 252 },
  },
  'command': {
    id: 'command',
    name: 'Command',
    school: 'Enchantment',
    level: 1,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V',
    duration: 'Instantaneous',
    description: 'You speak a one-word command to a creature. It must succeed on a WIS save or follow the command on its next turn. Common commands: Approach, Drop, Flee, Grovel, Halt.',
    higherLevels: 'You can affect one additional creature for each slot level above 1st.',
    classes: ['Cleric', 'Paladin', 'Warlock'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 256 },
  },
  'scorching-ray': {
    id: 'scorching-ray',
    name: 'Scorching Ray',
    school: 'Evocation',
    level: 2,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'You create three rays of fire and hurl them at targets within range. Make a ranged spell attack for each ray. On hit, a target takes 2d6 fire damage.',
    higherLevels: 'You create one additional ray for each slot level above 2nd.',
    classes: ['Sorcerer', 'Wizard', 'Warlock'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 316 },
  },
  'fireball': {
    id: 'fireball',
    name: 'Fireball',
    school: 'Evocation',
    level: 3,
    castingTime: '1 action',
    range: '150 feet',
    components: 'V, S, M (a tiny ball of bat guano and sulfur)',
    duration: 'Instantaneous',
    description: 'A bright streak flashes and explodes into a 20-foot-radius sphere of fire. Each creature must make a DEX save, taking 8d6 fire damage on a failed save, or half on success.',
    higherLevels: 'Damage increases by 1d6 for each slot level above 3rd.',
    classes: ['Sorcerer', 'Wizard', 'Warlock'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 274 },
  },
  'sleep': {
    id: 'sleep',
    name: 'Sleep',
    school: 'Enchantment',
    level: 1,
    castingTime: '1 action',
    range: '90 feet',
    components: 'V, S, M (a pinch of sand, rose petals, or a cricket)',
    duration: '1 minute',
    description: 'Roll 5d8; the total is the HP of creatures this spell can affect. Starting with the lowest HP creature, each falls unconscious until the spell ends, they take damage, or someone wakes them.',
    higherLevels: 'Add 2d8 for each slot level above 1st.',
    classes: ['Bard', 'Sorcerer', 'Wizard', 'Warlock'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 319 },
  },
  // === MORE LEVEL 1 SPELLS ===
  'arms-of-hadar': {
    id: 'arms-of-hadar',
    name: 'Arms of Hadar',
    school: 'Conjuration',
    level: 1,
    castingTime: '1 action',
    range: 'Self (10-foot radius)',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'You invoke the power of Hadar, the Dark Hunger. Tendrils of dark energy erupt from you and batter all creatures within 10 feet of you. Each creature must make a Strength saving throw. On a failed save, a target takes 2d6 necrotic damage and can\'t take reactions until its next turn. On a successful save, the creature takes half damage and suffers no other effect.',
    higherLevels: 'The damage increases by 1d6 for each slot level above 1st.',
    classes: ['Warlock'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 244 },
  },
  'witch-bolt': {
    id: 'witch-bolt',
    name: 'Witch Bolt',
    school: 'Evocation',
    level: 1,
    castingTime: '1 action',
    range: '30 feet',
    components: 'V, S, M (a twig from a tree that has been struck by lightning)',
    duration: 'Concentration, up to 1 minute',
    description: 'A beam of crackling, blue energy lances out toward a creature within range, forming a sustained arc of lightning between you and the target. Make a ranged spell attack. On a hit, the target takes 1d12 lightning damage, and on each of your turns for the duration, you can use your action to deal 1d12 lightning damage automatically.',
    higherLevels: 'The initial damage increases by 1d12 for each slot level above 1st.',
    classes: ['Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 338 },
  },
  'shield': {
    id: 'shield',
    name: 'Shield',
    school: 'Abjuration',
    level: 1,
    castingTime: '1 reaction (when hit by an attack or targeted by magic missile)',
    range: 'Self',
    components: 'V, S',
    duration: '1 round',
    description: 'An invisible barrier of magical force appears and protects you. Until the start of your next turn, you have a +5 bonus to AC, including against the triggering attack, and you take no damage from magic missile.',
    classes: ['Sorcerer', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 317 },
  },
  'magic-missile': {
    id: 'magic-missile',
    name: 'Magic Missile',
    school: 'Evocation',
    level: 1,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'You create three glowing darts of magical force. Each dart hits a creature of your choice that you can see within range. A dart deals 1d4+1 force damage to its target. The darts all strike simultaneously, and you can direct them to hit one creature or several.',
    higherLevels: 'You create one additional dart for each slot level above 1st.',
    classes: ['Sorcerer', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 294 },
  },
  'chromatic-orb': {
    id: 'chromatic-orb',
    name: 'Chromatic Orb',
    school: 'Evocation',
    level: 1,
    castingTime: '1 action',
    range: '90 feet',
    components: 'V, S, M (a diamond worth at least 50 gp)',
    duration: 'Instantaneous',
    description: 'You hurl a 4-inch-diameter sphere of energy at a creature that you can see within range. You choose acid, cold, fire, lightning, poison, or thunder for the type of orb you create, and then make a ranged spell attack. On a hit, the creature takes 3d8 damage of the type you chose.',
    higherLevels: 'The damage increases by 1d8 for each slot level above 1st.',
    classes: ['Sorcerer', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 254 },
  },
  'thunderwave': {
    id: 'thunderwave',
    name: 'Thunderwave',
    school: 'Evocation',
    level: 1,
    castingTime: '1 action',
    range: 'Self (15-foot cube)',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'A wave of thunderous force sweeps out from you. Each creature in a 15-foot cube originating from you must make a Constitution saving throw. On a failed save, a creature takes 2d8 thunder damage and is pushed 10 feet away from you. On success, the creature takes half damage and isn\'t pushed.',
    higherLevels: 'The damage increases by 1d8 for each slot level above 1st.',
    classes: ['Bard', 'Druid', 'Sorcerer', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 330 },
  },
  'cure-wounds': {
    id: 'cure-wounds',
    name: 'Cure Wounds',
    school: 'Evocation',
    level: 1,
    castingTime: '1 action',
    range: 'Touch',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'A creature you touch regains a number of hit points equal to 1d8 + your spellcasting ability modifier. This spell has no effect on undead or constructs.',
    higherLevels: 'The healing increases by 1d8 for each slot level above 1st.',
    classes: ['Bard', 'Cleric', 'Druid', 'Paladin', 'Ranger', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 259 },
  },
  'healing-word': {
    id: 'healing-word',
    name: 'Healing Word',
    school: 'Evocation',
    level: 1,
    castingTime: '1 bonus action',
    range: '60 feet',
    components: 'V',
    duration: 'Instantaneous',
    description: 'A creature of your choice that you can see within range regains hit points equal to 1d4 + your spellcasting ability modifier. This spell has no effect on undead or constructs.',
    higherLevels: 'The healing increases by 1d4 for each slot level above 1st.',
    classes: ['Bard', 'Cleric', 'Druid'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 281 },
  },
  'bless': {
    id: 'bless',
    name: 'Bless',
    school: 'Enchantment',
    level: 1,
    castingTime: '1 action',
    range: '30 feet',
    components: 'V, S, M (a sprinkling of holy water)',
    duration: 'Concentration, up to 1 minute',
    description: 'You bless up to three creatures of your choice within range. Whenever a target makes an attack roll or a saving throw before the spell ends, the target can roll a d4 and add the number rolled to the attack roll or saving throw.',
    higherLevels: 'You can target one additional creature for each slot level above 1st.',
    classes: ['Cleric', 'Paladin'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 249 },
  },
  'bane': {
    id: 'bane',
    name: 'Bane',
    school: 'Enchantment',
    level: 1,
    castingTime: '1 action',
    range: '30 feet',
    components: 'V, S, M (a drop of blood)',
    duration: 'Concentration, up to 1 minute',
    description: 'Up to three creatures of your choice within range must make Charisma saving throws. Whenever a target that fails this saving throw makes an attack roll or a saving throw before the spell ends, the target must roll a d4 and subtract the number rolled from the attack roll or saving throw.',
    higherLevels: 'You can target one additional creature for each slot level above 1st.',
    classes: ['Bard', 'Cleric'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 247 },
  },
  'guiding-bolt': {
    id: 'guiding-bolt',
    name: 'Guiding Bolt',
    school: 'Evocation',
    level: 1,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'A flash of light streaks toward a creature of your choice within range. Make a ranged spell attack. On a hit, the target takes 4d6 radiant damage, and the next attack roll made against this target before the end of your next turn has advantage.',
    higherLevels: 'The damage increases by 1d6 for each slot level above 1st.',
    classes: ['Cleric'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 280 },
  },
  'inflict-wounds': {
    id: 'inflict-wounds',
    name: 'Inflict Wounds',
    school: 'Necromancy',
    level: 1,
    castingTime: '1 action',
    range: 'Touch',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'Make a melee spell attack against a creature you can reach. On a hit, the target takes 3d10 necrotic damage.',
    higherLevels: 'The damage increases by 1d10 for each slot level above 1st.',
    classes: ['Cleric'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 287 },
  },
  'sanctuary': {
    id: 'sanctuary',
    name: 'Sanctuary',
    school: 'Abjuration',
    level: 1,
    castingTime: '1 bonus action',
    range: '30 feet',
    components: 'V, S, M (a small silver mirror)',
    duration: '1 minute',
    description: 'You ward a creature within range against attack. Until the spell ends, any creature who targets the warded creature with an attack or a harmful spell must first make a Wisdom saving throw. On a failed save, the creature must choose a new target or lose the attack or spell.',
    classes: ['Cleric', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 315 },
  },
  'protection-from-evil-and-good': {
    id: 'protection-from-evil-and-good',
    name: 'Protection from Evil and Good',
    school: 'Abjuration',
    level: 1,
    castingTime: '1 action',
    range: 'Touch',
    components: 'V, S, M (holy water or powdered silver and iron)',
    duration: 'Concentration, up to 10 minutes',
    description: 'Until the spell ends, one willing creature you touch is protected against aberrations, celestials, elementals, fey, fiends, and undead. Such creatures have disadvantage on attack rolls against the target and cannot charm, frighten, or possess the target.',
    classes: ['Cleric', 'Paladin', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 309 },
  },
  // === LEVEL 2 SPELLS ===
  'hold-person': {
    id: 'hold-person',
    name: 'Hold Person',
    school: 'Enchantment',
    level: 2,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S, M (a small, straight piece of iron)',
    duration: 'Concentration, up to 1 minute',
    description: 'Choose a humanoid that you can see within range. The target must succeed on a Wisdom saving throw or be paralyzed for the duration. At the end of each of its turns, the target can make another Wisdom saving throw. On a success, the spell ends.',
    higherLevels: 'You can target one additional humanoid for each slot level above 2nd.',
    classes: ['Bard', 'Cleric', 'Druid', 'Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 284 },
  },
  'misty-step': {
    id: 'misty-step',
    name: 'Misty Step',
    school: 'Conjuration',
    level: 2,
    castingTime: '1 bonus action',
    range: 'Self',
    components: 'V',
    duration: 'Instantaneous',
    description: 'Briefly surrounded by silvery mist, you teleport up to 30 feet to an unoccupied space that you can see.',
    classes: ['Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 298 },
  },
  'invisibility': {
    id: 'invisibility',
    name: 'Invisibility',
    school: 'Illusion',
    level: 2,
    castingTime: '1 action',
    range: 'Touch',
    components: 'V, S, M (an eyelash encased in gum arabic)',
    duration: 'Concentration, up to 1 hour',
    description: 'A creature you touch becomes invisible until the spell ends. Anything the target is wearing or carrying is invisible as long as it is on the target\'s person. The spell ends for a target that attacks or casts a spell.',
    higherLevels: 'You can target one additional creature for each slot level above 2nd.',
    classes: ['Bard', 'Sorcerer', 'Warlock', 'Wizard', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 288 },
  },
  'mirror-image': {
    id: 'mirror-image',
    name: 'Mirror Image',
    school: 'Illusion',
    level: 2,
    castingTime: '1 action',
    range: 'Self',
    components: 'V, S',
    duration: '1 minute',
    description: 'Three illusory duplicates of yourself appear in your space. Until the spell ends, the duplicates move with you and mimic your actions. When a creature targets you with an attack, roll a d20 to determine whether the attack instead targets one of your duplicates. If you have three duplicates, you must roll a 6 or higher; with two duplicates, an 8 or higher; with one duplicate, an 11 or higher. A duplicate\'s AC equals 10 + your Dexterity modifier. If an attack hits a duplicate, the duplicate is destroyed.',
    classes: ['Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 298 },
  },
  'shatter': {
    id: 'shatter',
    name: 'Shatter',
    school: 'Evocation',
    level: 2,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S, M (a chip of mica)',
    duration: 'Instantaneous',
    description: 'A sudden loud ringing noise, painfully intense, erupts from a point of your choice within range. Each creature in a 10-foot-radius sphere centered on that point must make a Constitution saving throw. A creature takes 3d8 thunder damage on a failed save, or half as much damage on a successful one. A creature made of inorganic material has disadvantage on this saving throw.',
    higherLevels: 'The damage increases by 1d8 for each slot level above 2nd.',
    classes: ['Bard', 'Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 317 },
  },
  'spider-climb': {
    id: 'spider-climb',
    name: 'Spider Climb',
    school: 'Transmutation',
    level: 2,
    castingTime: '1 action',
    range: 'Touch',
    components: 'V, S, M (a drop of bitumen and a spider)',
    duration: 'Concentration, up to 1 hour',
    description: 'Until the spell ends, one willing creature you touch gains the ability to move up, down, and across vertical surfaces and upside down along ceilings, while leaving its hands free. The target also gains a climbing speed equal to its walking speed.',
    classes: ['Sorcerer', 'Warlock', 'Wizard', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 319 },
  },
  'suggestion': {
    id: 'suggestion',
    name: 'Suggestion',
    school: 'Enchantment',
    level: 2,
    castingTime: '1 action',
    range: '30 feet',
    components: 'V, M (a snake\'s tongue and a bit of honeycomb)',
    duration: 'Concentration, up to 8 hours',
    description: 'You suggest a course of activity (limited to a sentence or two) and magically influence a creature you can see within range that can hear and understand you. Creatures that can\'t be charmed are immune. The suggestion must be worded to make the course of action sound reasonable. The creature pursues the course of action you described to the best of its ability.',
    classes: ['Bard', 'Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 323 },
  },
  'spiritual-weapon': {
    id: 'spiritual-weapon',
    name: 'Spiritual Weapon',
    school: 'Evocation',
    level: 2,
    castingTime: '1 bonus action',
    range: '60 feet',
    components: 'V, S',
    duration: '1 minute',
    description: 'You create a floating, spectral weapon within range that lasts for the duration. When you cast the spell, you can make a melee spell attack against a creature within 5 feet of the weapon. On a hit, the target takes force damage equal to 1d8 + your spellcasting ability modifier. As a bonus action, you can move the weapon up to 20 feet and repeat the attack.',
    higherLevels: 'The damage increases by 1d8 for every two slot levels above 2nd.',
    classes: ['Cleric'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 320 },
  },
  // === LEVEL 3 SPELLS ===
  'counterspell': {
    id: 'counterspell',
    name: 'Counterspell',
    school: 'Abjuration',
    level: 3,
    castingTime: '1 reaction (when you see a creature within 60 feet casting a spell)',
    range: '60 feet',
    components: 'S',
    duration: 'Instantaneous',
    description: 'You attempt to interrupt a creature in the process of casting a spell. If the creature is casting a spell of 3rd level or lower, its spell fails and has no effect. If it is casting a spell of 4th level or higher, make an ability check using your spellcasting ability. The DC equals 10 + the spell\'s level. On a success, the creature\'s spell fails and has no effect.',
    higherLevels: 'The interrupted spell has no effect if its level is less than or equal to the level of the spell slot you used.',
    classes: ['Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 259 },
  },
  'dispel-magic': {
    id: 'dispel-magic',
    name: 'Dispel Magic',
    school: 'Abjuration',
    level: 3,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'Choose one creature, object, or magical effect within range. Any spell of 3rd level or lower on the target ends. For each spell of 4th level or higher on the target, make an ability check using your spellcasting ability. The DC equals 10 + the spell\'s level. On a successful check, the spell ends.',
    higherLevels: 'You automatically end the effects of a spell on the target if the spell\'s level is equal to or less than the level of the spell slot you used.',
    classes: ['Bard', 'Cleric', 'Druid', 'Paladin', 'Sorcerer', 'Warlock', 'Wizard', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 265 },
  },
  'fly': {
    id: 'fly',
    name: 'Fly',
    school: 'Transmutation',
    level: 3,
    castingTime: '1 action',
    range: 'Touch',
    components: 'V, S, M (a wing feather from any bird)',
    duration: 'Concentration, up to 10 minutes',
    description: 'You touch a willing creature. The target gains a flying speed of 60 feet for the duration. When the spell ends, the target falls if it is still aloft, unless it can stop the fall.',
    higherLevels: 'You can target one additional creature for each slot level above 3rd.',
    classes: ['Sorcerer', 'Warlock', 'Wizard', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 275 },
  },
  'haste': {
    id: 'haste',
    name: 'Haste',
    school: 'Transmutation',
    level: 3,
    castingTime: '1 action',
    range: '30 feet',
    components: 'V, S, M (a shaving of licorice root)',
    duration: 'Concentration, up to 1 minute',
    description: 'Choose a willing creature that you can see within range. Until the spell ends, the target\'s speed is doubled, it gains a +2 bonus to AC, it has advantage on Dexterity saving throws, and it gains an additional action on each of its turns. When the spell ends, the target can\'t move or take actions until after its next turn.',
    classes: ['Sorcerer', 'Wizard', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 281 },
  },
  'hunger-of-hadar': {
    id: 'hunger-of-hadar',
    name: 'Hunger of Hadar',
    school: 'Conjuration',
    level: 3,
    castingTime: '1 action',
    range: '150 feet',
    components: 'V, S, M (a pickled octopus tentacle)',
    duration: 'Concentration, up to 1 minute',
    description: 'You open a gateway to the dark between the stars, a region infested with unknown horrors. A 20-foot-radius sphere of blackness and bitter cold appears, centered on a point within range. No light, magical or otherwise, can illuminate the area. Creatures fully in the area are blinded. Any creature that starts its turn in the area takes 2d6 cold damage. Any creature that ends its turn in the area must succeed on a Dexterity saving throw or take 2d6 acid damage.',
    classes: ['Warlock'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 286 },
  },
  'hypnotic-pattern': {
    id: 'hypnotic-pattern',
    name: 'Hypnotic Pattern',
    school: 'Illusion',
    level: 3,
    castingTime: '1 action',
    range: '120 feet',
    components: 'S, M (a glowing stick of incense or a crystal vial filled with phosphorescent material)',
    duration: 'Concentration, up to 1 minute',
    description: 'You create a twisting pattern of colors that weaves through the air inside a 30-foot cube within range. Each creature in the area who sees the pattern must make a Wisdom saving throw. On a failed save, the creature becomes charmed for the duration. While charmed, the creature is incapacitated and has a speed of 0. The spell ends for an affected creature if it takes any damage.',
    classes: ['Bard', 'Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 286 },
  },
  'lightning-bolt': {
    id: 'lightning-bolt',
    name: 'Lightning Bolt',
    school: 'Evocation',
    level: 3,
    castingTime: '1 action',
    range: 'Self (100-foot line)',
    components: 'V, S, M (a bit of fur and a rod of amber, crystal, or glass)',
    duration: 'Instantaneous',
    description: 'A stroke of lightning forming a line 100 feet long and 5 feet wide blasts out from you in a direction you choose. Each creature in the line must make a Dexterity saving throw. A creature takes 8d6 lightning damage on a failed save, or half as much damage on a successful one.',
    higherLevels: 'The damage increases by 1d6 for each slot level above 3rd.',
    classes: ['Sorcerer', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 292 },
  },
  'spirit-guardians': {
    id: 'spirit-guardians',
    name: 'Spirit Guardians',
    school: 'Conjuration',
    level: 3,
    castingTime: '1 action',
    range: 'Self (15-foot radius)',
    components: 'V, S, M (a holy symbol)',
    duration: 'Concentration, up to 10 minutes',
    description: 'You call forth spirits to protect you. They flit around you to a distance of 15 feet for the duration. When the spell is cast, you can designate any number of creatures you can see to be unaffected by it. An affected creature\'s speed is halved in the area, and when the creature enters the area for the first time on a turn or starts its turn there, it must make a Wisdom saving throw. On a failed save, the creature takes 3d8 radiant damage (if you are good or neutral) or 3d8 necrotic damage (if you are evil). On a successful save, the creature takes half as much damage.',
    higherLevels: 'The damage increases by 1d8 for each slot level above 3rd.',
    classes: ['Cleric'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 320 },
  },
  'revivify': {
    id: 'revivify',
    name: 'Revivify',
    school: 'Necromancy',
    level: 3,
    castingTime: '1 action',
    range: 'Touch',
    components: 'V, S, M (diamonds worth 300 gp, which the spell consumes)',
    duration: 'Instantaneous',
    description: 'You touch a creature that has died within the last minute. That creature returns to life with 1 hit point. This spell can\'t return to life a creature that has died of old age, nor can it restore any missing body parts.',
    classes: ['Cleric', 'Paladin', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 312 },
  },
  'remove-curse': {
    id: 'remove-curse',
    name: 'Remove Curse',
    school: 'Abjuration',
    level: 3,
    castingTime: '1 action',
    range: 'Touch',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'At your touch, all curses affecting one creature or object end. If the object is a cursed magic item, its curse remains, but the spell breaks its owner\'s attunement to the object so it can be removed or discarded.',
    classes: ['Cleric', 'Paladin', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 311 },
  },
  // === LEVEL 4+ SPELLS (Key ones) ===
  'banishment': {
    id: 'banishment',
    name: 'Banishment',
    school: 'Abjuration',
    level: 4,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S, M (an item distasteful to the target)',
    duration: 'Concentration, up to 1 minute',
    description: 'You attempt to send one creature that you can see within range to another plane of existence. The target must succeed on a Charisma saving throw or be banished. If the target is native to a different plane, it is banished there. If native to the current plane, it goes to a harmless demiplane and is incapacitated. If you concentrate for the full duration and the target is native to another plane, it doesn\'t return.',
    higherLevels: 'You can target one additional creature for each slot level above 4th.',
    classes: ['Cleric', 'Paladin', 'Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 247 },
  },
  'dimension-door': {
    id: 'dimension-door',
    name: 'Dimension Door',
    school: 'Conjuration',
    level: 4,
    castingTime: '1 action',
    range: '500 feet',
    components: 'V',
    duration: 'Instantaneous',
    description: 'You teleport yourself from your current location to any other spot within range. You arrive at exactly the spot desired. It can be a place you can see, one you can visualize, or one you can describe by stating distance and direction. You can bring along objects as long as their weight doesn\'t exceed what you can carry. You can also bring one willing creature of your size or smaller.',
    classes: ['Bard', 'Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 264 },
  },
  'greater-invisibility': {
    id: 'greater-invisibility',
    name: 'Greater Invisibility',
    school: 'Illusion',
    level: 4,
    castingTime: '1 action',
    range: 'Touch',
    components: 'V, S',
    duration: 'Concentration, up to 1 minute',
    description: 'You or a creature you touch becomes invisible until the spell ends. Anything the target is wearing or carrying is invisible as long as it is on the target\'s person.',
    classes: ['Bard', 'Sorcerer', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 280 },
  },
  'polymorph': {
    id: 'polymorph',
    name: 'Polymorph',
    school: 'Transmutation',
    level: 4,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S, M (a caterpillar cocoon)',
    duration: 'Concentration, up to 1 hour',
    description: 'This spell transforms a creature that you can see within range into a new form. An unwilling creature must make a Wisdom saving throw to avoid the effect. The transformation lasts for the duration, or until the target drops to 0 hit points or dies. The new form can be any beast whose challenge rating is equal to or less than the target\'s (or the target\'s level, if it doesn\'t have a challenge rating).',
    classes: ['Bard', 'Druid', 'Sorcerer', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 307 },
  },

  // === LEVEL 5 SPELLS ===
  'animate-objects': {
    id: 'animate-objects',
    name: 'Animate Objects',
    school: 'Transmutation',
    level: 5,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S',
    duration: 'Concentration, up to 1 minute',
    description: 'Objects come to life at your command. Choose up to ten nonmagical objects within range that are not being worn or carried. Medium targets count as two objects, Large targets count as four objects, Huge targets count as eight objects. Each target animates and becomes a creature under your control until the spell ends or until reduced to 0 hit points.',
    higherLevels: 'You can animate two additional objects for each slot level above 5th.',
    classes: ['Bard', 'Sorcerer', 'Wizard', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 245 },
  },
  'antilife-shell': {
    id: 'antilife-shell',
    name: 'Antilife Shell',
    school: 'Abjuration',
    level: 5,
    castingTime: '1 action',
    range: 'Self (10-foot radius)',
    components: 'V, S',
    duration: 'Concentration, up to 1 hour',
    description: 'A shimmering barrier extends out from you in a 10-foot radius and moves with you, remaining centered on you and hedging out creatures other than undead and constructs. The barrier lasts for the duration.',
    classes: ['Druid'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 245 },
  },
  'arcane-hand': {
    id: 'arcane-hand',
    name: 'Arcane Hand',
    school: 'Evocation',
    level: 5,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S, M (an eggshell and a snakeskin glove)',
    duration: 'Concentration, up to 1 minute',
    description: 'You create a Large hand of shimmering, translucent force in an unoccupied space that you can see within range. The hand lasts for the duration, moves at your command, and can push, grapple, punch, or interpose itself. It has AC 20 and HP equal to your hit point maximum.',
    classes: ['Wizard', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 245 },
  },
  'awaken': {
    id: 'awaken',
    name: 'Awaken',
    school: 'Transmutation',
    level: 5,
    castingTime: '8 hours',
    range: 'Touch',
    components: 'V, S, M (an agate worth at least 1,000 gp, which the spell consumes)',
    duration: 'Instantaneous',
    description: 'You touch a Huge or smaller beast or plant with Intelligence 3 or less. The target gains an Intelligence of 10 and the ability to speak one language you know. The awakened creature is charmed by you for 30 days.',
    classes: ['Bard', 'Druid'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 247 },
  },
  'banishing-smite': {
    id: 'banishing-smite',
    name: 'Banishing Smite',
    school: 'Abjuration',
    level: 5,
    castingTime: '1 bonus action',
    range: 'Self',
    components: 'V',
    duration: 'Concentration, up to 1 minute',
    description: 'The next time you hit a creature with a weapon attack before this spell ends, your weapon crackles with force, dealing an extra 5d10 force damage. If this attack reduces the target to 50 hit points or fewer, you banish it.',
    classes: ['Paladin'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 247 },
  },
  'circle-of-power': {
    id: 'circle-of-power',
    name: 'Circle of Power',
    school: 'Abjuration',
    level: 5,
    castingTime: '1 action',
    range: 'Self (30-foot radius)',
    components: 'V',
    duration: 'Concentration, up to 10 minutes',
    description: 'Divine energy radiates from you in a 30-foot radius. Each friendly creature in the area has advantage on saving throws against spells and other magical effects.',
    classes: ['Paladin'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 255 },
  },
  'cloudkill': {
    id: 'cloudkill',
    name: 'Cloudkill',
    school: 'Conjuration',
    level: 5,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S',
    duration: 'Concentration, up to 10 minutes',
    description: 'You create a 20-foot-radius sphere of poisonous, yellow-green fog. When a creature enters the area for the first time or starts its turn there, it must make a Constitution save, taking 5d8 poison damage on a failure, or half on success.',
    higherLevels: 'The damage increases by 1d8 for each slot level above 5th.',
    classes: ['Sorcerer', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 255 },
  },
  'commune': {
    id: 'commune',
    name: 'Commune',
    school: 'Divination',
    level: 5,
    castingTime: '1 minute (ritual)',
    range: 'Self',
    components: 'V, S, M (incense and a vial of holy or unholy water)',
    duration: 'Instantaneous',
    description: 'You contact your deity or a divine proxy and ask up to three questions that can be answered with a yes or no. You receive a correct answer for each question.',
    classes: ['Cleric'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 256 },
  },
  'commune-with-nature': {
    id: 'commune-with-nature',
    name: 'Commune with Nature',
    school: 'Divination',
    level: 5,
    castingTime: '1 minute (ritual)',
    range: 'Self',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'You become one with nature and gain knowledge of the surrounding territory within 3 miles outdoors (or 300 feet underground). You learn up to three facts about terrain, plants, minerals, bodies of water, people, or animals.',
    classes: ['Druid', 'Ranger'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 256 },
  },
  'cone-of-cold': {
    id: 'cone-of-cold',
    name: 'Cone of Cold',
    school: 'Evocation',
    level: 5,
    castingTime: '1 action',
    range: 'Self (60-foot cone)',
    components: 'V, S, M (a small crystal or glass cone)',
    duration: 'Instantaneous',
    description: 'A blast of cold air erupts from your hands. Each creature in a 60-foot cone must make a Constitution save, taking 8d8 cold damage on a failure, or half on success. A creature killed becomes a frozen statue.',
    higherLevels: 'The damage increases by 1d8 for each slot level above 5th.',
    classes: ['Sorcerer', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 257 },
  },
  'conjure-elemental': {
    id: 'conjure-elemental',
    name: 'Conjure Elemental',
    school: 'Conjuration',
    level: 5,
    castingTime: '1 minute',
    range: '90 feet',
    components: 'V, S, M (burning incense for air, soft clay for earth, sulfur and phosphorus for fire, or water and sand for water)',
    duration: 'Concentration, up to 1 hour',
    description: 'You call forth an elemental servant. An elemental of CR 5 or lower appropriate to the area you chose appears in an unoccupied space within 10 feet.',
    higherLevels: 'The CR increases by 1 for each slot level above 5th.',
    classes: ['Druid', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 257 },
  },
  'contact-other-plane': {
    id: 'contact-other-plane',
    name: 'Contact Other Plane',
    school: 'Divination',
    level: 5,
    castingTime: '1 minute (ritual)',
    range: 'Self',
    components: 'V',
    duration: 'Instantaneous',
    description: 'You mentally contact a demigod or other extraplanar entity. Make a DC 15 Intelligence save. On failure, take 6d6 psychic damage and go insane until a long rest. On success, ask up to five questions.',
    classes: ['Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 258 },
  },
  'contagion': {
    id: 'contagion',
    name: 'Contagion',
    school: 'Necromancy',
    level: 5,
    castingTime: '1 action',
    range: 'Touch',
    components: 'V, S',
    duration: '7 days',
    description: 'Your touch inflicts disease. Make a melee spell attack. On hit, the target is poisoned and must make Constitution saves at the end of each turn. Three failures inflict a chosen disease; three successes end the effect.',
    classes: ['Cleric', 'Druid'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 258 },
  },
  'creation': {
    id: 'creation',
    name: 'Creation',
    school: 'Illusion',
    level: 5,
    castingTime: '1 minute',
    range: '30 feet',
    components: 'V, S, M (a tiny piece of matter of the same type)',
    duration: 'Special',
    description: 'You create a nonliving object of vegetable matter within range, up to a 5-foot cube. Duration depends on material: vegetable matter 1 day, stone/crystal 12 hours, precious metals 1 hour, gems 10 minutes, adamantine/mithral 1 minute.',
    higherLevels: 'The cube increases by 5 feet for each slot level above 5th.',
    classes: ['Sorcerer', 'Wizard', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 259 },
  },
  'destructive-wave': {
    id: 'destructive-wave',
    name: 'Destructive Wave',
    school: 'Evocation',
    level: 5,
    castingTime: '1 action',
    range: 'Self (30-foot radius)',
    components: 'V',
    duration: 'Instantaneous',
    description: 'You strike the ground, creating a burst of divine energy. Each creature you choose within 30 feet must succeed on a Constitution save or take 5d6 thunder damage plus 5d6 radiant or necrotic damage and be knocked prone. Half damage and no prone on success.',
    classes: ['Paladin'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 264 },
  },
  'dispel-evil-and-good': {
    id: 'dispel-evil-and-good',
    name: 'Dispel Evil and Good',
    school: 'Abjuration',
    level: 5,
    castingTime: '1 action',
    range: 'Self',
    components: 'V, S, M (holy water or powdered silver and iron)',
    duration: 'Concentration, up to 1 minute',
    description: 'Celestials, elementals, fey, fiends, and undead have disadvantage on attack rolls against you. You can end the spell early to break enchantment or dismiss a creature.',
    classes: ['Cleric', 'Paladin'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 266 },
  },
  'dominate-person': {
    id: 'dominate-person',
    name: 'Dominate Person',
    school: 'Enchantment',
    level: 5,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Concentration, up to 1 minute',
    description: 'A humanoid must succeed on a Wisdom save or be charmed. You have a telepathic link and can issue commands. The target can repeat the save when it takes damage.',
    higherLevels: 'Duration extends: 10 min (6th), 1 hour (7th), 8 hours (8th+).',
    classes: ['Bard', 'Sorcerer', 'Wizard', 'Warlock'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 267 },
  },
  'dream': {
    id: 'dream',
    name: 'Dream',
    school: 'Illusion',
    level: 5,
    castingTime: '1 minute',
    range: 'Special',
    components: 'V, S, M (a handful of sand, a dab of ink, and a writing quill plucked from a sleeping bird)',
    duration: '8 hours',
    description: 'You shape a creature\'s dreams. A messenger enters a trance and can appear in the target\'s dreams, delivering messages or causing nightmares that deal 3d6 psychic damage and prevent rest benefits.',
    classes: ['Bard', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 268 },
  },
  'flame-strike': {
    id: 'flame-strike',
    name: 'Flame Strike',
    school: 'Evocation',
    level: 5,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S, M (a pinch of sulfur)',
    duration: 'Instantaneous',
    description: 'A vertical column of divine fire roars down in a 10-foot-radius, 40-foot-high cylinder. Creatures must make a Dexterity save, taking 4d6 fire damage and 4d6 radiant damage on a failure, or half on success.',
    higherLevels: 'Fire or radiant damage (your choice) increases by 1d6 for each slot level above 5th.',
    classes: ['Cleric'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 274 },
  },
  'geas': {
    id: 'geas',
    name: 'Geas',
    school: 'Enchantment',
    level: 5,
    castingTime: '1 minute',
    range: '60 feet',
    components: 'V',
    duration: '30 days',
    description: 'You place a magical command on a creature. On a failed Wisdom save, it is charmed and takes 5d10 psychic damage each time it acts against your instructions.',
    higherLevels: 'Duration: 1 year (7th-8th), permanent (9th).',
    classes: ['Bard', 'Cleric', 'Druid', 'Paladin', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 278 },
  },
  'greater-restoration': {
    id: 'greater-restoration',
    name: 'Greater Restoration',
    school: 'Abjuration',
    level: 5,
    castingTime: '1 action',
    range: 'Touch',
    components: 'V, S, M (diamond dust worth at least 100 gp, which the spell consumes)',
    duration: 'Instantaneous',
    description: 'You imbue a creature with positive energy to undo a debilitating effect: reduce exhaustion by one level, or end charmed, petrified, cursed, ability score reduction, or hit point maximum reduction.',
    classes: ['Bard', 'Cleric', 'Druid', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 280 },
  },
  'hallow': {
    id: 'hallow',
    name: 'Hallow',
    school: 'Evocation',
    level: 5,
    castingTime: '24 hours',
    range: 'Touch',
    components: 'V, S, M (herbs, oils, and incense worth at least 1,000 gp, which the spell consumes)',
    duration: 'Until dispelled',
    description: 'You infuse an area up to 60-foot radius with holy power. Celestials, elementals, fey, fiends, and undead can\'t enter, and you can apply additional effects like Courage, Darkness, Daylight, or Silence.',
    classes: ['Cleric'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 281 },
  },
  'hold-monster': {
    id: 'hold-monster',
    name: 'Hold Monster',
    school: 'Enchantment',
    level: 5,
    castingTime: '1 action',
    range: '90 feet',
    components: 'V, S, M (a small, straight piece of iron)',
    duration: 'Concentration, up to 1 minute',
    description: 'A creature must succeed on a Wisdom save or be paralyzed. At the end of each turn, it can repeat the save. Unlike Hold Person, this works on any creature type except undead.',
    higherLevels: 'Target one additional creature for each slot level above 5th.',
    classes: ['Bard', 'Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 284 },
  },
  'insect-plague': {
    id: 'insect-plague',
    name: 'Insect Plague',
    school: 'Conjuration',
    level: 5,
    castingTime: '1 action',
    range: '300 feet',
    components: 'V, S, M (a few grains of sugar, some kernels of grain, and a smear of fat)',
    duration: 'Concentration, up to 10 minutes',
    description: 'Swarming locusts fill a 20-foot-radius sphere. The area is lightly obscured. Creatures entering or starting their turn there must make a Constitution save, taking 4d10 piercing damage on failure, half on success.',
    higherLevels: 'Damage increases by 1d10 for each slot level above 5th.',
    classes: ['Cleric', 'Druid', 'Sorcerer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 287 },
  },
  'legend-lore': {
    id: 'legend-lore',
    name: 'Legend Lore',
    school: 'Divination',
    level: 5,
    castingTime: '10 minutes',
    range: 'Self',
    components: 'V, S, M (incense worth 250 gp and four ivory strips worth 50 gp each, consumed)',
    duration: 'Instantaneous',
    description: 'Name or describe a person, place, or object. The spell brings to your mind a brief summary of significant lore about it, including current tales, forgotten stories, or secret lore.',
    classes: ['Bard', 'Cleric', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 291 },
  },
  'mass-cure-wounds': {
    id: 'mass-cure-wounds',
    name: 'Mass Cure Wounds',
    school: 'Evocation',
    level: 5,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'A wave of healing energy washes out from a point you choose. Up to six creatures in a 30-foot-radius sphere regain hit points equal to 3d8 + your spellcasting modifier. No effect on undead or constructs.',
    higherLevels: 'Healing increases by 1d8 for each slot level above 5th.',
    classes: ['Bard', 'Cleric', 'Druid'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 295 },
  },
  'mislead': {
    id: 'mislead',
    name: 'Mislead',
    school: 'Illusion',
    level: 5,
    castingTime: '1 action',
    range: 'Self',
    components: 'S',
    duration: 'Concentration, up to 1 hour',
    description: 'You become invisible while an illusory double appears where you stood. You can move and control the double, making it gesture, speak, and behave as you choose. Invisibility ends if you attack or cast a spell.',
    classes: ['Bard', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 298 },
  },
  'modify-memory': {
    id: 'modify-memory',
    name: 'Modify Memory',
    school: 'Enchantment',
    level: 5,
    castingTime: '1 action',
    range: '30 feet',
    components: 'V, S',
    duration: 'Concentration, up to 1 minute',
    description: 'You reshape a creature\'s memories of an event within the last 24 hours. The target must fail a Wisdom save and becomes charmed while you alter the memory.',
    higherLevels: 'Affect memories from 7 days (6th), 30 days (7th), 1 year (8th), or any time (9th) ago.',
    classes: ['Bard', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 299 },
  },
  'passwall': {
    id: 'passwall',
    name: 'Passwall',
    school: 'Transmutation',
    level: 5,
    castingTime: '1 action',
    range: '30 feet',
    components: 'V, S, M (a pinch of sesame seeds)',
    duration: '1 hour',
    description: 'A passage appears on a wooden, plaster, or stone surface within range. You choose dimensions up to 5 feet wide, 8 feet tall, and 20 feet deep. The passage creates no instability in the surrounding structure.',
    classes: ['Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 304 },
  },
  'planar-binding': {
    id: 'planar-binding',
    name: 'Planar Binding',
    school: 'Abjuration',
    level: 5,
    castingTime: '1 hour',
    range: '60 feet',
    components: 'V, S, M (a jewel worth at least 1,000 gp, which the spell consumes)',
    duration: '24 hours',
    description: 'You bind a celestial, elemental, fey, or fiend to your service. The creature must fail a Charisma save or serve you for the duration.',
    higherLevels: 'Duration: 10 days (6th), 30 days (7th), 180 days (8th), a year and a day (9th).',
    classes: ['Bard', 'Cleric', 'Druid', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 306 },
  },
  'raise-dead': {
    id: 'raise-dead',
    name: 'Raise Dead',
    school: 'Necromancy',
    level: 5,
    castingTime: '1 hour',
    range: 'Touch',
    components: 'V, S, M (a diamond worth at least 500 gp, which the spell consumes)',
    duration: 'Instantaneous',
    description: 'You return a dead creature to life if it died within the last 10 days. The creature returns with 1 hit point. This spell neutralizes poisons and cures nonmagical diseases but doesn\'t restore missing body parts.',
    classes: ['Bard', 'Cleric', 'Paladin'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 310 },
  },
  'reincarnate': {
    id: 'reincarnate',
    name: 'Reincarnate',
    school: 'Transmutation',
    level: 5,
    castingTime: '1 hour',
    range: 'Touch',
    components: 'V, S, M (rare oils and unguents worth at least 1,000 gp, which the spell consumes)',
    duration: 'Instantaneous',
    description: 'You touch a dead humanoid or a piece of one. If dead no longer than 10 days, the magic forms a new adult body and calls the soul to enter it. The new body\'s race is determined randomly.',
    classes: ['Druid'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 311 },
  },
  'scrying': {
    id: 'scrying',
    name: 'Scrying',
    school: 'Divination',
    level: 5,
    castingTime: '10 minutes',
    range: 'Self',
    components: 'V, S, M (a focus worth at least 1,000 gp, such as a crystal ball or silver mirror)',
    duration: 'Concentration, up to 10 minutes',
    description: 'You see and hear a creature on the same plane. The target makes a Wisdom save, modified by your familiarity and physical connection. On failure, you can observe for the duration.',
    classes: ['Bard', 'Cleric', 'Druid', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 315 },
  },
  'seeming': {
    id: 'seeming',
    name: 'Seeming',
    school: 'Illusion',
    level: 5,
    castingTime: '1 action',
    range: '30 feet',
    components: 'V, S',
    duration: '8 hours',
    description: 'You change the appearance of any number of creatures within range. Unwilling targets can make a Charisma save. The changes fail to hold up to physical inspection.',
    classes: ['Bard', 'Sorcerer', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 316 },
  },
  'steel-wind-strike': {
    id: 'steel-wind-strike',
    name: 'Steel Wind Strike',
    school: 'Conjuration',
    level: 5,
    castingTime: '1 action',
    range: '30 feet',
    components: 'S, M (a melee weapon worth at least 1 sp)',
    duration: 'Instantaneous',
    description: 'You vanish and strike like the wind. Make a melee spell attack against up to five creatures. On a hit, a target takes 6d10 force damage. You then teleport to within 5 feet of one target.',
    classes: ['Ranger', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.XGTE, page: 166 },
  },
  'swift-quiver': {
    id: 'swift-quiver',
    name: 'Swift Quiver',
    school: 'Transmutation',
    level: 5,
    castingTime: '1 bonus action',
    range: 'Touch',
    components: 'V, S, M (a quiver containing at least one piece of ammunition)',
    duration: 'Concentration, up to 1 minute',
    description: 'Your quiver produces endless nonmagical ammunition. On each turn, you can use a bonus action to make two attacks with a weapon that uses ammunition from the quiver.',
    classes: ['Ranger'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 324 },
  },
  'synaptic-static': {
    id: 'synaptic-static',
    name: 'Synaptic Static',
    school: 'Enchantment',
    level: 5,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'Psychic energy explodes in a 20-foot radius. Creatures with Intelligence 3+ must make an Intelligence save, taking 8d6 psychic damage on failure (half on success). Failed saves also cause muddled thoughts for 1 minute.',
    classes: ['Bard', 'Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.XGTE, page: 167 },
  },
  'telekinesis': {
    id: 'telekinesis',
    name: 'Telekinesis',
    school: 'Transmutation',
    level: 5,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Concentration, up to 10 minutes',
    description: 'You can move or manipulate creatures or objects by thought. Each round, you can exert your will on one target. Creatures can be moved up to 30 feet and must contest your check with Strength.',
    classes: ['Sorcerer', 'Wizard', 'Warlock'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 326 },
  },
  'teleportation-circle': {
    id: 'teleportation-circle',
    name: 'Teleportation Circle',
    school: 'Conjuration',
    level: 5,
    castingTime: '1 minute',
    range: '10 feet',
    components: 'V, M (rare chalks and inks worth 50 gp, consumed)',
    duration: '1 round',
    description: 'You draw a 10-foot-diameter circle that links to a permanent teleportation circle whose sigil sequence you know. A portal opens until the end of your next turn.',
    classes: ['Bard', 'Sorcerer', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 327 },
  },
  'tree-stride': {
    id: 'tree-stride',
    name: 'Tree Stride',
    school: 'Conjuration',
    level: 5,
    castingTime: '1 action',
    range: 'Self',
    components: 'V, S',
    duration: 'Concentration, up to 1 minute',
    description: 'You can enter a tree and move from inside it to another tree of the same kind within 500 feet. You instantly know the location of all such trees within range.',
    classes: ['Druid', 'Ranger'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 332 },
  },
  'wall-of-force': {
    id: 'wall-of-force',
    name: 'Wall of Force',
    school: 'Evocation',
    level: 5,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S, M (a pinch of powder made by crushing a clear gemstone)',
    duration: 'Concentration, up to 10 minutes',
    description: 'An invisible wall of force springs into existence. It can be horizontal, vertical, or angled. The wall is immune to all damage and can\'t be dispelled. A disintegrate spell destroys it instantly.',
    classes: ['Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 336 },
  },
  'wall-of-stone': {
    id: 'wall-of-stone',
    name: 'Wall of Stone',
    school: 'Evocation',
    level: 5,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S, M (a small block of granite)',
    duration: 'Concentration, up to 10 minutes',
    description: 'A nonmagical wall of solid stone springs into existence. The wall is 6 inches thick and composed of ten 10-foot-by-10-foot panels. Each panel must be contiguous with another.',
    classes: ['Druid', 'Sorcerer', 'Wizard', 'Artificer'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 337 },
  },
  'wrath-of-nature': {
    id: 'wrath-of-nature',
    name: 'Wrath of Nature',
    school: 'Evocation',
    level: 5,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S',
    duration: 'Concentration, up to 1 minute',
    description: 'You call out to spirits of nature. Trees, rocks, and grasses in a 60-foot cube become animated. Trees attack enemies, rocks create difficult terrain, and grasses restrain creatures.',
    classes: ['Druid', 'Ranger'],
    sourceBook: { ...SOURCE_BOOKS.XGTE, page: 171 },
  },

  // === ADDITIONAL CANTRIPS ===
  'booming-blade': {
    id: 'booming-blade',
    name: 'Booming Blade',
    school: 'Evocation',
    level: 'cantrip',
    castingTime: '1 action',
    range: 'Self (5-foot radius)',
    components: 'S, M (a melee weapon worth at least 1 sp)',
    duration: 'Instantaneous',
    description: 'You brandish the weapon and make a melee attack with it. On a hit, the target suffers the weapon attack\'s normal effects and becomes sheathed in booming energy. If the target willingly moves 5+ feet before your next turn, it takes 1d8 thunder damage.',
    higherLevels: 'At 5th level, the attack deals an extra 1d8 thunder damage, and the moving damage increases to 2d8. Both increase again at 11th (2d8/3d8) and 17th (3d8/4d8) level.',
    classes: ['Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.TCOE, page: 106 },
  },
  'green-flame-blade': {
    id: 'green-flame-blade',
    name: 'Green-Flame Blade',
    school: 'Evocation',
    level: 'cantrip',
    castingTime: '1 action',
    range: 'Self (5-foot radius)',
    components: 'S, M (a melee weapon worth at least 1 sp)',
    duration: 'Instantaneous',
    description: 'You brandish the weapon and make a melee attack. On a hit, the target suffers the weapon attack\'s normal effects, and green fire leaps to a different creature within 5 feet, dealing fire damage equal to your spellcasting modifier.',
    higherLevels: 'At 5th level, the attack deals an extra 1d8 fire damage, and the leap damage becomes 1d8 + modifier. Both increase at 11th (2d8) and 17th (3d8) level.',
    classes: ['Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.TCOE, page: 107 },
  },
  'sword-burst': {
    id: 'sword-burst',
    name: 'Sword Burst',
    school: 'Conjuration',
    level: 'cantrip',
    castingTime: '1 action',
    range: 'Self (5-foot radius)',
    components: 'V',
    duration: 'Instantaneous',
    description: 'You create a momentary circle of spectral blades that sweep around you. Each creature within 5 feet of you must succeed on a Dexterity saving throw or take 1d6 force damage.',
    higherLevels: 'The damage increases by 1d6 at 5th level (2d6), 11th level (3d6), and 17th level (4d6).',
    classes: ['Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.TCOE, page: 115 },
  },
  'mind-sliver': {
    id: 'mind-sliver',
    name: 'Mind Sliver',
    school: 'Enchantment',
    level: 'cantrip',
    castingTime: '1 action',
    range: '60 feet',
    components: 'V',
    duration: 'Instantaneous',
    description: 'You drive a disorienting spike of psychic energy into the mind of one creature. The target must make an Intelligence saving throw. On a failure, it takes 1d6 psychic damage and subtracts 1d4 from the next saving throw it makes before the end of your next turn.',
    higherLevels: 'The damage increases by 1d6 at 5th level (2d6), 11th level (3d6), and 17th level (4d6).',
    classes: ['Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.TCOE, page: 108 },
  },
  'create-bonfire': {
    id: 'create-bonfire',
    name: 'Create Bonfire',
    school: 'Conjuration',
    level: 'cantrip',
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Concentration, up to 1 minute',
    description: 'You create a bonfire on ground that you can see within range. Any creature in the bonfire\'s space when you cast the spell must make a Dexterity saving throw or take 1d8 fire damage. A creature must also make the save when it moves into the bonfire\'s space for the first time on a turn.',
    higherLevels: 'The damage increases by 1d8 at 5th level (2d8), 11th level (3d8), and 17th level (4d8).',
    classes: ['Druid', 'Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.XGTE, page: 152 },
  },
  'frostbite': {
    id: 'frostbite',
    name: 'Frostbite',
    school: 'Evocation',
    level: 'cantrip',
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'You cause numbing frost to form on one creature that you can see within range. The target must make a Constitution saving throw. On a failed save, the target takes 1d6 cold damage, and it has disadvantage on the next weapon attack roll it makes before the end of its next turn.',
    higherLevels: 'The damage increases by 1d6 at 5th level (2d6), 11th level (3d6), and 17th level (4d6).',
    classes: ['Druid', 'Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.XGTE, page: 156 },
  },
  'infestation': {
    id: 'infestation',
    name: 'Infestation',
    school: 'Conjuration',
    level: 'cantrip',
    castingTime: '1 action',
    range: '30 feet',
    components: 'V, S, M (a living flea)',
    duration: 'Instantaneous',
    description: 'You cause a cloud of mites, fleas, and other parasites to appear momentarily on one creature. The target must make a Constitution saving throw or take 1d6 poison damage and move 5 feet in a random direction.',
    higherLevels: 'The damage increases by 1d6 at 5th level (2d6), 11th level (3d6), and 17th level (4d6).',
    classes: ['Druid', 'Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.XGTE, page: 158 },
  },
  'primal-savagery': {
    id: 'primal-savagery',
    name: 'Primal Savagery',
    school: 'Transmutation',
    level: 'cantrip',
    castingTime: '1 action',
    range: 'Self',
    components: 'S',
    duration: 'Instantaneous',
    description: 'You channel primal magic to cause your teeth or fingernails to sharpen, ready to deliver a corrosive attack. Make a melee spell attack against one creature within 5 feet of you. On a hit, the target takes 1d10 acid damage.',
    higherLevels: 'The damage increases by 1d10 at 5th level (2d10), 11th level (3d10), and 17th level (4d10).',
    classes: ['Druid'],
    sourceBook: { ...SOURCE_BOOKS.XGTE, page: 163 },
  },
  'thunderclap': {
    id: 'thunderclap',
    name: 'Thunderclap',
    school: 'Evocation',
    level: 'cantrip',
    castingTime: '1 action',
    range: 'Self (5-foot radius)',
    components: 'S',
    duration: 'Instantaneous',
    description: 'You create a burst of thunderous sound that can be heard up to 100 feet away. Each creature within range, other than you, must make a Constitution saving throw or take 1d6 thunder damage.',
    higherLevels: 'The damage increases by 1d6 at 5th level (2d6), 11th level (3d6), and 17th level (4d6).',
    classes: ['Bard', 'Druid', 'Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.XGTE, page: 168 },
  },
  'druidcraft': {
    id: 'druidcraft',
    name: 'Druidcraft',
    school: 'Transmutation',
    level: 'cantrip',
    castingTime: '1 action',
    range: '30 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'You create a tiny, harmless sensory effect that predicts the weather, make a flower blossom or leaf bud open, create a sensory effect like falling leaves, or instantly light or snuff out a candle, torch, or small campfire.',
    classes: ['Druid'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 268 },
  },
  'produce-flame': {
    id: 'produce-flame',
    name: 'Produce Flame',
    school: 'Conjuration',
    level: 'cantrip',
    castingTime: '1 action',
    range: 'Self',
    components: 'V, S',
    duration: '10 minutes',
    description: 'A flickering flame appears in your hand. It sheds bright light in a 10-foot radius and dim light for an additional 10 feet. You can hurl the flame at a creature within 30 feet, making a ranged spell attack that deals 1d8 fire damage.',
    higherLevels: 'The damage increases by 1d8 at 5th level (2d8), 11th level (3d8), and 17th level (4d8).',
    classes: ['Druid'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 308 },
  },
  'shillelagh': {
    id: 'shillelagh',
    name: 'Shillelagh',
    school: 'Transmutation',
    level: 'cantrip',
    castingTime: '1 bonus action',
    range: 'Touch',
    components: 'V, S, M (mistletoe, a shamrock leaf, and a club or quarterstaff)',
    duration: '1 minute',
    description: 'The wood of a club or quarterstaff you hold is imbued with nature\'s power. For the duration, you can use your spellcasting ability instead of Strength for attack and damage rolls, and the weapon\'s damage die becomes a d8.',
    classes: ['Druid'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 318 },
  },
  'thorn-whip': {
    id: 'thorn-whip',
    name: 'Thorn Whip',
    school: 'Transmutation',
    level: 'cantrip',
    castingTime: '1 action',
    range: '30 feet',
    components: 'V, S, M (the stem of a plant with thorns)',
    duration: 'Instantaneous',
    description: 'You create a long, vine-like whip covered in thorns that lashes out at your command. Make a melee spell attack against the target. If the attack hits, the creature takes 1d6 piercing damage, and if it is Large or smaller, you pull it up to 10 feet closer to you.',
    higherLevels: 'The damage increases by 1d6 at 5th level (2d6), 11th level (3d6), and 17th level (4d6).',
    classes: ['Druid'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 330 },
  },
  'encode-thoughts': {
    id: 'encode-thoughts',
    name: 'Encode Thoughts',
    school: 'Enchantment',
    level: 'cantrip',
    castingTime: '1 action',
    range: 'Self',
    components: 'S',
    duration: '8 hours',
    description: 'You pull a memory, an idea, or a message from your mind and transform it into a tangible string of glowing energy called a thought strand. The thought strand appears in your hand and can be stored or given to another creature.',
    classes: ['Wizard'],
    sourceBook: { ...SOURCE_BOOKS.GGR, page: 47 },
  },
  'sapping-sting': {
    id: 'sapping-sting',
    name: 'Sapping Sting',
    school: 'Necromancy',
    level: 'cantrip',
    castingTime: '1 action',
    range: '30 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'You sap the vitality of one creature you can see in range. The target must succeed on a Constitution saving throw or take 1d4 necrotic damage and fall prone.',
    higherLevels: 'The damage increases by 1d4 at 5th level (2d4), 11th level (3d4), and 17th level (4d4).',
    classes: ['Wizard'],
    sourceBook: { ...SOURCE_BOOKS.EGW, page: 189 },
  },
  'message': {
    id: 'message',
    name: 'Message',
    school: 'Transmutation',
    level: 'cantrip',
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S, M (a short piece of copper wire)',
    duration: '1 round',
    description: 'You point your finger toward a creature within range and whisper a message. The target (and only the target) hears the message and can reply in a whisper that only you can hear. You can cast this spell through solid objects if you are familiar with the target.',
    classes: ['Bard', 'Sorcerer', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 297 },
  },
  'poison-spray': {
    id: 'poison-spray',
    name: 'Poison Spray',
    school: 'Conjuration',
    level: 'cantrip',
    castingTime: '1 action',
    range: '10 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'You extend your hand toward a creature you can see within range and project a puff of noxious gas from your palm. The creature must succeed on a Constitution saving throw or take 1d12 poison damage.',
    higherLevels: 'The damage increases by 1d12 at 5th level (2d12), 11th level (3d12), and 17th level (4d12).',
    classes: ['Druid', 'Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 307 },
  },

  // === LEVEL 6 SPELLS ===
  'arcane-gate': {
    id: 'arcane-gate',
    name: 'Arcane Gate',
    school: 'Conjuration',
    level: 6,
    castingTime: '1 action',
    range: '500 feet',
    components: 'V, S',
    duration: 'Concentration, up to 10 minutes',
    description: 'You create linked teleportation portals that remain open for the duration. Choose two points on the ground within range, one within 10 feet of you and one within 500 feet. A circular portal opens at each point. Any creature or object entering one portal exits the other as if they were adjacent.',
    classes: ['Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 245 },
  },
  'blade-barrier': {
    id: 'blade-barrier',
    name: 'Blade Barrier',
    school: 'Evocation',
    level: 6,
    castingTime: '1 action',
    range: '90 feet',
    components: 'V, S',
    duration: 'Concentration, up to 10 minutes',
    description: 'You create a vertical wall of whirling, razor-sharp blades made of magical energy. The wall can be up to 100 feet long, 20 feet high, and 5 feet thick. When a creature enters the wall for the first time or starts its turn there, it must make a Dexterity save, taking 6d10 slashing damage on failure, or half on success.',
    classes: ['Cleric'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 248 },
  },
  'chain-lightning': {
    id: 'chain-lightning',
    name: 'Chain Lightning',
    school: 'Evocation',
    level: 6,
    castingTime: '1 action',
    range: '150 feet',
    components: 'V, S, M (a bit of fur, a piece of amber, glass, or crystal rod, and three silver pins)',
    duration: 'Instantaneous',
    description: 'You create a bolt of lightning that arcs toward a target within range. Three bolts then leap from that target to up to three other targets, each within 30 feet of the first. Each target must make a Dexterity save, taking 10d8 lightning damage on failure, or half on success.',
    higherLevels: 'One additional bolt leaps from the first target for each slot level above 6th.',
    classes: ['Sorcerer', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 254 },
  },
  'circle-of-death': {
    id: 'circle-of-death',
    name: 'Circle of Death',
    school: 'Necromancy',
    level: 6,
    castingTime: '1 action',
    range: '150 feet',
    components: 'V, S, M (the powder of a crushed black pearl worth at least 500 gp)',
    duration: 'Instantaneous',
    description: 'A sphere of negative energy ripples out in a 60-foot-radius sphere from a point within range. Each creature in that area must make a Constitution saving throw. A target takes 8d6 necrotic damage on a failed save, or half on success.',
    higherLevels: 'The damage increases by 2d6 for each slot level above 6th.',
    classes: ['Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 255 },
  },
  'conjure-fey': {
    id: 'conjure-fey',
    name: 'Conjure Fey',
    school: 'Conjuration',
    level: 6,
    castingTime: '1 minute',
    range: '90 feet',
    components: 'V, S',
    duration: 'Concentration, up to 1 hour',
    description: 'You summon a fey creature of challenge rating 6 or lower, or a fey spirit that takes the form of a beast of CR 6 or lower. It appears in an unoccupied space you can see within range and is friendly to you and your companions.',
    higherLevels: 'The CR of the summoned creature increases by 1 for each slot level above 6th.',
    classes: ['Druid', 'Warlock'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 257 },
  },
  'contingency': {
    id: 'contingency',
    name: 'Contingency',
    school: 'Evocation',
    level: 6,
    castingTime: '10 minutes',
    range: 'Self',
    components: 'V, S, M (a statuette of yourself carved from ivory and decorated with gems worth at least 1,500 gp)',
    duration: '10 days',
    description: 'You cast a spell of 5th level or lower with a casting time of 1 action and store it. Describe the circumstance that will trigger the spell. When that occurs, the contingent spell activates. You can have only one contingency active at a time.',
    classes: ['Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 258 },
  },
  'create-undead': {
    id: 'create-undead',
    name: 'Create Undead',
    school: 'Necromancy',
    level: 6,
    castingTime: '1 minute',
    range: '10 feet',
    components: 'V, S, M (one clay pot filled with grave dirt, one clay pot filled with brackish water, and one 150 gp black onyx stone for each corpse)',
    duration: 'Instantaneous',
    description: 'You can cast this spell only at night. Choose up to three corpses of Medium or Small humanoids within range. Each corpse becomes a ghoul under your control. You can issue mental commands to your undead if they are within 120 feet.',
    higherLevels: 'At 8th level, you can create ghasts. At 9th level, you can create wights or mummies.',
    classes: ['Cleric', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 259 },
  },
  'disintegrate': {
    id: 'disintegrate',
    name: 'Disintegrate',
    school: 'Transmutation',
    level: 6,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S, M (a lodite lodestone and a pinch of dust)',
    duration: 'Instantaneous',
    description: 'A thin green ray springs from your pointing finger. The target must make a Dexterity save. On failure, it takes 10d6+40 force damage. If this reduces the target to 0 HP, it is disintegrated, leaving only fine gray dust. A disintegrated creature can only be restored by true resurrection or wish.',
    higherLevels: 'The damage increases by 3d6 for each slot level above 6th.',
    classes: ['Sorcerer', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 266 },
  },
  'eyebite': {
    id: 'eyebite',
    name: 'Eyebite',
    school: 'Necromancy',
    level: 6,
    castingTime: '1 action',
    range: 'Self',
    components: 'V, S',
    duration: 'Concentration, up to 1 minute',
    description: 'For the duration, your eyes become an inky void. One creature within 60 feet must succeed on a Wisdom save or be affected by one of the following: Asleep (unconscious), Panicked (frightened and must Dash away), or Sickened (disadvantage on attacks and ability checks). You can use your action each turn to target another creature.',
    classes: ['Bard', 'Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 271 },
  },
  'find-the-path': {
    id: 'find-the-path',
    name: 'Find the Path',
    school: 'Divination',
    level: 6,
    castingTime: '1 minute',
    range: 'Self',
    components: 'V, S, M (a set of divinatory tools worth 100 gp and an object from the location you wish to find)',
    duration: 'Concentration, up to 1 day',
    description: 'This spell allows you to find the shortest, most direct physical route to a specific fixed location that you are familiar with on the same plane of existence. The spell fails if the destination is in a different plane or if it moves.',
    classes: ['Bard', 'Cleric', 'Druid'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 273 },
  },
  'flesh-to-stone': {
    id: 'flesh-to-stone',
    name: 'Flesh to Stone',
    school: 'Transmutation',
    level: 6,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S, M (a pinch of lime, water, and earth)',
    duration: 'Concentration, up to 1 minute',
    description: 'You attempt to turn one creature into stone. The target must make a Constitution save. On failure, it is restrained as its flesh begins to harden. It must repeat the save at the end of each turn. Three failures mean it is petrified for the duration. Three successes mean the spell ends.',
    classes: ['Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 274 },
  },
  'freezing-sphere': {
    id: 'freezing-sphere',
    name: 'Freezing Sphere',
    school: 'Evocation',
    level: 6,
    castingTime: '1 action',
    range: '300 feet',
    components: 'V, S, M (a small crystal sphere)',
    duration: 'Instantaneous',
    description: 'A frigid globe of cold energy streaks from your fingertips to a point of your choice within range, where it explodes in a 60-foot-radius sphere. Each creature within the area must make a Constitution save, taking 10d6 cold damage on a failed save, or half on success.',
    higherLevels: 'The damage increases by 1d6 for each slot level above 6th.',
    classes: ['Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 276 },
  },
  'globe-of-invulnerability': {
    id: 'globe-of-invulnerability',
    name: 'Globe of Invulnerability',
    school: 'Abjuration',
    level: 6,
    castingTime: '1 action',
    range: 'Self (10-foot radius)',
    components: 'V, S, M (a glass or crystal bead that shatters when the spell ends)',
    duration: 'Concentration, up to 1 minute',
    description: 'An immobile, faintly shimmering barrier springs into existence in a 10-foot radius around you and remains for the duration. Any spell of 5th level or lower cast from outside the barrier can\'t affect creatures or objects within it.',
    higherLevels: 'The barrier blocks spells of one level higher for each slot level above 6th.',
    classes: ['Sorcerer', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 279 },
  },
  'guards-and-wards': {
    id: 'guards-and-wards',
    name: 'Guards and Wards',
    school: 'Abjuration',
    level: 6,
    castingTime: '10 minutes',
    range: 'Touch',
    components: 'V, S, M (burning incense, a small measure of brimite and garlic, a thread of silk, and a small silver rod worth at least 10 gp)',
    duration: '24 hours',
    description: 'You create a ward that protects up to 2,500 square feet of floor space. The warded area can be up to 20 feet tall. Effects include: corridors filled with fog, magic-locked doors, webs in stairways, and dancing lights in corridors.',
    classes: ['Bard', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 280 },
  },
  'harm': {
    id: 'harm',
    name: 'Harm',
    school: 'Necromancy',
    level: 6,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'You unleash a virulent disease on a creature that you can see within range. The target must make a Constitution saving throw. On failure, it takes 14d6 necrotic damage, or half on success. The damage can\'t reduce the target\'s HP below 1. If the target fails the save, its HP maximum is reduced for 1 hour by an amount equal to the necrotic damage it took.',
    classes: ['Cleric'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 281 },
  },
  'heal': {
    id: 'heal',
    name: 'Heal',
    school: 'Evocation',
    level: 6,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'Choose a creature that you can see within range. A surge of positive energy washes through the creature, causing it to regain 70 hit points. This spell also ends blindness, deafness, and any diseases affecting the target.',
    higherLevels: 'The healing increases by 10 for each slot level above 6th.',
    classes: ['Cleric', 'Druid'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 282 },
  },
  'heroes-feast': {
    id: 'heroes-feast',
    name: "Heroes' Feast",
    school: 'Conjuration',
    level: 6,
    castingTime: '10 minutes',
    range: '30 feet',
    components: 'V, S, M (a gem-encrusted bowl worth at least 1,000 gp, which the spell consumes)',
    duration: 'Instantaneous',
    description: 'You bring forth a great feast that takes 1 hour to consume. Up to twelve creatures can partake. A creature that partakes gains several benefits: cured of all diseases and poison, immune to poison and being frightened, advantage on Wisdom saves, and HP maximum increases by 2d10, along with that many extra HP. These benefits last for 24 hours.',
    classes: ['Cleric', 'Druid'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 283 },
  },
  'magic-jar': {
    id: 'magic-jar',
    name: 'Magic Jar',
    school: 'Necromancy',
    level: 6,
    castingTime: '1 minute',
    range: 'Self',
    components: 'V, S, M (a gem, crystal, reliquary, or some other ornamental container worth at least 500 gp)',
    duration: 'Until dispelled',
    description: 'Your body falls into a catatonic state as your soul leaves it and enters the container. While your soul inhabits the container, you can attempt to possess a humanoid within 100 feet. The target must make a Charisma save or your soul moves into its body.',
    classes: ['Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 294 },
  },
  'mass-suggestion': {
    id: 'mass-suggestion',
    name: 'Mass Suggestion',
    school: 'Enchantment',
    level: 6,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, M (a snake\'s tongue and a bit of honeycomb)',
    duration: '24 hours',
    description: 'You suggest a course of activity to up to twelve creatures within range that can hear and understand you. The suggestion must be worded to sound reasonable. Each target must make a Wisdom save or pursue the suggested course of action for the duration.',
    higherLevels: 'Duration increases: 10 days (7th), 30 days (8th), or a year and a day (9th).',
    classes: ['Bard', 'Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 296 },
  },
  'mental-prison': {
    id: 'mental-prison',
    name: 'Mental Prison',
    school: 'Illusion',
    level: 6,
    castingTime: '1 action',
    range: '60 feet',
    components: 'S',
    duration: 'Concentration, up to 1 minute',
    description: 'You attempt to bind a creature within an illusory cell. The target must make an Intelligence save. On failure, it takes 5d10 psychic damage and perceives a barrier preventing it from moving or escaping. If it moves, it takes 10d10 psychic damage and the spell ends.',
    classes: ['Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.XGTE, page: 161 },
  },
  'move-earth': {
    id: 'move-earth',
    name: 'Move Earth',
    school: 'Transmutation',
    level: 6,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S, M (an iron blade and a small bag containing a mixture of soils)',
    duration: 'Concentration, up to 2 hours',
    description: 'Choose an area of terrain no larger than 40 feet on a side within range. You can reshape dirt, sand, or clay in the area in any manner you choose for the duration. You can raise or lower the area\'s elevation, create or fill in a trench, erect or flatten a wall, or form a pillar.',
    classes: ['Druid', 'Sorcerer', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 299 },
  },
  'otherworldly-form': {
    id: 'otherworldly-form',
    name: 'Otherworldly Form',
    school: 'Transmutation',
    level: 6,
    castingTime: '1 action',
    range: 'Self',
    components: 'V, S, M (an object engraved with a symbol of the Outer Planes, worth at least 500 gp)',
    duration: 'Concentration, up to 1 minute',
    description: 'You draw on the magic of the Lower or Upper Planes to transform yourself. You gain immunity to fire and poison damage (Lower) or radiant and necrotic damage (Upper), a flying speed of 40 feet, +2 AC, and can attack twice when you take the Attack action.',
    classes: ['Cleric', 'Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.TCOE, page: 110 },
  },
  'programmed-illusion': {
    id: 'programmed-illusion',
    name: 'Programmed Illusion',
    school: 'Illusion',
    level: 6,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S, M (a bit of fleece and jade dust worth at least 25 gp)',
    duration: 'Until dispelled',
    description: 'You create an illusion of an object, a creature, or some other visible phenomenon within range that activates when a specific condition occurs. The illusion is imperceptible until then. It can include sounds, temperature changes, and smells. It can last up to 5 minutes per activation.',
    classes: ['Bard', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 308 },
  },
  'scatter': {
    id: 'scatter',
    name: 'Scatter',
    school: 'Conjuration',
    level: 6,
    castingTime: '1 action',
    range: '30 feet',
    components: 'V',
    duration: 'Instantaneous',
    description: 'The air quivers around up to five creatures of your choice that you can see within range. An unwilling creature must succeed on a Wisdom save to resist this spell. You teleport each affected target to an unoccupied space that you can see within 120 feet of you.',
    classes: ['Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.XGTE, page: 164 },
  },
  'soul-cage': {
    id: 'soul-cage',
    name: 'Soul Cage',
    school: 'Necromancy',
    level: 6,
    castingTime: '1 reaction, which you take when a humanoid you can see within 60 feet dies',
    range: '60 feet',
    components: 'V, S, M (a tiny silver cage worth 100 gp)',
    duration: '8 hours',
    description: 'You trap the soul of the dying humanoid in the cage. While you have a soul inside the cage, you can exploit it in various ways: ask it questions, steal its life force to heal yourself, borrow its experience, or use its eyes to see.',
    classes: ['Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.XGTE, page: 165 },
  },
  'sunbeam': {
    id: 'sunbeam',
    name: 'Sunbeam',
    school: 'Evocation',
    level: 6,
    castingTime: '1 action',
    range: 'Self (60-foot line)',
    components: 'V, S, M (a magnifying glass)',
    duration: 'Concentration, up to 1 minute',
    description: 'A beam of brilliant light flashes out from your hand in a 5-foot-wide, 60-foot-long line. Each creature in the line must make a Constitution save. On failure, it takes 6d8 radiant damage and is blinded until your next turn. On success, half damage and not blinded. Undead and oozes have disadvantage on this save. You can create a new line of radiance as your action on any turn.',
    classes: ['Cleric', 'Druid', 'Sorcerer', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 323 },
  },
  'transport-via-plants': {
    id: 'transport-via-plants',
    name: 'Transport via Plants',
    school: 'Conjuration',
    level: 6,
    castingTime: '1 action',
    range: '10 feet',
    components: 'V, S',
    duration: '1 round',
    description: 'This spell creates a magical link between a Large or larger inanimate plant within range and another plant, at any distance, on the same plane of existence. You must have seen or touched the destination plant at least once before. For the duration, any creature can step into the target plant and exit from the destination plant.',
    classes: ['Druid'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 332 },
  },
  'true-seeing': {
    id: 'true-seeing',
    name: 'True Seeing',
    school: 'Divination',
    level: 6,
    castingTime: '1 action',
    range: 'Touch',
    components: 'V, S, M (an ointment for the eyes that costs 25 gp, made from mushroom powder, saffron, and fat, which is consumed by the spell)',
    duration: '1 hour',
    description: 'This spell gives the willing creature you touch the ability to see things as they actually are. For the duration, the creature has truesight, notices secret doors hidden by magic, and can see into the Ethereal Plane, all out to a range of 120 feet.',
    classes: ['Bard', 'Cleric', 'Sorcerer', 'Warlock', 'Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 333 },
  },
  'wall-of-ice': {
    id: 'wall-of-ice',
    name: 'Wall of Ice',
    school: 'Evocation',
    level: 6,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S, M (a small piece of quartz)',
    duration: 'Concentration, up to 10 minutes',
    description: 'You create a wall of ice on a solid surface within range. You can form it into a dome or a sphere, or as a flat surface made of ten 10-foot-square panels. When the wall appears, each creature within its area must make a Dexterity save. On failure, a creature takes 10d6 cold damage, or half on success.',
    higherLevels: 'The damage increases by 2d6 for each slot level above 6th.',
    classes: ['Wizard'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 336 },
  },
  'wall-of-thorns': {
    id: 'wall-of-thorns',
    name: 'Wall of Thorns',
    school: 'Conjuration',
    level: 6,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S, M (a handful of thorns)',
    duration: 'Concentration, up to 10 minutes',
    description: 'You create a wall of tough, pliable, tangled brush bristling with needle-sharp thorns. The wall appears within range on a solid surface and lasts for the duration. When a creature enters the wall or starts its turn there, it must make a Dexterity save, taking 7d8 slashing damage on failure, or half on success.',
    higherLevels: 'Both types of damage increase by 1d8 for each slot level above 6th.',
    classes: ['Druid'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 337 },
  },
  'word-of-recall': {
    id: 'word-of-recall',
    name: 'Word of Recall',
    school: 'Conjuration',
    level: 6,
    castingTime: '1 action',
    range: '5 feet',
    components: 'V',
    duration: 'Instantaneous',
    description: 'You and up to five willing creatures within 5 feet of you instantly teleport to a previously designated sanctuary. You and any creatures that teleport with you appear in the nearest unoccupied space to the spot you designated when you prepared your sanctuary.',
    classes: ['Cleric'],
    sourceBook: { ...SOURCE_BOOKS.PHB2024, page: 340 },
  },
  // Level 7 Spells
  'conjure-celestial': {
    id: 'conjure-celestial',
    name: 'Conjure Celestial',
    school: 'Conjuration',
    level: 7,
    castingTime: '1 minute',
    range: '90 feet',
    components: 'V, S',
    duration: 'Concentration, up to 1 hour',
    description: 'You summon a celestial of challenge rating 4 or lower, which appears in an unoccupied space that you can see within range. The celestial disappears when it drops to 0 hit points or when the spell ends. The celestial is friendly to you and your companions for the duration.',
    higherLevels: 'CR increases by 1 for each slot level above 7th.',
    classes: ['Cleric'],
  },
  'crown-of-stars': {
    id: 'crown-of-stars',
    name: 'Crown of Stars',
    school: 'Evocation',
    level: 7,
    castingTime: '1 action',
    range: 'Self',
    components: 'V, S',
    duration: '1 hour',
    description: 'Seven star-like motes of light appear and orbit your head until the spell ends. You can use a bonus action to send one of the motes streaking toward one creature or object within 120 feet. Make a ranged spell attack. On a hit, the target takes 4d12 radiant damage. The mote is consumed whether or not you hit.',
    higherLevels: 'Two additional motes for each slot level above 7th.',
    classes: ['Sorcerer', 'Warlock', 'Wizard'],
  },
  'delayed-blast-fireball': {
    id: 'delayed-blast-fireball',
    name: 'Delayed Blast Fireball',
    school: 'Evocation',
    level: 7,
    castingTime: '1 action',
    range: '150 feet',
    components: 'V, S, M (a tiny ball of bat guano and sulfur)',
    duration: 'Concentration, up to 1 minute',
    description: 'A beam of yellow light flashes from your pointing finger, then condenses to linger at a chosen point within range as a glowing bead for the duration. When the spell ends, the bead blossoms into a fiery explosion. Each creature in a 20-foot-radius sphere takes 12d6 fire damage (half on Dex save). Damage increases by 1d6 for each round the bead remains.',
    higherLevels: 'Base damage increases by 1d6 for each slot level above 7th.',
    classes: ['Sorcerer', 'Wizard'],
  },
  'divine-word': {
    id: 'divine-word',
    name: 'Divine Word',
    school: 'Evocation',
    level: 7,
    castingTime: '1 bonus action',
    range: '30 feet',
    components: 'V',
    duration: 'Instantaneous',
    description: 'You utter a divine word, imbued with the power that shaped the world. Each creature of your choice within range that can hear you must make a Charisma saving throw. Effects based on remaining HP: 50+ (deafened 1 min), 40-50 (deafened and blinded 10 min), 30-40 (blinded, deafened, stunned 1 hour), <30 (killed instantly). Celestials, elementals, fey, and fiends that fail are banished to their home plane.',
    classes: ['Cleric'],
  },
  'draconic-transformation': {
    id: 'draconic-transformation',
    name: 'Draconic Transformation',
    school: 'Transmutation',
    level: 7,
    castingTime: '1 bonus action',
    range: 'Self',
    components: 'V, S, M (a statuette of a dragon worth at least 500 gp)',
    duration: 'Concentration, up to 1 minute',
    description: 'With a roar, you draw on the magic of dragons to transform yourself, taking on various draconic features. You gain blindsight 30 ft, spectral wings (60 ft fly speed), and a breath weapon (60-foot cone, 6d8 damage of a type you choose, Dex save for half). You can use the breath weapon as a bonus action on subsequent turns.',
    classes: ['Druid', 'Sorcerer', 'Wizard'],
  },
  'dream-of-the-blue-veil': {
    id: 'dream-of-the-blue-veil',
    name: 'Dream of the Blue Veil',
    school: 'Conjuration',
    level: 7,
    castingTime: '10 minutes',
    range: '20 feet',
    components: 'V, S, M (a magic item or a willing creature from the destination world)',
    duration: 'Instantaneous',
    description: 'You and up to eight willing creatures within range fall unconscious for the spell\'s duration and experience visions of another world on the Material Plane. If the spell reaches its full duration, the visions conclude with each of you encountering and pulling back a mysterious blue curtain. You then awaken in the world the visions depicted.',
    classes: ['Bard', 'Sorcerer', 'Warlock', 'Wizard'],
  },
  'etherealness': {
    id: 'etherealness',
    name: 'Etherealness',
    school: 'Transmutation',
    level: 7,
    castingTime: '1 action',
    range: 'Self',
    components: 'V, S',
    duration: '8 hours',
    description: 'You step into the border regions of the Ethereal Plane, in the area where it overlaps with your current plane. You remain in the Border Ethereal for the duration or until you use your action to dismiss the spell. While on the Ethereal Plane, you can only affect and be affected by other creatures on that plane.',
    higherLevels: 'You can target up to three willing creatures (including you) for each slot level above 7th.',
    classes: ['Bard', 'Cleric', 'Sorcerer', 'Warlock', 'Wizard'],
  },
  'finger-of-death': {
    id: 'finger-of-death',
    name: 'Finger of Death',
    school: 'Necromancy',
    level: 7,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'You send negative energy coursing through a creature that you can see within range, causing it searing pain. The target must make a Constitution saving throw. It takes 7d8 + 30 necrotic damage on a failed save, or half as much on a successful one. A humanoid killed by this spell rises at the start of your next turn as a zombie permanently under your command.',
    classes: ['Sorcerer', 'Warlock', 'Wizard'],
  },
  'fire-storm': {
    id: 'fire-storm',
    name: 'Fire Storm',
    school: 'Evocation',
    level: 7,
    castingTime: '1 action',
    range: '150 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'A storm made up of sheets of roaring flame appears in a location you choose within range. The area of the storm consists of up to ten 10-foot cubes, which you can arrange as you wish. Each cube must have at least one face adjacent to the face of another cube. Each creature in the area must make a Dexterity saving throw, taking 7d10 fire damage on a failed save, or half as much on a successful one.',
    classes: ['Cleric', 'Druid', 'Sorcerer'],
  },
  'forcecage': {
    id: 'forcecage',
    name: 'Forcecage',
    school: 'Evocation',
    level: 7,
    castingTime: '1 action',
    range: '100 feet',
    components: 'V, S, M (ruby dust worth 1,500 gp)',
    duration: '1 hour',
    description: 'An immobile, invisible, cube-shaped prison composed of magical force springs into existence around an area you choose within range. The prison can be a cage or a solid box, as you choose. A creature inside the cage can\'t leave it by nonmagical means. A creature inside the box can\'t leave by any means.',
    classes: ['Bard', 'Warlock', 'Wizard'],
  },
  'mirage-arcane': {
    id: 'mirage-arcane',
    name: 'Mirage Arcane',
    school: 'Illusion',
    level: 7,
    castingTime: '10 minutes',
    range: 'Sight',
    components: 'V, S',
    duration: '10 days',
    description: 'You make terrain in an area up to 1 mile square look, sound, smell, and even feel like some other sort of terrain. Creatures with truesight can see through the illusion but all other elements of the illusion remain, so a creature aware of the illusion can still physically interact with it.',
    classes: ['Bard', 'Druid', 'Wizard'],
  },
  'mordenkainens-magnificent-mansion': {
    id: 'mordenkainens-magnificent-mansion',
    name: "Mordenkainen's Magnificent Mansion",
    school: 'Conjuration',
    level: 7,
    castingTime: '1 minute',
    range: '300 feet',
    components: 'V, S, M (a miniature portal carved from ivory, a small piece of polished marble, and a tiny silver spoon)',
    duration: '24 hours',
    description: 'You conjure an extradimensional dwelling in range that lasts for the duration. You choose where its one entrance is located. The atmosphere is clean, fresh, and warm. You can create any floor plan you like for the dwelling. It contains sufficient food to serve a nine-course banquet for up to 100 people.',
    classes: ['Bard', 'Wizard'],
  },
  'mordenkainens-sword': {
    id: 'mordenkainens-sword',
    name: "Mordenkainen's Sword",
    school: 'Evocation',
    level: 7,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S, M (a miniature platinum sword worth 250 gp)',
    duration: 'Concentration, up to 1 minute',
    description: 'You create a sword-shaped plane of force that hovers within range. When the sword appears, you make a melee spell attack against a target of your choice within 5 feet of the sword. On a hit, the target takes 3d10 force damage. Until the spell ends, you can use a bonus action on each of your turns to move the sword up to 20 feet and repeat the attack.',
    classes: ['Bard', 'Wizard'],
  },
  'plane-shift': {
    id: 'plane-shift',
    name: 'Plane Shift',
    school: 'Conjuration',
    level: 7,
    castingTime: '1 action',
    range: 'Touch',
    components: 'V, S, M (a forked, metal rod worth at least 250 gp, attuned to a particular plane of existence)',
    duration: 'Instantaneous',
    description: 'You and up to eight willing creatures who link hands in a circle are transported to a different plane of existence. Alternatively, you can use this spell to banish an unwilling creature to another plane. Make a melee spell attack; on a hit, the creature must make a Charisma saving throw or be transported to a random location on the plane you specify.',
    classes: ['Cleric', 'Druid', 'Sorcerer', 'Warlock', 'Wizard'],
  },
  'power-word-fortify': {
    id: 'power-word-fortify',
    name: 'Power Word Fortify',
    school: 'Enchantment',
    level: 7,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V',
    duration: 'Instantaneous',
    description: 'You speak a word of power that fortifies up to six creatures you can see within range. The spell bestows 120 temporary hit points, divided as you choose among the targets.',
    classes: ['Bard', 'Cleric'],
  },
  'power-word-pain': {
    id: 'power-word-pain',
    name: 'Power Word Pain',
    school: 'Enchantment',
    level: 7,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V',
    duration: 'Instantaneous',
    description: 'You speak a word of power that causes waves of intense pain to assail one creature you can see within range. If the target has 100 hit points or fewer, it is subject to crippling pain. It has disadvantage on attack rolls, ability checks, and saving throws, and can only move at half speed. It can make a Constitution save at the end of each turn to end the effect.',
    classes: ['Sorcerer', 'Warlock', 'Wizard'],
  },
  'prismatic-spray': {
    id: 'prismatic-spray',
    name: 'Prismatic Spray',
    school: 'Evocation',
    level: 7,
    castingTime: '1 action',
    range: 'Self (60-foot cone)',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'Eight multicolored rays of light flash from your hand. Each ray is a different color with different powers and purposes. Each creature in a 60-foot cone must make a Dexterity saving throw. Roll a d8 for each target to determine which color ray affects it: Red (10d6 fire), Orange (10d6 acid), Yellow (10d6 lightning), Green (10d6 poison), Blue (10d6 cold), Indigo (restrained then petrified), Violet (blinded then banished), 8 (two rays).',
    classes: ['Bard', 'Sorcerer', 'Wizard'],
  },
  'project-image': {
    id: 'project-image',
    name: 'Project Image',
    school: 'Illusion',
    level: 7,
    castingTime: '1 action',
    range: '500 miles',
    components: 'V, S, M (a small replica of you made from materials worth at least 5 gp)',
    duration: 'Concentration, up to 1 day',
    description: 'You create an illusory copy of yourself that lasts for the duration. The copy can appear at any location within range that you have seen before, regardless of intervening obstacles. The illusion looks and sounds like you but is intangible. You can use your action to move this illusion up to twice your walking speed.',
    classes: ['Bard', 'Wizard'],
  },
  'regenerate': {
    id: 'regenerate',
    name: 'Regenerate',
    school: 'Transmutation',
    level: 7,
    castingTime: '1 minute',
    range: 'Touch',
    components: 'V, S, M (a prayer wheel and holy water)',
    duration: '1 hour',
    description: 'You touch a creature and stimulate its natural healing ability. The target regains 4d8 + 15 hit points. For the duration of the spell, the target regains 1 hit point at the start of each of its turns (10 hit points each minute). The target\'s severed body members are restored after 2 minutes.',
    classes: ['Bard', 'Cleric', 'Druid'],
  },
  'resurrection': {
    id: 'resurrection',
    name: 'Resurrection',
    school: 'Necromancy',
    level: 7,
    castingTime: '1 hour',
    range: 'Touch',
    components: 'V, S, M (a diamond worth at least 1,000 gp, consumed)',
    duration: 'Instantaneous',
    description: 'You touch a dead creature that has been dead for no more than a century, that didn\'t die of old age, and that isn\'t undead. If its soul is free and willing, the target returns to life with all its hit points. This spell neutralizes any poisons and cures normal diseases afflicting the creature when it died.',
    classes: ['Bard', 'Cleric'],
  },
  'reverse-gravity': {
    id: 'reverse-gravity',
    name: 'Reverse Gravity',
    school: 'Transmutation',
    level: 7,
    castingTime: '1 action',
    range: '100 feet',
    components: 'V, S, M (a lodestone and iron filings)',
    duration: 'Concentration, up to 1 minute',
    description: 'This spell reverses gravity in a 50-foot-radius, 100-foot-high cylinder centered on a point within range. All creatures and objects that aren\'t somehow anchored to the ground in the area fall upward and reach the top of the area when you cast this spell. A creature can make a Dexterity saving throw to grab onto a fixed object it can reach.',
    classes: ['Druid', 'Sorcerer', 'Wizard'],
  },
  'sequester': {
    id: 'sequester',
    name: 'Sequester',
    school: 'Transmutation',
    level: 7,
    castingTime: '1 action',
    range: 'Touch',
    components: 'V, S, M (a powder of diamond, emerald, ruby, and sapphire dust worth at least 5,000 gp, consumed)',
    duration: 'Until dispelled',
    description: 'By means of this spell, a willing creature or an object can be hidden away, safe from detection for the duration. When you cast the spell, the target becomes invisible and can\'t be targeted by divination spells or perceived through scrying sensors. If the target is a creature, it falls into a state of suspended animation.',
    classes: ['Wizard'],
  },
  'simulacrum': {
    id: 'simulacrum',
    name: 'Simulacrum',
    school: 'Illusion',
    level: 7,
    castingTime: '12 hours',
    range: 'Touch',
    components: 'V, S, M (snow or ice in quantities sufficient to made a life-size copy of the creature; some hair, fingernail clippings, or other piece of the creature\'s body; powdered ruby worth 1,500 gp)',
    duration: 'Until dispelled',
    description: 'You shape an illusory duplicate of one beast or humanoid that is within range for the entire casting time of the spell. The duplicate is a creature, partially real and formed from ice or snow, and it can take actions and otherwise be affected as a normal creature. It has half the creature\'s hit point maximum.',
    classes: ['Wizard'],
  },
  'symbol': {
    id: 'symbol',
    name: 'Symbol',
    school: 'Abjuration',
    level: 7,
    castingTime: '1 minute',
    range: 'Touch',
    components: 'V, S, M (mercury, phosphorus, and powdered diamond and opal worth at least 1,000 gp total, consumed)',
    duration: 'Until dispelled or triggered',
    description: 'When you cast this spell, you inscribe a harmful glyph either on a surface or within an object. If the surface or object is moved more than 10 feet from where you cast this spell, the glyph is broken. When triggered, the glyph erupts. Choose one of: Death, Discord, Fear, Hopelessness, Insanity, Pain, Sleep, or Stunning.',
    classes: ['Bard', 'Cleric', 'Druid', 'Wizard'],
  },
  'teleport': {
    id: 'teleport',
    name: 'Teleport',
    school: 'Conjuration',
    level: 7,
    castingTime: '1 action',
    range: 'Self',
    components: 'V',
    duration: 'Instantaneous',
    description: 'This spell instantly transports you and up to eight willing creatures of your choice that you can see within range, or a single object that you can see within range, to a destination you select. Accuracy depends on your familiarity with the destination: permanent teleportation circle (no mishap), associated object (no mishap), very familiar (01-05 mishap), or seen casually (01-33 mishap).',
    classes: ['Bard', 'Sorcerer', 'Wizard'],
  },
  'temple-of-the-gods': {
    id: 'temple-of-the-gods',
    name: 'Temple of the Gods',
    school: 'Conjuration',
    level: 7,
    castingTime: '1 hour',
    range: '120 feet',
    components: 'V, S, M (a holy symbol worth at least 5 gp)',
    duration: '24 hours',
    description: 'You cause a temple to shimmer into existence on ground you can see within range. The temple must fit within an unoccupied cube of space, up to 120 feet on each side. The temple remains until the spell ends. The interior is enclosed by a floor, walls, and roof, with one door. You can specify the interior decorations.',
    classes: ['Cleric'],
  },
  'whirlwind': {
    id: 'whirlwind',
    name: 'Whirlwind',
    school: 'Evocation',
    level: 7,
    castingTime: '1 action',
    range: '300 feet',
    components: 'V, M (a piece of straw)',
    duration: 'Concentration, up to 1 minute',
    description: 'A whirlwind howls down to a point on the ground you specify. The whirlwind is a 10-foot-radius, 30-foot-high cylinder centered on that point. Until the spell ends, you can use your action to move it up to 30 feet. Creatures in the whirlwind must make a Dexterity save or take 10d6 bludgeoning damage and be flung 20 feet up and away.',
    classes: ['Druid', 'Sorcerer', 'Wizard'],
  },
  // Level 8 Spells
  'abi-dalzims-horrid-wilting': {
    id: 'abi-dalzims-horrid-wilting',
    name: "Abi-Dalzim's Horrid Wilting",
    school: 'Necromancy',
    level: 8,
    castingTime: '1 action',
    range: '150 feet',
    components: 'V, S, M (a bit of sponge)',
    duration: 'Instantaneous',
    description: 'You draw the moisture from every creature in a 30-foot cube centered on a point you choose within range. Each creature in that area must make a Constitution saving throw. Constructs and undead aren\'t affected. A creature takes 12d8 necrotic damage on a failed save, or half as much on a successful one. Plant creatures and magical plants have disadvantage.',
    classes: ['Sorcerer', 'Wizard'],
  },
  'animal-shapes': {
    id: 'animal-shapes',
    name: 'Animal Shapes',
    school: 'Transmutation',
    level: 8,
    castingTime: '1 action',
    range: '30 feet',
    components: 'V, S',
    duration: 'Concentration, up to 24 hours',
    description: 'Your magic turns others into beasts. Choose any number of willing creatures that you can see within range. You transform each target into the form of a Large or smaller beast with a challenge rating of 4 or lower. The transformation lasts for the duration for each target, or until the target drops to 0 hit points or dies.',
    classes: ['Druid'],
  },
  'antimagic-field': {
    id: 'antimagic-field',
    name: 'Antimagic Field',
    school: 'Abjuration',
    level: 8,
    castingTime: '1 action',
    range: 'Self (10-foot-radius sphere)',
    components: 'V, S, M (a pinch of powdered iron or iron filings)',
    duration: 'Concentration, up to 1 hour',
    description: 'A 10-foot-radius invisible sphere of antimagic surrounds you. This area is divorced from the magical energy that suffuses the multiverse. Within the sphere, spells can\'t be cast, summoned creatures disappear, and even magic items become mundane. The sphere moves with you.',
    classes: ['Cleric', 'Wizard'],
  },
  'antipathy-sympathy': {
    id: 'antipathy-sympathy',
    name: 'Antipathy/Sympathy',
    school: 'Enchantment',
    level: 8,
    castingTime: '1 hour',
    range: '60 feet',
    components: 'V, S, M (either a lump of alum soaked in vinegar for antipathy or a drop of honey for sympathy)',
    duration: '10 days',
    description: 'This spell attracts or repels creatures of your choice. You target something within range, either a Huge or smaller object or creature or an area that is no larger than a 200-foot cube. Specify a kind of intelligent creature, such as red dragons or goblins. The spell gives creatures of that kind an intense urge to either approach or avoid.',
    classes: ['Bard', 'Druid', 'Wizard'],
  },
  'befuddlement': {
    id: 'befuddlement',
    name: 'Befuddlement',
    school: 'Enchantment',
    level: 8,
    castingTime: '1 action',
    range: '150 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'You blast the mind of one creature you can see within range, attempting to shatter its intellect and personality. The target takes 4d6 psychic damage and must make an Intelligence saving throw. On a failed save, the creature\'s Intelligence and Charisma scores become 1. The creature can\'t cast spells, activate magic items, understand language, or communicate in any intelligible way. The creature can identify its friends, follow them, and even protect them. The creature can repeat the saving throw every 30 days, ending the effect on a success. The effect can also be ended by greater restoration, heal, or wish.',
    classes: ['Bard', 'Druid', 'Warlock', 'Wizard'],
  },
  'clone': {
    id: 'clone',
    name: 'Clone',
    school: 'Necromancy',
    level: 8,
    castingTime: '1 hour',
    range: 'Touch',
    components: 'V, S, M (a diamond worth at least 1,000 gp and at least 1 cubic inch of flesh of the creature, consumed; a vessel worth at least 2,000 gp with a lid; 120 days to mature)',
    duration: 'Instantaneous',
    description: 'This spell grows an inert duplicate of a living creature as a safeguard against death. The clone forms inside a sealed vessel and grows to full size and maturity after 120 days. At any time after the clone matures, if the original creature dies, its soul transfers to the clone.',
    classes: ['Wizard'],
  },
  'control-weather': {
    id: 'control-weather',
    name: 'Control Weather',
    school: 'Transmutation',
    level: 8,
    castingTime: '10 minutes',
    range: 'Self (5-mile radius)',
    components: 'V, S, M (burning incense and bits of earth and wood mixed in water)',
    duration: 'Concentration, up to 8 hours',
    description: 'You take control of the weather within 5 miles of you for the duration. You must be outdoors. Moving to a place where you don\'t have a clear path to the sky ends the spell early. You can change the current weather conditions (precipitation, temperature, and wind).',
    classes: ['Cleric', 'Druid', 'Wizard'],
  },
  'demiplane': {
    id: 'demiplane',
    name: 'Demiplane',
    school: 'Conjuration',
    level: 8,
    castingTime: '1 action',
    range: '60 feet',
    components: 'S',
    duration: '1 hour',
    description: 'You create a shadowy door on a flat solid surface that you can see within range. The door is large enough to allow Medium creatures to pass through unhindered. When opened, the door leads to a demiplane that appears to be an empty room 30 feet in each dimension, made of wood or stone.',
    classes: ['Sorcerer', 'Warlock', 'Wizard'],
  },
  'dominate-monster': {
    id: 'dominate-monster',
    name: 'Dominate Monster',
    school: 'Enchantment',
    level: 8,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Concentration, up to 1 hour',
    description: 'You attempt to beguile a creature that you can see within range. It must succeed on a Wisdom saving throw or be charmed by you for the duration. While charmed, you have a telepathic link with it. You can use this telepathic link to issue commands to the creature while you are conscious (no action required).',
    higherLevels: 'Duration becomes concentration, up to 8 hours with a 9th-level slot.',
    classes: ['Bard', 'Sorcerer', 'Warlock', 'Wizard'],
  },
  'earthquake': {
    id: 'earthquake',
    name: 'Earthquake',
    school: 'Evocation',
    level: 8,
    castingTime: '1 action',
    range: '500 feet',
    components: 'V, S, M (a pinch of dirt, a piece of rock, and a lump of clay)',
    duration: 'Concentration, up to 1 minute',
    description: 'You create a seismic disturbance at a point on the ground that you can see within range. For the duration, an intense tremor rips through the ground in a 100-foot-radius circle centered on that point and shakes creatures and structures in contact with the ground. Creatures must make Dex saves or be knocked prone. Structures take 50 bludgeoning damage per round.',
    classes: ['Cleric', 'Druid', 'Sorcerer'],
  },
  'feeblemind': {
    id: 'feeblemind',
    name: 'Feeblemind',
    school: 'Enchantment',
    level: 8,
    castingTime: '1 action',
    range: '150 feet',
    components: 'V, S, M (a handful of clay, crystal, glass, or mineral spheres)',
    duration: 'Instantaneous',
    description: 'You blast the mind of a creature that you can see within range, attempting to shatter its intellect and personality. The target takes 4d6 psychic damage and must make an Intelligence saving throw. On a failed save, the creature\'s Intelligence and Charisma scores become 1. The creature can\'t cast spells, activate magic items, understand language, or communicate. Greater Restoration can end this.',
    classes: ['Bard', 'Druid', 'Warlock', 'Wizard'],
  },
  'glibness': {
    id: 'glibness',
    name: 'Glibness',
    school: 'Transmutation',
    level: 8,
    castingTime: '1 action',
    range: 'Self',
    components: 'V',
    duration: '1 hour',
    description: 'Until the spell ends, when you make a Charisma check, you can replace the number you roll with a 15. Additionally, no matter what you say, magic that would determine if you are telling the truth indicates that you are being truthful.',
    classes: ['Bard', 'Warlock'],
  },
  'holy-aura': {
    id: 'holy-aura',
    name: 'Holy Aura',
    school: 'Abjuration',
    level: 8,
    castingTime: '1 action',
    range: 'Self',
    components: 'V, S, M (a tiny reliquary worth at least 1,000 gp containing a sacred relic)',
    duration: 'Concentration, up to 1 minute',
    description: 'Divine light washes out from you and coalesces in a soft radiance in a 30-foot radius around you. Creatures of your choice in that radius have advantage on all saving throws, and other creatures have disadvantage on attack rolls against them. If a fiend or undead hits an affected creature with a melee attack, the aura flashes with brilliant light, forcing the attacker to make a Con save or be blinded.',
    classes: ['Cleric'],
  },
  'illusory-dragon': {
    id: 'illusory-dragon',
    name: 'Illusory Dragon',
    school: 'Illusion',
    level: 8,
    castingTime: '1 action',
    range: '120 feet',
    components: 'S',
    duration: 'Concentration, up to 1 minute',
    description: 'By gathering threads of shadow material from the Shadowfell, you create a Huge shadowy dragon in an unoccupied space that you can see within range. The illusion lasts for the spell\'s duration and occupies its space. When you create it, designate creatures that are not afraid of it. All other creatures are frightened of it. You can move the dragon 60 feet and have it exhale a breath weapon (7d6 damage).',
    classes: ['Wizard'],
  },
  'incendiary-cloud': {
    id: 'incendiary-cloud',
    name: 'Incendiary Cloud',
    school: 'Conjuration',
    level: 8,
    castingTime: '1 action',
    range: '150 feet',
    components: 'V, S',
    duration: 'Concentration, up to 1 minute',
    description: 'A swirling cloud of smoke shot through with white-hot embers appears in a 20-foot-radius sphere centered on a point within range. The cloud spreads around corners and is heavily obscured. The cloud moves 10 feet directly away from you each turn. When a creature enters the cloud\'s area for the first time on a turn or starts its turn there, that creature must make a Dexterity saving throw or take 10d8 fire damage.',
    classes: ['Druid', 'Sorcerer', 'Wizard'],
  },
  'maddening-darkness': {
    id: 'maddening-darkness',
    name: 'Maddening Darkness',
    school: 'Evocation',
    level: 8,
    castingTime: '1 action',
    range: '150 feet',
    components: 'V, M (a drop of pitch mixed with a drop of mercury)',
    duration: 'Concentration, up to 10 minutes',
    description: 'Magical darkness spreads from a point you choose within range to fill a 60-foot-radius sphere. Darkvision can\'t penetrate this darkness, and no natural light can illuminate it. If any of this spell\'s area overlaps with an area of light created by a spell of 8th level or lower, the spell that created the light is dispelled. Creatures that start their turn in the area take 8d8 psychic damage (half on Wis save).',
    classes: ['Warlock', 'Wizard'],
  },
  'maze': {
    id: 'maze',
    name: 'Maze',
    school: 'Conjuration',
    level: 8,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Concentration, up to 10 minutes',
    description: 'You banish a creature that you can see within range into a labyrinthine demiplane. The target remains there for the duration or until it escapes the maze. The target can use its action to attempt to escape. When it does so, it makes a DC 20 Intelligence check. If it succeeds, it escapes, and the spell ends.',
    classes: ['Wizard'],
  },
  'mighty-fortress': {
    id: 'mighty-fortress',
    name: 'Mighty Fortress',
    school: 'Conjuration',
    level: 8,
    castingTime: '1 minute',
    range: '1 mile',
    components: 'V, S, M (a diamond worth at least 500 gp, consumed)',
    duration: 'Instantaneous',
    description: 'A fortress of stone erupts from a square area of ground of your choice that you can see within range. The area is 120 feet on each side, and it must not have any buildings or other structures on it. Any creatures in the area are harmlessly lifted up as the fortress rises. The fortress has a central keep, outer walls, and towers.',
    classes: ['Wizard'],
  },
  'mind-blank': {
    id: 'mind-blank',
    name: 'Mind Blank',
    school: 'Abjuration',
    level: 8,
    castingTime: '1 action',
    range: 'Touch',
    components: 'V, S',
    duration: '24 hours',
    description: 'Until the spell ends, one willing creature you touch is immune to psychic damage, any effect that would sense its emotions or read its thoughts, divination spells, and the charmed condition. The spell even foils wish spells and spells or effects of similar power used to affect the target\'s mind or to gain information about the target.',
    classes: ['Bard', 'Wizard'],
  },
  'power-word-stun': {
    id: 'power-word-stun',
    name: 'Power Word Stun',
    school: 'Enchantment',
    level: 8,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V',
    duration: 'Instantaneous',
    description: 'You speak a word of power that can overwhelm the mind of one creature you can see within range, leaving it dumbfounded. If the target has 150 hit points or fewer, it is stunned. Otherwise, the spell has no effect. The stunned target must make a Constitution saving throw at the end of each of its turns. On a successful save, the stunning effect ends.',
    classes: ['Bard', 'Sorcerer', 'Warlock', 'Wizard'],
  },
  'reality-break': {
    id: 'reality-break',
    name: 'Reality Break',
    school: 'Conjuration',
    level: 8,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S, M (a crystal prism)',
    duration: 'Concentration, up to 1 minute',
    description: 'You shatter the barriers between realities and timelines, thrusting a creature into turmoil and a potentially permanent state of being. The target must make a Wisdom saving throw. On a failed save, the target can\'t take reactions for the duration and rolls on a table at the start of each turn for random effects.',
    classes: ['Wizard'],
  },
  'sunburst': {
    id: 'sunburst',
    name: 'Sunburst',
    school: 'Evocation',
    level: 8,
    castingTime: '1 action',
    range: '150 feet',
    components: 'V, S, M (fire and a piece of sunstone)',
    duration: 'Instantaneous',
    description: 'Brilliant sunlight flashes in a 60-foot radius centered on a point you choose within range. Each creature in that light must make a Constitution saving throw. On a failed save, a creature takes 12d6 radiant damage and is blinded for 1 minute. Undead and oozes have disadvantage on this saving throw.',
    classes: ['Cleric', 'Druid', 'Sorcerer', 'Wizard'],
  },
  'telepathy': {
    id: 'telepathy',
    name: 'Telepathy',
    school: 'Evocation',
    level: 8,
    castingTime: '1 action',
    range: 'Unlimited',
    components: 'V, S, M (a pair of linked silver rings)',
    duration: '24 hours',
    description: 'You create a telepathic link between yourself and a willing creature with which you are familiar. The creature can be anywhere on the same plane of existence as you. The spell ends if you or the target are no longer on the same plane. Until the spell ends, you and the target can instantaneously share words, images, sounds, and other sensory messages with one another through the link.',
    classes: ['Wizard'],
  },
  'tsunami': {
    id: 'tsunami',
    name: 'Tsunami',
    school: 'Conjuration',
    level: 8,
    castingTime: '1 minute',
    range: 'Sight',
    components: 'V, S',
    duration: 'Concentration, up to 6 rounds',
    description: 'A wall of water springs into existence at a point you choose within range. You can make the wall up to 300 feet long, 300 feet high, and 50 feet thick. The wall lasts for the duration. When the wall appears, each creature within its area must make a Strength saving throw. On a failed save, a creature takes 6d10 bludgeoning damage.',
    classes: ['Druid'],
  },
  // Level 9 Spells
  'astral-projection': {
    id: 'astral-projection',
    name: 'Astral Projection',
    school: 'Necromancy',
    level: 9,
    castingTime: '1 hour',
    range: '10 feet',
    components: 'V, S, M (for each creature, one jacinth worth at least 1,000 gp and one ornately carved bar of silver worth at least 100 gp, all consumed)',
    duration: 'Special',
    description: 'You and up to eight willing creatures within range project your astral bodies into the Astral Plane. Your astral body resembles your mortal form but is silvery, translucent, and connected to your material body by a silvery cord. If the cord is cut, you die. You can travel through the Astral Plane and enter other planes.',
    classes: ['Cleric', 'Warlock', 'Wizard'],
  },
  'blade-of-disaster': {
    id: 'blade-of-disaster',
    name: 'Blade of Disaster',
    school: 'Conjuration',
    level: 9,
    castingTime: '1 bonus action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Concentration, up to 1 minute',
    description: 'You create a blade-shaped planar rift about 3 feet long in an unoccupied space you can see within range. The blade lasts for the duration. When you create the blade, make up to two melee spell attacks. On a hit, the target takes 4d12 force damage. On a critical hit (18-20), the blade deals an extra 8d12 force damage. As a bonus action, you can move the blade up to 30 feet and repeat the attacks.',
    classes: ['Sorcerer', 'Warlock', 'Wizard'],
  },
  'foresight': {
    id: 'foresight',
    name: 'Foresight',
    school: 'Divination',
    level: 9,
    castingTime: '1 minute',
    range: 'Touch',
    components: 'V, S, M (a hummingbird feather)',
    duration: '8 hours',
    description: 'You touch a willing creature and bestow a limited ability to see into the immediate future. For the duration, the target can\'t be surprised and has advantage on attack rolls, ability checks, and saving throws. Additionally, other creatures have disadvantage on attack rolls against the target for the duration.',
    classes: ['Bard', 'Druid', 'Warlock', 'Wizard'],
  },
  'gate': {
    id: 'gate',
    name: 'Gate',
    school: 'Conjuration',
    level: 9,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S, M (a diamond worth at least 5,000 gp)',
    duration: 'Concentration, up to 1 minute',
    description: 'You conjure a portal linking an unoccupied space you can see within range to a precise location on a different plane of existence. The portal is a circular opening, which you can make 5 to 20 feet in diameter. You can orient the portal in any direction. Alternatively, you can name a specific creature. If that creature is on another plane, the portal opens adjacent to the named creature.',
    classes: ['Cleric', 'Sorcerer', 'Warlock', 'Wizard'],
  },
  'imprisonment': {
    id: 'imprisonment',
    name: 'Imprisonment',
    school: 'Abjuration',
    level: 9,
    castingTime: '1 minute',
    range: '30 feet',
    components: 'V, S, M (a vellum depiction or carved statuette in the likeness of the target, and a special component that varies according to the version of the spell you choose, worth at least 500 gp per Hit Die of the target)',
    duration: 'Until dispelled',
    description: 'You create a magical restraint to hold a creature that you can see within range. The target must succeed on a Wisdom saving throw or be bound by the spell. Choose one form: Burial (entombed deep underground), Chaining (held by chains), Hedged Prison (trapped in an area), Minimus Containment (shrunk and placed in a gem), or Slumber (falls asleep and can\'t be awakened).',
    classes: ['Warlock', 'Wizard'],
  },
  'invulnerability': {
    id: 'invulnerability',
    name: 'Invulnerability',
    school: 'Abjuration',
    level: 9,
    castingTime: '1 action',
    range: 'Self',
    components: 'V, S, M (a small piece of adamantine worth at least 500 gp, consumed)',
    duration: 'Concentration, up to 10 minutes',
    description: 'You are immune to all damage until the spell ends.',
    classes: ['Wizard'],
  },
  'mass-heal': {
    id: 'mass-heal',
    name: 'Mass Heal',
    school: 'Evocation',
    level: 9,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'A flood of healing energy flows from you into injured creatures around you. You restore up to 700 hit points, divided as you choose among any number of creatures that you can see within range. Creatures healed by this spell are also cured of all diseases and any effect making them blinded or deafened. This spell has no effect on undead or constructs.',
    classes: ['Cleric'],
  },
  'mass-polymorph': {
    id: 'mass-polymorph',
    name: 'Mass Polymorph',
    school: 'Transmutation',
    level: 9,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S, M (a caterpillar cocoon)',
    duration: 'Concentration, up to 1 hour',
    description: 'You transform up to ten creatures of your choice that you can see within range. An unwilling target must succeed on a Wisdom saving throw to resist the transformation. An unwilling shapechanger automatically succeeds. Each target assumes a beast form of your choice with CR equal to or less than the target\'s (or level if no CR).',
    classes: ['Bard', 'Sorcerer', 'Wizard'],
  },
  'meteor-swarm': {
    id: 'meteor-swarm',
    name: 'Meteor Swarm',
    school: 'Evocation',
    level: 9,
    castingTime: '1 action',
    range: '1 mile',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'Blazing orbs of fire plummet to the ground at four different points you can see within range. Each creature in a 40-foot-radius sphere centered on each point you choose must make a Dexterity saving throw. A creature takes 20d6 fire damage and 20d6 bludgeoning damage on a failed save, or half as much damage on a successful one. A creature in the area of more than one fiery burst is affected only once.',
    classes: ['Sorcerer', 'Wizard'],
  },
  'power-word-heal': {
    id: 'power-word-heal',
    name: 'Power Word Heal',
    school: 'Evocation',
    level: 9,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'A wave of healing energy washes over a creature you can see within range. The target regains all its hit points. If the creature is charmed, frightened, paralyzed, or stunned, the condition ends. If the creature is prone, it can use its reaction to stand up. This spell has no effect on undead or constructs.',
    classes: ['Bard', 'Cleric'],
  },
  'power-word-kill': {
    id: 'power-word-kill',
    name: 'Power Word Kill',
    school: 'Enchantment',
    level: 9,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V',
    duration: 'Instantaneous',
    description: 'You utter a word of power that can compel one creature you can see within range to die instantly. If the creature you choose has 100 hit points or fewer, it dies. Otherwise, the spell has no effect.',
    classes: ['Bard', 'Sorcerer', 'Warlock', 'Wizard'],
  },
  'prismatic-wall': {
    id: 'prismatic-wall',
    name: 'Prismatic Wall',
    school: 'Abjuration',
    level: 9,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: '10 minutes',
    description: 'A shimmering, multicolored plane of light forms a vertical opaque wall up to 90 feet long, 30 feet high, and 1 inch thick, or a sphere up to 30 feet in diameter, centered on a point you choose. The wall has seven layers, each with a different color (red, orange, yellow, green, blue, indigo, violet). Each layer has different effects and must be destroyed in order.',
    classes: ['Bard', 'Wizard'],
  },
  'psychic-scream': {
    id: 'psychic-scream',
    name: 'Psychic Scream',
    school: 'Enchantment',
    level: 9,
    castingTime: '1 action',
    range: '90 feet',
    components: 'S',
    duration: 'Instantaneous',
    description: 'You unleash the power of your mind to blast the intellect of up to ten creatures of your choice that you can see within range. Creatures that have an Intelligence score of 2 or lower are unaffected. Each target must make an Intelligence saving throw. On a failed save, a target takes 14d6 psychic damage and is stunned. On a successful save, a target takes half as much damage and isn\'t stunned. If a target is killed by this damage, its head explodes.',
    classes: ['Bard', 'Sorcerer', 'Warlock', 'Wizard'],
  },
  'ravenous-void': {
    id: 'ravenous-void',
    name: 'Ravenous Void',
    school: 'Evocation',
    level: 9,
    castingTime: '1 action',
    range: '1000 feet',
    components: 'V, S, M (a small, nine-pointed star made of iron)',
    duration: 'Concentration, up to 1 minute',
    description: 'You create a 20-foot-radius sphere of destructive gravitational force centered on a point you can see within range. For the duration, the sphere and any space within 100 feet of it are difficult terrain. Creatures that start their turn within 100 feet of the sphere must make a Strength save or be pulled toward the center. Creatures starting their turn in the sphere take 5d10 force damage and are restrained until they start their turn outside it.',
    classes: ['Wizard'],
  },
  'shapechange': {
    id: 'shapechange',
    name: 'Shapechange',
    school: 'Transmutation',
    level: 9,
    castingTime: '1 action',
    range: 'Self',
    components: 'V, S, M (a jade circlet worth at least 1,500 gp, which you must place on your head before you cast the spell)',
    duration: 'Concentration, up to 1 hour',
    description: 'You assume the form of a different creature for the duration. The new form can be of any creature with a challenge rating equal to your level or lower. You can\'t transform into a construct or an undead. You retain your alignment, personality, Intelligence, Wisdom, and Charisma scores. You assume the hit points and Hit Dice of the new form.',
    classes: ['Druid', 'Wizard'],
  },
  'storm-of-vengeance': {
    id: 'storm-of-vengeance',
    name: 'Storm of Vengeance',
    school: 'Conjuration',
    level: 9,
    castingTime: '1 action',
    range: 'Sight',
    components: 'V, S',
    duration: 'Concentration, up to 1 minute',
    description: 'A churning storm cloud forms, centered on a point you can see and spreading to a radius of 360 feet. Lightning flashes, thunder booms, and strong winds roar. Each round the storm produces different effects: Round 1 (2d6 thunder, deafened), Round 2-4 (acid rain 1d6 acid per round), Round 5-7 (6 lightning bolts 10d6 each), Round 8-10 (hailstones 2d6 bludgeoning).',
    classes: ['Druid'],
  },
  'time-ravage': {
    id: 'time-ravage',
    name: 'Time Ravage',
    school: 'Necromancy',
    level: 9,
    castingTime: '1 action',
    range: '90 feet',
    components: 'V, S, M (an hourglass filled with diamond dust worth at least 5,000 gp, consumed)',
    duration: 'Instantaneous',
    description: 'You target a creature you can see within range, putting its physical form through the devastation of aging. The target must make a Constitution saving throw, taking 10d12 necrotic damage on a failed save, or half as much on a successful one. If the save fails, the target also ages to the point where it has only 30 days left before it dies of old age. Only Greater Restoration or Wish can reverse the aging.',
    classes: ['Wizard'],
  },
  'time-stop': {
    id: 'time-stop',
    name: 'Time Stop',
    school: 'Transmutation',
    level: 9,
    castingTime: '1 action',
    range: 'Self',
    components: 'V',
    duration: 'Instantaneous',
    description: 'You briefly stop the flow of time for everyone but yourself. No time passes for other creatures, while you take 1d4 + 1 turns in a row, during which you can use actions and move as normal. This spell ends if one of the actions you use during this period, or any effects that you create during this period, affects a creature other than you or an object being worn or carried by someone other than you.',
    classes: ['Sorcerer', 'Wizard'],
  },
  'true-polymorph': {
    id: 'true-polymorph',
    name: 'True Polymorph',
    school: 'Transmutation',
    level: 9,
    castingTime: '1 action',
    range: '30 feet',
    components: 'V, S, M (a drop of mercury, a dollop of gum arabic, and a wisp of smoke)',
    duration: 'Concentration, up to 1 hour',
    description: 'Choose one creature or nonmagical object that you can see within range. You transform the creature into a different creature, the creature into a nonmagical object, or the object into a creature. If you concentrate on this spell for the full duration, the transformation lasts until it is dispelled. The creature can be any creature with CR equal to or less than the target\'s (or level).',
    classes: ['Bard', 'Warlock', 'Wizard'],
  },
  'true-resurrection': {
    id: 'true-resurrection',
    name: 'True Resurrection',
    school: 'Necromancy',
    level: 9,
    castingTime: '1 hour',
    range: 'Touch',
    components: 'V, S, M (a sprinkle of holy water and diamonds worth at least 25,000 gp, consumed)',
    duration: 'Instantaneous',
    description: 'You touch a creature that has been dead for no longer than 200 years and that died for any reason except old age. If the creature\'s soul is free and willing, the creature is restored to life with all its hit points. This spell closes all mortal wounds and restores any missing body parts. This spell can even provide a new body if the original no longer exists.',
    classes: ['Cleric', 'Druid'],
  },
  'weird': {
    id: 'weird',
    name: 'Weird',
    school: 'Illusion',
    level: 9,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S',
    duration: 'Concentration, up to 1 minute',
    description: 'Drawing on the deepest fears of a group of creatures, you create illusory creatures in their minds, visible only to them. Each creature in a 30-foot-radius sphere centered on a point of your choice within range must make a Wisdom saving throw. On a failed save, a creature becomes frightened for the duration. At the end of each of the frightened creature\'s turns, it takes 4d10 psychic damage.',
    classes: ['Warlock', 'Wizard'],
  },
  'wish': {
    id: 'wish',
    name: 'Wish',
    school: 'Conjuration',
    level: 9,
    castingTime: '1 action',
    range: 'Self',
    components: 'V',
    duration: 'Instantaneous',
    description: 'Wish is the mightiest spell a mortal creature can cast. By simply speaking aloud, you can alter the very foundations of reality in accord with your desires. The basic use is to duplicate any spell of 8th level or lower without needing components. You might be able to achieve something beyond the scope of the examples, but there is a 33% chance you can never cast wish again.',
    classes: ['Sorcerer', 'Wizard'],
  },

  // =============================================================================
  // WORLD OF WARCRAFT & DIABLO INSPIRED SPELLS
  // =============================================================================

  // DEATH KNIGHT SPELLS
  'grave-bolt': {
    id: 'grave-bolt',
    name: 'Grave Bolt',
    school: 'Necromancy',
    level: 'cantrip',
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'Hurl a bolt of necrotic energy at a creature. Make a ranged spell attack for 1d10 necrotic damage. Damage increases at 5th level (2d10), 11th level (3d10), and 17th level (4d10).',
    classes: ['Death Knight'],
  },
  'runic-strike': {
    id: 'runic-strike',
    name: 'Runic Strike',
    school: 'Evocation',
    level: 'cantrip',
    castingTime: '1 action',
    range: 'Self (5-foot radius)',
    components: 'V, M (a melee weapon)',
    duration: 'Instantaneous',
    description: 'Channel runic power through your weapon. As part of this action, make a melee weapon attack. On hit, deal an extra 1d6 cold damage. Damage increases at 5th level (2d6), 11th level (3d6), and 17th level (4d6).',
    classes: ['Death Knight'],
  },
  'death-coil': {
    id: 'death-coil',
    name: 'Death Coil',
    school: 'Necromancy',
    level: 1,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'Hurl a bolt of dark energy at a target. Deal 2d8 necrotic damage to an enemy, or heal an undead ally for the same amount.',
    higherLevels: 'Damage increases by 1d8 for each slot level above 1st.',
    classes: ['Death Knight', 'Necromancer'],
  },
  'howling-blast': {
    id: 'howling-blast',
    name: 'Howling Blast',
    school: 'Evocation',
    level: 2,
    castingTime: '1 action',
    range: '30 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'Blast an area with freezing wind. All creatures in a 15-foot radius take 3d6 cold damage and have their speed reduced by 10 feet until end of your next turn.',
    higherLevels: 'Damage increases by 1d6 for each slot level above 2nd.',
    classes: ['Death Knight'],
  },
  'chains-of-ice': {
    id: 'chains-of-ice',
    name: 'Chains of Ice',
    school: 'Evocation',
    level: 2,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S, M (a small chain)',
    duration: 'Concentration, up to 1 minute',
    description: 'Shackle a creature with icy chains. The target must succeed on a STR save or be restrained. They can repeat the save at the end of each turn.',
    classes: ['Death Knight'],
  },
  'bone-shield': {
    id: 'bone-shield',
    name: 'Bone Shield',
    school: 'Necromancy',
    level: 2,
    castingTime: '1 bonus action',
    range: 'Self',
    components: 'V, S',
    duration: '1 hour',
    description: 'Surround yourself with orbiting bone fragments that grant +2 AC and reduce incoming physical damage by 2.',
    classes: ['Death Knight', 'Necromancer'],
  },
  'death-strike': {
    id: 'death-strike',
    name: 'Death Strike',
    school: 'Necromancy',
    level: 3,
    castingTime: '1 bonus action',
    range: 'Self',
    components: 'V',
    duration: '1 round',
    description: 'Your next melee weapon attack deals an extra 3d8 necrotic damage and you heal for 25% of the damage dealt.',
    classes: ['Death Knight'],
  },
  'pillar-of-frost': {
    id: 'pillar-of-frost',
    name: 'Pillar of Frost',
    school: 'Transmutation',
    level: 3,
    castingTime: '1 bonus action',
    range: 'Self',
    components: 'V, S',
    duration: 'Concentration, up to 1 minute',
    description: 'Encase yourself in icy power. Gain +4 to Strength and your melee attacks deal an extra 1d8 cold damage.',
    classes: ['Death Knight'],
  },
  'army-of-the-dead': {
    id: 'army-of-the-dead',
    name: 'Army of the Dead',
    school: 'Necromancy',
    level: 5,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S, M (a bone fragment)',
    duration: 'Concentration, up to 1 minute',
    description: 'Summon 8 ghouls that rise from the ground. Each ghoul has 22 HP, +5 to hit, and deals 2d6+3 slashing damage.',
    classes: ['Death Knight', 'Necromancer'],
  },

  // NECROMANCER SPELLS (Diablo)
  'bone-spear': {
    id: 'bone-spear',
    name: 'Bone Spear',
    school: 'Necromancy',
    level: 2,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'Launch a spear of bone that pierces through enemies in a 60-foot line. Each creature takes 3d10 piercing damage (DEX save for half).',
    higherLevels: 'Damage increases by 1d10 for each slot level above 2nd.',
    classes: ['Necromancer'],
  },
  'corpse-explosion': {
    id: 'corpse-explosion',
    name: 'Corpse Explosion',
    school: 'Necromancy',
    level: 2,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'Detonate a corpse within range. All creatures within 10 feet take 4d8 necrotic damage (DEX save for half). The damage equals 25% of the creature\'s max HP if known.',
    classes: ['Necromancer'],
  },
  'bone-spirit': {
    id: 'bone-spirit',
    name: 'Bone Spirit',
    school: 'Necromancy',
    level: 3,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'Release a seeking bone spirit. It automatically hits a target within range, dealing 6d10 necrotic damage. The spirit ignores cover.',
    classes: ['Necromancer'],
  },
  'blood-nova': {
    id: 'blood-nova',
    name: 'Blood Nova',
    school: 'Necromancy',
    level: 4,
    castingTime: '1 action',
    range: 'Self (20-foot radius)',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'Sacrifice 20 HP to unleash a nova of blood. All creatures within 20 feet take 6d6 necrotic damage. You heal for half the total damage dealt.',
    classes: ['Necromancer'],
  },
  'land-of-the-dead': {
    id: 'land-of-the-dead',
    name: 'Land of the Dead',
    school: 'Necromancy',
    level: 6,
    castingTime: '1 action',
    range: 'Self (60-foot radius)',
    components: 'V, S, M (grave dirt)',
    duration: 'Concentration, up to 1 minute',
    description: 'Transform the area into a realm of death. Corpses constantly spawn, your Corpse Explosion has no limit, and all undead gain +4 to attack and damage.',
    classes: ['Necromancer'],
  },
  'iron-maiden': {
    id: 'iron-maiden',
    name: 'Iron Maiden',
    school: 'Necromancy',
    level: 3,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Concentration, up to 1 minute',
    description: 'Curse a creature to suffer for attacking. Whenever the target deals damage, it takes necrotic damage equal to half the damage dealt.',
    classes: ['Necromancer'],
  },
  'decrepify': {
    id: 'decrepify',
    name: 'Decrepify',
    school: 'Necromancy',
    level: 2,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Concentration, up to 1 minute',
    description: 'Curse a creature with weakness. The target has disadvantage on STR checks and saves, deals half damage with weapon attacks, and has speed reduced by half.',
    classes: ['Necromancer'],
  },

  // DEMON HUNTER SPELLS (WoW & Diablo)
  'fel-bolt': {
    id: 'fel-bolt',
    name: 'Fel Bolt',
    school: 'Evocation',
    level: 'cantrip',
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'Hurl a bolt of fel fire at a creature. Make a ranged spell attack for 1d10 fire damage. If you have Spectral Sight active, gain advantage on this attack. Damage increases at 5th level (2d10), 11th level (3d10), and 17th level (4d10).',
    classes: ['Demon Hunter'],
  },
  'throw-glaive': {
    id: 'throw-glaive',
    name: 'Throw Glaive',
    school: 'Conjuration',
    level: 'cantrip',
    castingTime: '1 action',
    range: '60 feet',
    components: 'S, M (a bladed weapon)',
    duration: 'Instantaneous',
    description: 'Throw a spectral glaive that bounces between targets. Make a ranged spell attack. On hit, deal 1d6 slashing damage, then the glaive bounces to another creature within 10 feet (new attack roll). Can bounce up to 2 times. Damage increases at 5th level (2d6), 11th level (3d6), and 17th level (4d6).',
    classes: ['Demon Hunter'],
  },
  'eye-beam': {
    id: 'eye-beam',
    name: 'Eye Beam',
    school: 'Evocation',
    level: 3,
    castingTime: '1 action',
    range: 'Self (40-foot line)',
    components: 'V',
    duration: 'Instantaneous',
    description: 'Fire a beam of fel energy from your eyes. All creatures in a 40-foot line take 6d6 fire damage (DEX save for half).',
    higherLevels: 'Damage increases by 2d6 for each slot level above 3rd.',
    classes: ['Demon Hunter'],
  },
  'immolation-aura': {
    id: 'immolation-aura',
    name: 'Immolation Aura',
    school: 'Evocation',
    level: 2,
    castingTime: '1 bonus action',
    range: 'Self',
    components: 'V',
    duration: 'Concentration, up to 1 minute',
    description: 'Wreathe yourself in demonic fire. Creatures that start their turn within 5 feet take 1d8 fire damage.',
    classes: ['Demon Hunter'],
  },
  'fel-rush': {
    id: 'fel-rush',
    name: 'Fel Rush',
    school: 'Conjuration',
    level: 1,
    castingTime: '1 bonus action',
    range: 'Self',
    components: 'V',
    duration: 'Instantaneous',
    description: 'Rush forward in a blur of fel energy, moving 30 feet in a straight line. Creatures you pass through take 2d8 fire damage.',
    classes: ['Demon Hunter'],
  },
  'metamorphosis': {
    id: 'metamorphosis',
    name: 'Metamorphosis',
    school: 'Transmutation',
    level: 5,
    castingTime: '1 action',
    range: 'Self',
    components: 'V, S',
    duration: 'Concentration, up to 1 minute',
    description: 'Transform into a demon. Gain +2 AC, 60-foot flying speed, and your attacks deal an extra 2d6 fire damage.',
    classes: ['Demon Hunter'],
  },
  'rain-of-vengeance': {
    id: 'rain-of-vengeance',
    name: 'Rain of Vengeance',
    school: 'Conjuration',
    level: 5,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S, M (an arrow)',
    duration: 'Instantaneous',
    description: 'Call down a devastating storm of shadow arrows. All creatures in a 40-foot radius take 8d6 piercing damage (DEX save for half).',
    classes: ['Demon Hunter', 'Amazon'],
  },
  'multishot': {
    id: 'multishot',
    name: 'Multishot',
    school: 'Conjuration',
    level: 2,
    castingTime: '1 action',
    range: 'Self (30-foot cone)',
    components: 'V, S, M (ammunition)',
    duration: 'Instantaneous',
    description: 'Fire a spray of arrows in a 30-foot cone. Each creature takes 3d6 piercing damage (DEX save for half).',
    classes: ['Demon Hunter', 'Amazon'],
  },
  'vault': {
    id: 'vault',
    name: 'Vault',
    school: 'Transmutation',
    level: 1,
    castingTime: '1 bonus action',
    range: 'Self',
    components: 'V',
    duration: 'Instantaneous',
    description: 'Tumble acrobatically up to 35 feet. This movement does not provoke opportunity attacks.',
    classes: ['Demon Hunter'],
  },

  // AMAZON SPELLS (Diablo 2)
  'lightning-fury': {
    id: 'lightning-fury',
    name: 'Lightning Fury',
    school: 'Evocation',
    level: 4,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S, M (a javelin)',
    duration: 'Instantaneous',
    description: 'Throw a javelin charged with lightning. On hit, deal weapon damage plus 4d8 lightning damage. Lightning bolts arc to all creatures within 20 feet, dealing 2d8 lightning damage each.',
    classes: ['Amazon'],
  },
  'power-strike': {
    id: 'power-strike',
    name: 'Power Strike',
    school: 'Evocation',
    level: 1,
    castingTime: '1 bonus action',
    range: 'Self',
    components: 'V',
    duration: '1 round',
    description: 'Charge your next javelin or spear attack with lightning. Deal an extra 2d6 lightning damage and the target must make a CON save or be stunned.',
    classes: ['Amazon'],
  },
  'charged-strike': {
    id: 'charged-strike',
    name: 'Charged Strike',
    school: 'Evocation',
    level: 3,
    castingTime: '1 bonus action',
    range: 'Self',
    components: 'V',
    duration: '1 round',
    description: 'Your next melee attack releases charged bolts. Deal an extra 4d6 lightning damage and 3 bolts arc to nearby enemies for 2d6 lightning damage each.',
    classes: ['Amazon'],
  },
  'magic-arrow': {
    id: 'magic-arrow',
    name: 'Magic Arrow',
    school: 'Conjuration',
    level: 'cantrip',
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'Conjure a magical arrow and fire it at a target. Make a ranged spell attack for 1d8 + DEX modifier force damage. You never run out of ammunition.',
    classes: ['Amazon'],
  },
  'immolation-arrow': {
    id: 'immolation-arrow',
    name: 'Immolation Arrow',
    school: 'Evocation',
    level: 3,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S, M (an arrow)',
    duration: 'Instantaneous',
    description: 'Fire an arrow that explodes into flame. The target and all creatures within 15 feet take 4d6 fire damage (DEX save for half). The area burns for 1 minute, dealing 2d6 fire damage to creatures entering.',
    classes: ['Amazon'],
  },
  'freezing-arrow': {
    id: 'freezing-arrow',
    name: 'Freezing Arrow',
    school: 'Evocation',
    level: 3,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S, M (an arrow)',
    duration: 'Instantaneous',
    description: 'Fire an arrow of intense cold. The target and all creatures within 10 feet take 4d6 cold damage (CON save for half) and have their speed reduced to 0 until end of your next turn.',
    classes: ['Amazon'],
  },
  'guided-arrow': {
    id: 'guided-arrow',
    name: 'Guided Arrow',
    school: 'Divination',
    level: 4,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S, M (an arrow)',
    duration: 'Instantaneous',
    description: 'Fire an arrow that cannot miss. The arrow automatically hits, ignores cover, and deals weapon damage plus 3d6 force damage.',
    classes: ['Amazon'],
  },
  'valkyrie': {
    id: 'valkyrie',
    name: 'Summon Valkyrie',
    school: 'Conjuration',
    level: 5,
    castingTime: '1 action',
    range: '30 feet',
    components: 'V, S, M (a golden feather)',
    duration: '1 hour',
    description: 'Summon a celestial Valkyrie warrior. She has AC 18, HP equal to 4 your level, +7 to hit, and deals 2d8+4 radiant damage with her spear.',
    classes: ['Amazon'],
  },
  'inner-sight': {
    id: 'inner-sight',
    name: 'Inner Sight',
    school: 'Divination',
    level: 1,
    castingTime: '1 bonus action',
    range: 'Self (30-foot radius)',
    components: 'V',
    duration: '1 minute',
    description: 'Mark all creatures in range. Marked creatures cannot hide, become invisible, or benefit from cover against your attacks.',
    classes: ['Amazon'],
  },
  'slow-missiles': {
    id: 'slow-missiles',
    name: 'Slow Missiles',
    school: 'Abjuration',
    level: 2,
    castingTime: '1 reaction',
    range: 'Self',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'When targeted by a ranged attack, reduce the damage by 2d10 + DEX modifier. If reduced to 0, catch the projectile.',
    classes: ['Amazon'],
  },
  'decoy': {
    id: 'decoy',
    name: 'Decoy',
    school: 'Illusion',
    level: 2,
    castingTime: '1 action',
    range: '30 feet',
    components: 'V, S',
    duration: 'Concentration, up to 1 minute',
    description: 'Create an illusory duplicate of yourself. The decoy has 1 HP, draws enemy attacks, and enemies must make an INT save to recognize it\'s not real.',
    classes: ['Amazon'],
  },

  // ADDITIONAL WOW SPELLS
  'shadowbolt': {
    id: 'shadowbolt',
    name: 'Shadow Bolt',
    school: 'Necromancy',
    level: 1,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'Hurl a bolt of shadow energy at a creature. Make a ranged spell attack for 2d10 necrotic damage.',
    higherLevels: 'Damage increases by 1d10 for each slot level above 1st.',
    classes: ['Warlock', 'Necromancer'],
  },
  'drain-life': {
    id: 'drain-life',
    name: 'Drain Life',
    school: 'Necromancy',
    level: 2,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Concentration, up to 1 minute',
    description: 'Channel a beam that drains life from a creature. Each round, the target takes 3d6 necrotic damage and you heal for half.',
    classes: ['Warlock', 'Necromancer', 'Death Knight'],
  },
  'fear': {
    id: 'fear-wow',
    name: 'Psychic Scream',
    school: 'Enchantment',
    level: 2,
    castingTime: '1 action',
    range: 'Self (30-foot radius)',
    components: 'V, S',
    duration: 'Concentration, up to 1 minute',
    description: 'Let out a psychic scream that causes all creatures in range to flee in terror (WIS save). Affected creatures run in a random direction.',
    classes: ['Warlock', 'Necromancer'],
  },
  'death-and-decay': {
    id: 'death-and-decay',
    name: 'Death and Decay',
    school: 'Necromancy',
    level: 4,
    castingTime: '1 action',
    range: '120 feet',
    components: 'V, S',
    duration: 'Concentration, up to 1 minute',
    description: 'Corrupt a 20-foot radius area. Creatures starting their turn there take 3d6 necrotic damage and have their speed halved.',
    classes: ['Death Knight', 'Necromancer'],
  },

  // DIABLO SPELLS
  'bone-prison': {
    id: 'bone-prison',
    name: 'Bone Prison',
    school: 'Necromancy',
    level: 3,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Concentration, up to 1 minute',
    description: 'Trap a creature in a cage of bones. The target is restrained (STR save). The prison has AC 15 and HP equal to 5 your level.',
    classes: ['Necromancer'],
  },
  'teeth': {
    id: 'teeth',
    name: 'Teeth',
    school: 'Necromancy',
    level: 'cantrip',
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'Spray teeth in a 15-foot cone. Each creature must make a DEX save or take 1d6 piercing damage.',
    classes: ['Necromancer'],
  },
  'bone-wall': {
    id: 'bone-wall',
    name: 'Bone Wall',
    school: 'Necromancy',
    level: 2,
    castingTime: '1 action',
    range: '60 feet',
    components: 'V, S, M (a bone fragment)',
    duration: 'Concentration, up to 10 minutes',
    description: 'Create a wall of bones up to 30 feet long, 10 feet high, and 1 foot thick. The wall has AC 15 and 30 HP per 10-foot section.',
    classes: ['Necromancer'],
  },
  'poison-nova': {
    id: 'poison-nova',
    name: 'Poison Nova',
    school: 'Necromancy',
    level: 4,
    castingTime: '1 action',
    range: 'Self (30-foot radius)',
    components: 'V, S',
    duration: 'Instantaneous',
    description: 'Release a wave of virulent poison. All creatures take 6d8 poison damage (CON save for half) and are poisoned for 1 minute (save ends).',
    classes: ['Necromancer'],
  },
  'revive': {
    id: 'revive',
    name: 'Revive',
    school: 'Necromancy',
    level: 4,
    castingTime: '1 action',
    range: '30 feet',
    components: 'V, S, M (grave dirt)',
    duration: '1 hour',
    description: 'Revive a creature that died within the last minute as an undead under your control. It retains its abilities but has the undead type.',
    classes: ['Necromancer'],
  },
}

// SKILLS DATA
export const SKILLS: Record<string, SkillRef> = {
  'acrobatics': {
    id: 'acrobatics',
    name: 'Acrobatics',
    ability: 'dexterity',
    description: 'Your Dexterity (Acrobatics) check covers your attempt to stay on your feet in a tricky situation, such as when you\'re trying to run across ice, balance on a tightrope, or stay upright on a rocking ship\'s deck.',
    examples: ['Balance on a tightrope', 'Stay upright on a rocking surface', 'Perform acrobatic stunts'],
  },
  'animal-handling': {
    id: 'animal-handling',
    name: 'Animal Handling',
    ability: 'wisdom',
    description: 'When there is any question whether you can calm down a domesticated animal, keep a mount from getting spooked, or intuit an animal\'s intentions, you might need to make a Wisdom (Animal Handling) check.',
    examples: ['Calm a spooked horse', 'Intuit an animal\'s intentions', 'Control your mount in battle'],
  },
  'arcana': {
    id: 'arcana',
    name: 'Arcana',
    ability: 'intelligence',
    description: 'Your Intelligence (Arcana) check measures your ability to recall lore about spells, magic items, eldritch symbols, magical traditions, the planes of existence, and the inhabitants of those planes.',
    examples: ['Identify a spell being cast', 'Recall magical lore', 'Recognize magical symbols'],
  },
  'athletics': {
    id: 'athletics',
    name: 'Athletics',
    ability: 'strength',
    description: 'Your Strength (Athletics) check covers difficult situations you encounter while climbing, jumping, or swimming.',
    examples: ['Climb a cliff', 'Jump an unusual distance', 'Swim in rough water', 'Grapple a creature'],
  },
  'deception': {
    id: 'deception',
    name: 'Deception',
    ability: 'charisma',
    description: 'Your Charisma (Deception) check determines whether you can convincingly hide the truth, either verbally or through your actions.',
    examples: ['Mislead someone', 'Fast-talk a guard', 'Disguise your intentions', 'Maintain a false identity'],
  },
  'history': {
    id: 'history',
    name: 'History',
    ability: 'intelligence',
    description: 'Your Intelligence (History) check measures your ability to recall lore about historical events, legendary people, ancient kingdoms, past disputes, recent wars, and lost civilizations.',
    examples: ['Recall historical events', 'Identify ancient artifacts', 'Know about noble lineages'],
  },
  'insight': {
    id: 'insight',
    name: 'Insight',
    ability: 'wisdom',
    description: 'Your Wisdom (Insight) check decides whether you can determine the true intentions of a creature, such as when searching out a lie or predicting someone\'s next move.',
    examples: ['Detect a lie', 'Predict behavior', 'Read body language'],
  },
  'intimidation': {
    id: 'intimidation',
    name: 'Intimidation',
    ability: 'charisma',
    description: 'When you attempt to influence someone through overt threats, hostile actions, and physical violence, you make a Charisma (Intimidation) check.',
    examples: ['Threaten someone', 'Pry information through threats', 'Scare off enemies'],
  },
  'investigation': {
    id: 'investigation',
    name: 'Investigation',
    ability: 'intelligence',
    description: 'When you look around for clues and make deductions based on those clues, you make an Intelligence (Investigation) check.',
    examples: ['Search for clues', 'Deduce hidden information', 'Find hidden doors'],
  },
  'medicine': {
    id: 'medicine',
    name: 'Medicine',
    ability: 'wisdom',
    description: 'A Wisdom (Medicine) check lets you try to stabilize a dying companion or diagnose an illness.',
    examples: ['Stabilize a dying creature', 'Diagnose an illness', 'Treat a wound'],
  },
  'nature': {
    id: 'nature',
    name: 'Nature',
    ability: 'intelligence',
    description: 'Your Intelligence (Nature) check measures your ability to recall lore about terrain, plants and animals, the weather, and natural cycles.',
    examples: ['Identify plants', 'Recall animal behavior', 'Predict weather'],
  },
  'perception': {
    id: 'perception',
    name: 'Perception',
    ability: 'wisdom',
    description: 'Your Wisdom (Perception) check lets you spot, hear, or otherwise detect the presence of something. It measures your general awareness of your surroundings.',
    examples: ['Spot hidden creatures', 'Hear approaching enemies', 'Notice subtle details'],
  },
  'performance': {
    id: 'performance',
    name: 'Performance',
    ability: 'charisma',
    description: 'Your Charisma (Performance) check determines how well you can delight an audience with music, dance, acting, storytelling, or some other form of entertainment.',
    examples: ['Play an instrument', 'Dance', 'Act in a play', 'Tell a compelling story'],
  },
  'persuasion': {
    id: 'persuasion',
    name: 'Persuasion',
    ability: 'charisma',
    description: 'When you attempt to influence someone through good nature, tact, or social graces, you make a Charisma (Persuasion) check.',
    examples: ['Negotiate a deal', 'Convince someone', 'Make a good impression'],
  },
  'religion': {
    id: 'religion',
    name: 'Religion',
    ability: 'intelligence',
    description: 'Your Intelligence (Religion) check measures your ability to recall lore about deities, rites and prayers, religious hierarchies, holy symbols, and practices of secret cults.',
    examples: ['Identify religious symbols', 'Recall deity lore', 'Recognize cult practices'],
  },
  'sleight-of-hand': {
    id: 'sleight-of-hand',
    name: 'Sleight of Hand',
    ability: 'dexterity',
    description: 'Whenever you attempt an act of legerdemain or manual trickery, you make a Dexterity (Sleight of Hand) check.',
    examples: ['Pick a pocket', 'Conceal an object', 'Plant something on someone'],
  },
  'stealth': {
    id: 'stealth',
    name: 'Stealth',
    ability: 'dexterity',
    description: 'Make a Dexterity (Stealth) check when you attempt to conceal yourself from enemies, slink past guards, or slip away without being noticed.',
    examples: ['Hide from enemies', 'Move silently', 'Tail someone'],
  },
  'survival': {
    id: 'survival',
    name: 'Survival',
    ability: 'wisdom',
    description: 'The DM might ask you to make a Wisdom (Survival) check to follow tracks, hunt wild game, guide your group through terrain, or predict the weather.',
    examples: ['Track creatures', 'Hunt game', 'Navigate wilderness', 'Identify natural hazards'],
  },
}

// ABILITIES DATA
export const ABILITIES: Record<string, AbilityRef> = {
  'strength': {
    id: 'strength',
    name: 'Strength',
    abbreviation: 'STR',
    description: 'Strength measures bodily power, athletic training, and the extent to which you can exert raw physical force.',
    skills: ['Athletics'],
    commonUses: ['Attack and damage rolls with melee weapons', 'Carrying capacity', 'Lifting, pushing, and dragging', 'Breaking objects'],
  },
  'dexterity': {
    id: 'dexterity',
    name: 'Dexterity',
    abbreviation: 'DEX',
    description: 'Dexterity measures agility, reflexes, and balance.',
    skills: ['Acrobatics', 'Sleight of Hand', 'Stealth'],
    commonUses: ['Attack and damage with finesse/ranged weapons', 'Armor Class', 'Initiative', 'Dexterity saving throws'],
  },
  'constitution': {
    id: 'constitution',
    name: 'Constitution',
    abbreviation: 'CON',
    description: 'Constitution measures health, stamina, and vital force.',
    skills: [],
    commonUses: ['Hit points', 'Constitution saving throws', 'Concentration checks', 'Holding breath'],
  },
  'intelligence': {
    id: 'intelligence',
    name: 'Intelligence',
    abbreviation: 'INT',
    description: 'Intelligence measures mental acuity, accuracy of recall, and the ability to reason.',
    skills: ['Arcana', 'History', 'Investigation', 'Nature', 'Religion'],
    commonUses: ['Wizard spellcasting', 'Wizard spell save DC', 'Knowledge checks'],
  },
  'wisdom': {
    id: 'wisdom',
    name: 'Wisdom',
    abbreviation: 'WIS',
    description: 'Wisdom reflects how attuned you are to the world around you and represents perceptiveness and intuition.',
    skills: ['Animal Handling', 'Insight', 'Medicine', 'Perception', 'Survival'],
    commonUses: ['Cleric/Druid/Ranger spellcasting', 'Passive Perception', 'Wisdom saving throws'],
  },
  'charisma': {
    id: 'charisma',
    name: 'Charisma',
    abbreviation: 'CHA',
    description: 'Charisma measures your ability to interact effectively with others, including confidence and eloquence.',
    skills: ['Deception', 'Intimidation', 'Performance', 'Persuasion'],
    commonUses: ['Bard/Paladin/Sorcerer/Warlock spellcasting', 'Social interaction', 'Charisma saving throws'],
  },
}

// WEAPONS DATA
export const WEAPONS: Record<string, WeaponRef> = {
  'rapier': {
    id: 'rapier',
    name: 'Rapier',
    category: 'martial',
    type: 'melee',
    damage: '1d8',
    damageType: 'piercing',
    properties: ['Finesse'],
    weight: '2 lb.',
    cost: '25 gp',
    description: 'A slender, sharply pointed sword designed for thrusting attacks. Favored by duelists and those who rely on speed over brute strength.',
  },
  'shortsword': {
    id: 'shortsword',
    name: 'Shortsword',
    category: 'martial',
    type: 'melee',
    damage: '1d6',
    damageType: 'piercing',
    properties: ['Finesse', 'Light'],
    weight: '2 lb.',
    cost: '10 gp',
    description: 'A versatile blade that works well for both slashing and stabbing. Its light weight makes it ideal for dual wielding.',
  },
  'hand-crossbow': {
    id: 'hand-crossbow',
    name: 'Hand Crossbow',
    category: 'martial',
    type: 'ranged',
    damage: '1d6',
    damageType: 'piercing',
    properties: ['Ammunition (range 30/120)', 'Light', 'Loading'],
    weight: '3 lb.',
    cost: '75 gp',
    description: 'A small crossbow that can be fired with one hand, favored by rogues and drow for its concealability.',
  },
  'longsword': {
    id: 'longsword',
    name: 'Longsword',
    category: 'martial',
    type: 'melee',
    damage: '1d8',
    damageType: 'slashing',
    properties: ['Versatile (1d10)'],
    weight: '3 lb.',
    cost: '15 gp',
    description: 'The classic knight\'s weapon. Can be wielded with one or two hands for additional damage.',
  },
  'greatsword': {
    id: 'greatsword',
    name: 'Greatsword',
    category: 'martial',
    type: 'melee',
    damage: '2d6',
    damageType: 'slashing',
    properties: ['Heavy', 'Two-Handed'],
    weight: '6 lb.',
    cost: '50 gp',
    description: 'A massive blade requiring both hands to wield effectively. Deals devastating damage but leaves no hand free for a shield.',
  },
  'longbow': {
    id: 'longbow',
    name: 'Longbow',
    category: 'martial',
    type: 'ranged',
    damage: '1d8',
    damageType: 'piercing',
    properties: ['Ammunition (range 150/600)', 'Heavy', 'Two-Handed'],
    weight: '2 lb.',
    cost: '50 gp',
    description: 'A tall bow with exceptional range. Requires both hands and considerable strength to draw.',
  },
  'dagger': {
    id: 'dagger',
    name: 'Dagger',
    category: 'simple',
    type: 'melee',
    damage: '1d4',
    damageType: 'piercing',
    properties: ['Finesse', 'Light', 'Thrown (range 20/60)'],
    weight: '1 lb.',
    cost: '2 gp',
    description: 'A small blade useful for both close combat and throwing. Easy to conceal and often carried as a backup weapon.',
  },
  'battleaxe': {
    id: 'battleaxe',
    name: 'Battleaxe',
    category: 'martial',
    type: 'melee',
    damage: '1d8',
    damageType: 'slashing',
    properties: ['Versatile (1d10)'],
    weight: '4 lb.',
    cost: '10 gp',
    description: 'A single-bladed axe favored by dwarves and warriors who appreciate its balance of power and versatility. Can be wielded with one or two hands.',
  },
  'warhammer': {
    id: 'warhammer',
    name: 'Warhammer',
    category: 'martial',
    type: 'melee',
    damage: '1d8',
    damageType: 'bludgeoning',
    properties: ['Versatile (1d10)'],
    weight: '2 lb.',
    cost: '15 gp',
    description: 'A heavy hammer designed for combat. Excellent for crushing armor and breaking bones. A favorite of dwarven warriors.',
  },
  'greataxe': {
    id: 'greataxe',
    name: 'Greataxe',
    category: 'martial',
    type: 'melee',
    damage: '1d12',
    damageType: 'slashing',
    properties: ['Heavy', 'Two-Handed'],
    weight: '7 lb.',
    cost: '30 gp',
    description: 'A massive double-headed axe requiring great strength to wield. Delivers devastating cleaving blows.',
  },
  'maul': {
    id: 'maul',
    name: 'Maul',
    category: 'martial',
    type: 'melee',
    damage: '2d6',
    damageType: 'bludgeoning',
    properties: ['Heavy', 'Two-Handed'],
    weight: '10 lb.',
    cost: '10 gp',
    description: 'An enormous hammer that can crush through the heaviest armor. Slow but incredibly powerful.',
  },
  'scimitar': {
    id: 'scimitar',
    name: 'Scimitar',
    category: 'martial',
    type: 'melee',
    damage: '1d6',
    damageType: 'slashing',
    properties: ['Finesse', 'Light'],
    weight: '3 lb.',
    cost: '25 gp',
    description: 'A curved blade with a single sharp edge. Popular among desert warriors and pirates for its slashing attacks.',
  },
  'halberd': {
    id: 'halberd',
    name: 'Halberd',
    category: 'martial',
    type: 'melee',
    damage: '1d10',
    damageType: 'slashing',
    properties: ['Heavy', 'Reach', 'Two-Handed'],
    weight: '6 lb.',
    cost: '20 gp',
    description: 'A polearm with an axe blade, spike, and hook. Grants extended reach and versatility in combat.',
  },
  'glaive': {
    id: 'glaive',
    name: 'Glaive',
    category: 'martial',
    type: 'melee',
    damage: '1d10',
    damageType: 'slashing',
    properties: ['Heavy', 'Reach', 'Two-Handed'],
    weight: '6 lb.',
    cost: '20 gp',
    description: 'A single-edged blade on the end of a pole. Excellent for keeping enemies at a distance while delivering powerful cuts.',
  },
  'pike': {
    id: 'pike',
    name: 'Pike',
    category: 'martial',
    type: 'melee',
    damage: '1d10',
    damageType: 'piercing',
    properties: ['Heavy', 'Reach', 'Two-Handed'],
    weight: '18 lb.',
    cost: '5 gp',
    description: 'An extremely long spear designed to hold cavalry at bay. Standard equipment for pikemen formations.',
  },
  'lance': {
    id: 'lance',
    name: 'Lance',
    category: 'martial',
    type: 'melee',
    damage: '1d12',
    damageType: 'piercing',
    properties: ['Reach', 'Special'],
    weight: '6 lb.',
    cost: '10 gp',
    description: 'A cavalry weapon designed for mounted combat. Disadvantage when used against creatures within 5 feet, and requires two hands when not mounted.',
  },
  'whip': {
    id: 'whip',
    name: 'Whip',
    category: 'martial',
    type: 'melee',
    damage: '1d4',
    damageType: 'slashing',
    properties: ['Finesse', 'Reach'],
    weight: '3 lb.',
    cost: '2 gp',
    description: 'A flexible weapon that allows you to strike from 10 feet away. Low damage but useful for its reach and finesse.',
  },
  'flail': {
    id: 'flail',
    name: 'Flail',
    category: 'martial',
    type: 'melee',
    damage: '1d8',
    damageType: 'bludgeoning',
    properties: [],
    weight: '2 lb.',
    cost: '10 gp',
    description: 'A spiked ball attached to a handle by a chain. The flail\'s swing can be difficult to block with a shield.',
  },
  'morningstar': {
    id: 'morningstar',
    name: 'Morningstar',
    category: 'martial',
    type: 'melee',
    damage: '1d8',
    damageType: 'piercing',
    properties: [],
    weight: '4 lb.',
    cost: '15 gp',
    description: 'A spiked mace that can pierce armor. The spikes allow it to deal piercing rather than bludgeoning damage.',
  },
  'trident': {
    id: 'trident',
    name: 'Trident',
    category: 'martial',
    type: 'melee',
    damage: '1d6',
    damageType: 'piercing',
    properties: ['Thrown (range 20/60)', 'Versatile (1d8)'],
    weight: '4 lb.',
    cost: '5 gp',
    description: 'A three-pronged spear associated with sea gods and aquatic warriors. Can be thrown or used for melee.',
  },
  'net': {
    id: 'net',
    name: 'Net',
    category: 'martial',
    type: 'ranged',
    damage: '',
    damageType: 'none',
    properties: ['Special', 'Thrown (range 5/15)'],
    weight: '3 lb.',
    cost: '1 gp',
    description: 'A Large or smaller creature hit by a net is restrained until freed. A net has no effect on formless or Huge+ creatures. A creature can use its action to make DC 10 STR check to free itself or another. Dealing 5 slashing damage to the net (AC 10) frees the creature and destroys the net.',
  },
  'war-pick': {
    id: 'war-pick',
    name: 'War Pick',
    category: 'martial',
    type: 'melee',
    damage: '1d8',
    damageType: 'piercing',
    properties: [],
    weight: '2 lb.',
    cost: '5 gp',
    description: 'A military pick designed to punch through armor. The concentrated force of its spike is deadly against armored foes.',
  },
  'shortbow': {
    id: 'shortbow',
    name: 'Shortbow',
    category: 'simple',
    type: 'ranged',
    damage: '1d6',
    damageType: 'piercing',
    properties: ['Ammunition (range 80/320)', 'Two-Handed'],
    weight: '2 lb.',
    cost: '25 gp',
    description: 'A smaller bow suitable for use while mounted or in tight spaces. Less powerful than a longbow but more maneuverable.',
  },
  'light-crossbow': {
    id: 'light-crossbow',
    name: 'Light Crossbow',
    category: 'simple',
    type: 'ranged',
    damage: '1d8',
    damageType: 'piercing',
    properties: ['Ammunition (range 80/320)', 'Loading', 'Two-Handed'],
    weight: '5 lb.',
    cost: '25 gp',
    description: 'A mechanical bow that requires less training than a traditional bow. Must be loaded after each shot.',
  },
  'heavy-crossbow': {
    id: 'heavy-crossbow',
    name: 'Heavy Crossbow',
    category: 'martial',
    type: 'ranged',
    damage: '1d10',
    damageType: 'piercing',
    properties: ['Ammunition (range 100/400)', 'Heavy', 'Loading', 'Two-Handed'],
    weight: '18 lb.',
    cost: '50 gp',
    description: 'A powerful crossbow that can punch through armor at long range. Slow to reload but devastating when it hits.',
  },
  'javelin': {
    id: 'javelin',
    name: 'Javelin',
    category: 'simple',
    type: 'melee',
    damage: '1d6',
    damageType: 'piercing',
    properties: ['Thrown (range 30/120)'],
    weight: '2 lb.',
    cost: '5 sp',
    description: 'A light spear designed for throwing. Soldiers often carry several for ranged attacks before closing to melee.',
  },
  'handaxe': {
    id: 'handaxe',
    name: 'Handaxe',
    category: 'simple',
    type: 'melee',
    damage: '1d6',
    damageType: 'slashing',
    properties: ['Light', 'Thrown (range 20/60)'],
    weight: '2 lb.',
    cost: '5 gp',
    description: 'A small axe designed for one-handed use. Can be thrown or used in close combat, and is popular for dual wielding.',
  },
  'quarterstaff': {
    id: 'quarterstaff',
    name: 'Quarterstaff',
    category: 'simple',
    type: 'melee',
    damage: '1d6',
    damageType: 'bludgeoning',
    properties: ['Versatile (1d8)'],
    weight: '4 lb.',
    cost: '2 sp',
    description: 'A simple wooden staff that serves as a walking stick and weapon. Often used by monks and spellcasters.',
  },
  'mace': {
    id: 'mace',
    name: 'Mace',
    category: 'simple',
    type: 'melee',
    damage: '1d6',
    damageType: 'bludgeoning',
    properties: [],
    weight: '4 lb.',
    cost: '5 gp',
    description: 'A metal-headed club. Simple but effective, especially against armored opponents.',
  },
  'club': {
    id: 'club',
    name: 'Club',
    category: 'simple',
    type: 'melee',
    damage: '1d4',
    damageType: 'bludgeoning',
    properties: ['Light'],
    weight: '2 lb.',
    cost: '1 sp',
    description: 'The most basic of weaponsa heavy stick. Improvised clubs are common, but purpose-made ones are sturdier.',
  },
  'greatclub': {
    id: 'greatclub',
    name: 'Greatclub',
    category: 'simple',
    type: 'melee',
    damage: '1d8',
    damageType: 'bludgeoning',
    properties: ['Two-Handed'],
    weight: '10 lb.',
    cost: '2 sp',
    description: 'A massive wooden club requiring both hands to swing effectively. Favored by giants and ogres.',
  },
  'sling': {
    id: 'sling',
    name: 'Sling',
    category: 'simple',
    type: 'ranged',
    damage: '1d4',
    damageType: 'bludgeoning',
    properties: ['Ammunition (range 30/120)'],
    weight: '',
    cost: '1 sp',
    description: 'A simple leather pouch on a cord used to hurl stones. Cheap and easy to use, with ammunition found anywhere.',
  },
}

// ARMOR DATA
export const ARMOR: Record<string, ArmorRef> = {
  'leather': {
    id: 'leather',
    name: 'Leather Armor',
    category: 'light',
    ac: '11 + Dex modifier',
    stealthDisadvantage: false,
    weight: '10 lb.',
    cost: '10 gp',
    description: 'Made from toughened leather, this armor provides basic protection while remaining flexible.',
  },
  'studded-leather': {
    id: 'studded-leather',
    name: 'Studded Leather',
    category: 'light',
    ac: '12 + Dex modifier',
    stealthDisadvantage: false,
    weight: '13 lb.',
    cost: '45 gp',
    description: 'Leather armor reinforced with metal studs or rivets, offering improved protection.',
  },
  'chain-shirt': {
    id: 'chain-shirt',
    name: 'Chain Shirt',
    category: 'medium',
    ac: '13 + Dex modifier (max 2)',
    stealthDisadvantage: false,
    weight: '20 lb.',
    cost: '50 gp',
    description: 'A shirt of interlocking metal rings worn between layers of clothing. Provides good protection without encumbrance.',
  },
  'half-plate': {
    id: 'half-plate',
    name: 'Half Plate',
    category: 'medium',
    ac: '15 + Dex modifier (max 2)',
    stealthDisadvantage: true,
    weight: '40 lb.',
    cost: '750 gp',
    description: 'Plate armor covering the vital areas with lighter protection on the limbs. Provides excellent defense at the cost of stealth.',
  },
  'chain-mail': {
    id: 'chain-mail',
    name: 'Chain Mail',
    category: 'heavy',
    ac: '16',
    strength: 13,
    stealthDisadvantage: true,
    weight: '55 lb.',
    cost: '75 gp',
    description: 'Full-body armor of interlocking metal rings. Offers solid protection but requires strength and impedes stealth.',
  },
  'plate': {
    id: 'plate',
    name: 'Plate Armor',
    category: 'heavy',
    ac: '18',
    strength: 15,
    stealthDisadvantage: true,
    weight: '65 lb.',
    cost: '1,500 gp',
    description: 'The finest heavy armor, consisting of shaped, interlocking metal plates. Provides unparalleled protection.',
  },
}

// CONDITIONS DATA
export const CONDITIONS: Record<string, ConditionRef> = {
  'blinded': {
    id: 'blinded',
    name: 'Blinded',
    effects: [
      'A blinded creature can\'t see and automatically fails any ability check that requires sight.',
      'Attack rolls against the creature have advantage, and the creature\'s attack rolls have disadvantage.',
    ],
  },
  'charmed': {
    id: 'charmed',
    name: 'Charmed',
    effects: [
      'A charmed creature can\'t attack the charmer or target the charmer with harmful abilities or magical effects.',
      'The charmer has advantage on any ability check to interact socially with the creature.',
    ],
  },
  'deafened': {
    id: 'deafened',
    name: 'Deafened',
    effects: [
      'A deafened creature can\'t hear and automatically fails any ability check that requires hearing.',
    ],
  },
  'frightened': {
    id: 'frightened',
    name: 'Frightened',
    effects: [
      'A frightened creature has disadvantage on ability checks and attack rolls while the source of its fear is within line of sight.',
      'The creature can\'t willingly move closer to the source of its fear.',
    ],
  },
  'grappled': {
    id: 'grappled',
    name: 'Grappled',
    effects: [
      'A grappled creature\'s speed becomes 0, and it can\'t benefit from any bonus to its speed.',
      'The condition ends if the grappler is incapacitated or if an effect removes the grappled creature from the grappler\'s reach.',
    ],
  },
  'incapacitated': {
    id: 'incapacitated',
    name: 'Incapacitated',
    effects: [
      'An incapacitated creature can\'t take actions or reactions.',
    ],
  },
  'invisible': {
    id: 'invisible',
    name: 'Invisible',
    effects: [
      'An invisible creature is impossible to see without the aid of magic or a special sense.',
      'The creature\'s location can be detected by noise it makes or tracks it leaves.',
      'Attack rolls against the creature have disadvantage, and the creature\'s attack rolls have advantage.',
    ],
  },
  'paralyzed': {
    id: 'paralyzed',
    name: 'Paralyzed',
    effects: [
      'A paralyzed creature is incapacitated and can\'t move or speak.',
      'The creature automatically fails Strength and Dexterity saving throws.',
      'Attack rolls against the creature have advantage.',
      'Any attack that hits the creature is a critical hit if the attacker is within 5 feet.',
    ],
  },
  'petrified': {
    id: 'petrified',
    name: 'Petrified',
    effects: [
      'A petrified creature is transformed into a solid inanimate substance. Its weight increases by a factor of ten.',
      'The creature is incapacitated, can\'t move or speak, and is unaware of its surroundings.',
      'Attack rolls against the creature have advantage.',
      'The creature automatically fails Strength and Dexterity saving throws.',
      'The creature has resistance to all damage and is immune to poison and disease.',
    ],
  },
  'poisoned': {
    id: 'poisoned',
    name: 'Poisoned',
    effects: [
      'A poisoned creature has disadvantage on attack rolls and ability checks.',
    ],
  },
  'prone': {
    id: 'prone',
    name: 'Prone',
    effects: [
      'A prone creature\'s only movement option is to crawl, unless it stands up.',
      'The creature has disadvantage on attack rolls.',
      'An attack roll against the creature has advantage if the attacker is within 5 feet. Otherwise, the attack roll has disadvantage.',
    ],
  },
  'restrained': {
    id: 'restrained',
    name: 'Restrained',
    effects: [
      'A restrained creature\'s speed becomes 0, and it can\'t benefit from any bonus to its speed.',
      'Attack rolls against the creature have advantage, and the creature\'s attack rolls have disadvantage.',
      'The creature has disadvantage on Dexterity saving throws.',
    ],
  },
  'stunned': {
    id: 'stunned',
    name: 'Stunned',
    effects: [
      'A stunned creature is incapacitated, can\'t move, and can speak only falteringly.',
      'The creature automatically fails Strength and Dexterity saving throws.',
      'Attack rolls against the creature have advantage.',
    ],
  },
  'unconscious': {
    id: 'unconscious',
    name: 'Unconscious',
    effects: [
      'An unconscious creature is incapacitated, can\'t move or speak, and is unaware of its surroundings.',
      'The creature drops whatever it\'s holding and falls prone.',
      'The creature automatically fails Strength and Dexterity saving throws.',
      'Attack rolls against the creature have advantage.',
      'Any attack that hits the creature is a critical hit if the attacker is within 5 feet.',
    ],
  },
}

// RACIAL/CLASS TRAITS DATA
export const TRAITS: Record<string, TraitRef> = {
  'fey-ancestry': {
    id: 'fey-ancestry',
    name: 'Fey Ancestry',
    source: 'Elf / Half-Elf / Drow',
    description: 'You have advantage on saving throws against being charmed, and magic can\'t put you to sleep.',
    mechanics: 'Advantage on saves vs. charm effects. Immunity to magical sleep.',
  },
  'trance': {
    id: 'trance',
    name: 'Trance',
    source: 'Elf / Drow',
    description: 'Elves don\'t need to sleep. Instead, they meditate deeply, remaining semiconscious, for 4 hours a day. This rest provides the same benefit as 8 hours of sleep.',
    mechanics: '4 hours of meditation = 8 hours of sleep. Semiconscious during trance.',
  },
  'sunlight-sensitivity': {
    id: 'sunlight-sensitivity',
    name: 'Sunlight Sensitivity',
    source: 'Drow',
    description: 'You have disadvantage on attack rolls and on Wisdom (Perception) checks that rely on sight when you, the target of your attack, or whatever you are trying to perceive is in direct sunlight.',
    mechanics: 'Disadvantage on attacks and Perception in sunlight.',
  },
  'hellish-resistance': {
    id: 'hellish-resistance',
    name: 'Hellish Resistance',
    source: 'Tiefling',
    description: 'You have resistance to fire damage.',
    mechanics: 'Take half damage from fire.',
  },
  'second-wind': {
    id: 'second-wind',
    name: 'Second Wind',
    source: 'Fighter',
    description: 'You have a limited well of stamina that you can draw on to protect yourself from harm. On your turn, you can use a bonus action to regain hit points equal to 1d10 + your fighter level. Once you use this feature, you must finish a short or long rest before you can use it again.',
    mechanics: 'Bonus action: Heal 1d10 + Fighter level. Recharges on short/long rest.',
  },
  'action-surge': {
    id: 'action-surge',
    name: 'Action Surge',
    source: 'Fighter (Level 2)',
    description: 'On your turn, you can take one additional action. Once you use this feature, you must finish a short or long rest before you can use it again. Starting at 17th level, you can use it twice before a rest, but only once per turn.',
    mechanics: 'Gain one additional action. Recharges on short/long rest.',
  },
  'awakened-mind': {
    id: 'awakened-mind',
    name: 'Awakened Mind',
    source: 'Warlock (Great Old One)',
    description: 'Starting at 1st level, your alien knowledge gives you the ability to touch the minds of other creatures. You can communicate telepathically with any creature you can see within 30 feet of you. You don\'t need to share a language with the creature for it to understand your telepathic utterances, but the creature must be able to understand at least one language.',
    mechanics: 'Telepathic communication with creatures within 30 feet.',
  },
  'entropic-ward': {
    id: 'entropic-ward',
    name: 'Entropic Ward',
    source: 'Warlock (Great Old One)',
    description: 'At 6th level, you learn to magically ward yourself against attack and to turn an enemy\'s failed strike into good luck for yourself. When a creature makes an attack roll against you, you can use your reaction to impose disadvantage on that roll. If the attack misses you, your next attack roll against the creature has advantage if you make it before the end of your next turn. Once you use this feature, you can\'t use it again until you finish a short or long rest.',
    mechanics: 'Reaction: Impose disadvantage on attack against you. If it misses, gain advantage on your next attack against them. Recharges on short/long rest.',
  },
  'thought-shield': {
    id: 'thought-shield',
    name: 'Thought Shield',
    source: 'Warlock (Great Old One)',
    description: 'Starting at 10th level, your thoughts can\'t be read by telepathy or other means unless you allow it. You also have resistance to psychic damage, and whenever a creature deals psychic damage to you, that creature takes the same amount of damage that you do.',
    mechanics: 'Immune to thought reading. Resistance to psychic damage. Reflect psychic damage back to attacker.',
  },
  'create-thrall': {
    id: 'create-thrall',
    name: 'Create Thrall',
    source: 'Warlock (Great Old One)',
    description: 'At 14th level, you gain the ability to infect a humanoid\'s mind with the alien magic of your patron. You can use your action to touch an incapacitated humanoid. That creature is then charmed by you until a remove curse spell is cast on it, the charmed condition is removed from it, or you use this feature again. You can communicate telepathically with the charmed creature as long as the two of you are on the same plane of existence.',
    mechanics: 'Action: Touch incapacitated humanoid to permanently charm them. Telepathic link across any distance on same plane.',
  },
  'pact-magic': {
    id: 'pact-magic',
    name: 'Pact Magic',
    source: 'Warlock',
    description: 'Your arcane research and the magic bestowed on you by your patron have given you facility with spells. You regain all expended spell slots when you finish a short or long rest.',
    mechanics: 'Spell slots recharge on short rest. All slots are the same level.',
  },
  'dark-ones-blessing': {
    id: 'dark-ones-blessing',
    name: "Dark One's Blessing",
    source: 'Warlock (The Fiend)',
    description: 'Starting at 1st level, when you reduce a hostile creature to 0 hit points, you gain temporary hit points equal to your Charisma modifier + your warlock level (minimum of 1).',
    mechanics: 'Gain temp HP = CHA mod + Warlock level when you kill an enemy.',
  },
  'fey-presence': {
    id: 'fey-presence',
    name: 'Fey Presence',
    source: 'Warlock (The Archfey)',
    description: 'Starting at 1st level, your patron bestows upon you the ability to project the beguiling and fearsome presence of the fey. As an action, you can cause each creature in a 10-foot cube to make a Wisdom saving throw. Creatures that fail are charmed or frightened by you (your choice) until the end of your next turn.',
    mechanics: 'Action: 10-ft cube, WIS save or charmed/frightened. Recharges on short/long rest.',
  },
  'improved-critical': {
    id: 'improved-critical',
    name: 'Improved Critical',
    source: 'Fighter (Champion)',
    description: 'Beginning when you choose this archetype at 3rd level, your weapon attacks score a critical hit on a roll of 19 or 20.',
    mechanics: 'Critical hits on 19-20 instead of just 20.',
  },
  'combat-superiority': {
    id: 'combat-superiority',
    name: 'Combat Superiority',
    source: 'Fighter (Battle Master)',
    description: 'When you choose this archetype at 3rd level, you learn maneuvers that are fueled by special dice called superiority dice. You have four superiority dice, which are d8s. A superiority die is expended when you use it.',
    mechanics: '4 d8 superiority dice. Learn 3 maneuvers. Recharges on short/long rest.',
  },
  'resourceful': {
    id: 'resourceful',
    name: 'Resourceful',
    source: 'Human',
    description: 'You gain Inspiration whenever you finish a Long Rest.',
    mechanics: 'Automatic Inspiration after each Long Rest.',
  },
  'skillful': {
    id: 'skillful',
    name: 'Skillful',
    source: 'Human',
    description: 'You gain proficiency in one skill of your choice.',
    mechanics: 'Gain 1 additional skill proficiency.',
  },
  'versatile': {
    id: 'versatile',
    name: 'Versatile',
    source: 'Human',
    description: 'You gain an Origin feat of your choice. The Skilled feat is recommended for new players.',
    mechanics: 'Gain 1 Origin feat at character creation.',
  },
  'dwarven-resilience': {
    id: 'dwarven-resilience',
    name: 'Dwarven Resilience',
    source: 'Dwarf',
    description: 'You have advantage on saving throws against poison, and you have resistance against poison damage.',
    mechanics: 'Advantage on poison saves. Resistance to poison damage.',
  },
  'skill-versatility': {
    id: 'skill-versatility',
    name: 'Skill Versatility',
    source: 'Half-Elf',
    description: 'You gain proficiency in two skills of your choice.',
    mechanics: 'Gain 2 additional skill proficiencies.',
  },
  // === ELDRITCH INVOCATIONS (Warlock) ===
  'agonizing-blast': {
    id: 'agonizing-blast',
    name: 'Agonizing Blast',
    source: 'Warlock (Eldritch Invocation)',
    description: 'When you cast eldritch blast, add your Charisma modifier to the damage it deals on a hit.',
    mechanics: 'Eldritch Blast damage + CHA modifier per beam.',
  },
  'armor-of-shadows': {
    id: 'armor-of-shadows',
    name: 'Armor of Shadows',
    source: 'Warlock (Eldritch Invocation)',
    description: 'You can cast mage armor on yourself at will, without expending a spell slot or material components.',
    mechanics: 'At-will Mage Armor (AC = 13 + DEX modifier).',
  },
  'beast-speech': {
    id: 'beast-speech',
    name: 'Beast Speech',
    source: 'Warlock (Eldritch Invocation)',
    description: 'You can cast speak with animals at will, without expending a spell slot.',
    mechanics: 'At-will Speak with Animals.',
  },
  'beguiling-influence': {
    id: 'beguiling-influence',
    name: 'Beguiling Influence',
    source: 'Warlock (Eldritch Invocation)',
    description: 'You gain proficiency in the Deception and Persuasion skills.',
    mechanics: 'Proficiency in Deception and Persuasion.',
  },
  'book-of-ancient-secrets': {
    id: 'book-of-ancient-secrets',
    name: 'Book of Ancient Secrets',
    source: 'Warlock (Eldritch Invocation)',
    description: 'You can now inscribe magical rituals in your Book of Shadows. Choose two 1st-level spells that have the ritual tag from any class\'s spell list. You can cast those spells as rituals.',
    mechanics: 'Requires Pact of the Tome. Learn and cast ritual spells from any class.',
  },
  'devils-sight': {
    id: 'devils-sight',
    name: "Devil's Sight",
    source: 'Warlock (Eldritch Invocation)',
    description: 'You can see normally in darkness, both magical and nonmagical, to a distance of 120 feet.',
    mechanics: '120 feet of vision in all darkness, including magical darkness.',
  },
  'eldritch-sight': {
    id: 'eldritch-sight',
    name: 'Eldritch Sight',
    source: 'Warlock (Eldritch Invocation)',
    description: 'You can cast detect magic at will, without expending a spell slot.',
    mechanics: 'At-will Detect Magic.',
  },
  'eldritch-spear': {
    id: 'eldritch-spear',
    name: 'Eldritch Spear',
    source: 'Warlock (Eldritch Invocation)',
    description: 'When you cast eldritch blast, its range is 300 feet.',
    mechanics: 'Eldritch Blast range increased to 300 feet.',
  },
  'eyes-of-the-rune-keeper': {
    id: 'eyes-of-the-rune-keeper',
    name: 'Eyes of the Rune Keeper',
    source: 'Warlock (Eldritch Invocation)',
    description: 'You can read all writing.',
    mechanics: 'Read any written language.',
  },
  'fiendish-vigor': {
    id: 'fiendish-vigor',
    name: 'Fiendish Vigor',
    source: 'Warlock (Eldritch Invocation)',
    description: 'You can cast false life on yourself at will as a 1st-level spell, without expending a spell slot or material components.',
    mechanics: 'At-will False Life (1d4+4 temp HP).',
  },
  'gaze-of-two-minds': {
    id: 'gaze-of-two-minds',
    name: 'Gaze of Two Minds',
    source: 'Warlock (Eldritch Invocation)',
    description: 'You can use your action to touch a willing humanoid and perceive through its senses until the end of your next turn.',
    mechanics: 'Share senses with a willing humanoid via touch.',
  },
  'mask-of-many-faces': {
    id: 'mask-of-many-faces',
    name: 'Mask of Many Faces',
    source: 'Warlock (Eldritch Invocation)',
    description: 'You can cast disguise self at will, without expending a spell slot.',
    mechanics: 'At-will Disguise Self.',
  },
  'misty-visions': {
    id: 'misty-visions',
    name: 'Misty Visions',
    source: 'Warlock (Eldritch Invocation)',
    description: 'You can cast silent image at will, without expending a spell slot or material components.',
    mechanics: 'At-will Silent Image.',
  },
  'repelling-blast': {
    id: 'repelling-blast',
    name: 'Repelling Blast',
    source: 'Warlock (Eldritch Invocation)',
    description: 'When you hit a creature with eldritch blast, you can push the creature up to 10 feet away from you in a straight line.',
    mechanics: 'Eldritch Blast pushes target 10 feet per hit.',
  },
  'thirsting-blade': {
    id: 'thirsting-blade',
    name: 'Thirsting Blade',
    source: 'Warlock (Eldritch Invocation)',
    description: 'You can attack with your pact weapon twice, instead of once, whenever you take the Attack action on your turn.',
    mechanics: 'Requires Pact of the Blade, 5th level. Extra Attack with pact weapon.',
  },
  'voice-of-the-chain-master': {
    id: 'voice-of-the-chain-master',
    name: 'Voice of the Chain Master',
    source: 'Warlock (Eldritch Invocation)',
    description: 'You can communicate telepathically with your familiar and perceive through your familiar\'s senses as long as you are on the same plane of existence.',
    mechanics: 'Requires Pact of the Chain. Telepathy and shared senses with familiar.',
  },
  // === FIGHTING STYLES (Fighter/Paladin/Ranger) ===
  'archery-style': {
    id: 'archery-style',
    name: 'Archery',
    source: 'Fighter/Ranger Fighting Style',
    description: 'You gain a +2 bonus to attack rolls you make with ranged weapons.',
    mechanics: '+2 to attack rolls with ranged weapons.',
  },
  'defense-style': {
    id: 'defense-style',
    name: 'Defense',
    source: 'Fighter/Paladin/Ranger Fighting Style',
    description: 'While you are wearing armor, you gain a +1 bonus to AC.',
    mechanics: '+1 AC while wearing armor.',
  },
  'dueling-style': {
    id: 'dueling-style',
    name: 'Dueling',
    source: 'Fighter/Paladin/Ranger Fighting Style',
    description: 'When you are wielding a melee weapon in one hand and no other weapons, you gain a +2 bonus to damage rolls with that weapon.',
    mechanics: '+2 damage when using one melee weapon with free off-hand.',
  },
  'great-weapon-fighting-style': {
    id: 'great-weapon-fighting-style',
    name: 'Great Weapon Fighting',
    source: 'Fighter/Paladin Fighting Style',
    description: 'When you roll a 1 or 2 on a damage die for an attack you make with a melee weapon that you are wielding with two hands, you can reroll the die and must use the new roll.',
    mechanics: 'Reroll 1s and 2s on damage dice with two-handed melee weapons.',
  },
  'protection-style': {
    id: 'protection-style',
    name: 'Protection',
    source: 'Fighter/Paladin Fighting Style',
    description: 'When a creature you can see attacks a target other than you that is within 5 feet of you, you can use your reaction to impose disadvantage on the attack roll. You must be wielding a shield.',
    mechanics: 'Reaction to give disadvantage to attacks on nearby allies. Requires shield.',
  },
  'two-weapon-fighting-style': {
    id: 'two-weapon-fighting-style',
    name: 'Two-Weapon Fighting',
    source: 'Fighter/Ranger Fighting Style',
    description: 'When you engage in two-weapon fighting, you can add your ability modifier to the damage of the second attack.',
    mechanics: 'Add ability modifier to off-hand weapon damage.',
  },
  'blind-fighting-style': {
    id: 'blind-fighting-style',
    name: 'Blind Fighting',
    source: 'Fighter/Paladin/Ranger Fighting Style',
    description: 'You have blindsight with a range of 10 feet. Within that range, you can effectively see anything that isn\'t behind total cover.',
    mechanics: '10 feet blindsight.',
  },
  'interception-style': {
    id: 'interception-style',
    name: 'Interception',
    source: 'Fighter/Paladin Fighting Style',
    description: 'When a creature you can see hits a target within 5 feet of you with an attack, you can use your reaction to reduce the damage by 1d10 + your proficiency bonus.',
    mechanics: 'Reaction to reduce damage to ally by 1d10 + proficiency.',
  },
  'thrown-weapon-fighting-style': {
    id: 'thrown-weapon-fighting-style',
    name: 'Thrown Weapon Fighting',
    source: 'Fighter/Ranger Fighting Style',
    description: 'You can draw a weapon that has the thrown property as part of the attack you make with the weapon. In addition, when you hit with a ranged attack using a thrown weapon, you gain a +2 bonus to the damage roll.',
    mechanics: 'Quick draw thrown weapons. +2 damage with thrown weapons.',
  },
  'unarmed-fighting-style': {
    id: 'unarmed-fighting-style',
    name: 'Unarmed Fighting',
    source: 'Fighter Fighting Style',
    description: 'Your unarmed strikes can deal bludgeoning damage equal to 1d6 + your Strength modifier on a hit. If you aren\'t wielding any weapons or a shield when you make the attack roll, the d6 becomes a d8.',
    mechanics: 'Unarmed strikes deal 1d6 (or 1d8 empty-handed) + STR.',
  },
  'superior-technique-style': {
    id: 'superior-technique-style',
    name: 'Superior Technique',
    source: 'Fighter Fighting Style',
    description: 'You learn one maneuver of your choice from among those available to the Battle Master archetype. You gain one superiority die, which is a d6. This die is used to fuel your maneuvers.',
    mechanics: 'Learn 1 Battle Master maneuver with 1 d6 superiority die.',
  },
  // === BATTLE MASTER MANEUVERS ===
  'commanders-strike': {
    id: 'commanders-strike',
    name: "Commander's Strike",
    source: 'Fighter (Battle Master Maneuver)',
    description: 'When you take the Attack action on your turn, you can forgo one of your attacks and use a bonus action to direct one of your companions to strike. When you do so, choose a friendly creature who can see or hear you and expend one superiority die. That creature can immediately use its reaction to make one weapon attack, adding the superiority die to the attack\'s damage roll.',
    mechanics: 'Forgo attack + bonus action: Ally attacks with reaction, +superiority die damage.',
  },
  'disarming-attack': {
    id: 'disarming-attack',
    name: 'Disarming Attack',
    source: 'Fighter (Battle Master Maneuver)',
    description: 'When you hit a creature with a weapon attack, you can expend one superiority die to attempt to disarm the target. You add the superiority die to the attack\'s damage roll, and the target must make a Strength saving throw. On a failed save, it drops one object of your choice that it\'s holding.',
    mechanics: 'On hit: +superiority die damage. Target STR save or drops held item.',
  },
  'evasive-footwork': {
    id: 'evasive-footwork',
    name: 'Evasive Footwork',
    source: 'Fighter (Battle Master Maneuver)',
    description: 'When you move, you can expend one superiority die, rolling the die and adding the number rolled to your AC until you stop moving.',
    mechanics: 'While moving: +superiority die to AC.',
  },
  'feinting-attack': {
    id: 'feinting-attack',
    name: 'Feinting Attack',
    source: 'Fighter (Battle Master Maneuver)',
    description: 'You can expend one superiority die and use a bonus action on your turn to feint, choosing one creature within 5 feet of you as your target. You have advantage on your next attack roll against that creature this turn. If that attack hits, add the superiority die to the attack\'s damage roll.',
    mechanics: 'Bonus action: Advantage on next attack vs target within 5 ft, +superiority die damage.',
  },
  'goading-attack': {
    id: 'goading-attack',
    name: 'Goading Attack',
    source: 'Fighter (Battle Master Maneuver)',
    description: 'When you hit a creature with a weapon attack, you can expend one superiority die to attempt to goad the target into attacking you. You add the superiority die to the attack\'s damage roll, and the target must make a Wisdom saving throw. On a failed save, the target has disadvantage on all attack rolls against targets other than you until the end of your next turn.',
    mechanics: 'On hit: +superiority die damage. Target WIS save or disadvantage attacking others.',
  },
  'lunging-attack': {
    id: 'lunging-attack',
    name: 'Lunging Attack',
    source: 'Fighter (Battle Master Maneuver)',
    description: 'When you make a melee weapon attack on your turn, you can expend one superiority die to increase your reach for that attack by 5 feet. If you hit, you add the superiority die to the attack\'s damage roll.',
    mechanics: '+5 feet reach for one attack, +superiority die damage on hit.',
  },
  'maneuvering-attack': {
    id: 'maneuvering-attack',
    name: 'Maneuvering Attack',
    source: 'Fighter (Battle Master Maneuver)',
    description: 'When you hit a creature with a weapon attack, you can expend one superiority die to maneuver one of your comrades into a more advantageous position. You add the superiority die to the attack\'s damage roll, and you choose a friendly creature who can see or hear you. That creature can use its reaction to move up to half its speed without provoking opportunity attacks from the target of your attack.',
    mechanics: 'On hit: +superiority die damage. Ally can move half speed without AoO from target.',
  },
  'menacing-attack': {
    id: 'menacing-attack',
    name: 'Menacing Attack',
    source: 'Fighter (Battle Master Maneuver)',
    description: 'When you hit a creature with a weapon attack, you can expend one superiority die to attempt to frighten the target. You add the superiority die to the attack\'s damage roll, and the target must make a Wisdom saving throw. On a failed save, it is frightened of you until the end of your next turn.',
    mechanics: 'On hit: +superiority die damage. Target WIS save or frightened.',
  },
  'parry': {
    id: 'parry',
    name: 'Parry',
    source: 'Fighter (Battle Master Maneuver)',
    description: 'When another creature damages you with a melee attack, you can use your reaction and expend one superiority die to reduce the damage by the number you roll on your superiority die + your Dexterity modifier.',
    mechanics: 'Reaction when hit by melee: Reduce damage by superiority die + DEX modifier.',
  },
  'precision-attack': {
    id: 'precision-attack',
    name: 'Precision Attack',
    source: 'Fighter (Battle Master Maneuver)',
    description: 'When you make a weapon attack roll against a creature, you can expend one superiority die to add it to the roll. You can use this maneuver before or after making the attack roll, but before any effects of the attack are applied.',
    mechanics: 'Add superiority die to attack roll.',
  },
  'pushing-attack': {
    id: 'pushing-attack',
    name: 'Pushing Attack',
    source: 'Fighter (Battle Master Maneuver)',
    description: 'When you hit a creature with a weapon attack, you can expend one superiority die to attempt to drive the target back. You add the superiority die to the attack\'s damage roll, and if the target is Large or smaller, it must make a Strength saving throw. On a failed save, you push the target up to 15 feet away from you.',
    mechanics: 'On hit: +superiority die damage. Target STR save or pushed 15 feet.',
  },
  'rally': {
    id: 'rally',
    name: 'Rally',
    source: 'Fighter (Battle Master Maneuver)',
    description: 'On your turn, you can use a bonus action and expend one superiority die to bolster the resolve of one of your companions. When you do so, choose a friendly creature who can see or hear you. That creature gains temporary hit points equal to the superiority die roll + your Charisma modifier.',
    mechanics: 'Bonus action: Ally gains temp HP = superiority die + CHA modifier.',
  },
  'riposte': {
    id: 'riposte',
    name: 'Riposte',
    source: 'Fighter (Battle Master Maneuver)',
    description: 'When a creature misses you with a melee attack, you can use your reaction and expend one superiority die to make a melee weapon attack against the creature. If you hit, you add the superiority die to the attack\'s damage roll.',
    mechanics: 'Reaction when enemy misses with melee: Counter-attack with +superiority die damage.',
  },
  'sweeping-attack': {
    id: 'sweeping-attack',
    name: 'Sweeping Attack',
    source: 'Fighter (Battle Master Maneuver)',
    description: 'When you hit a creature with a melee weapon attack, you can expend one superiority die to attempt to damage another creature with the same attack. Choose another creature within 5 feet of the original target and within your reach. If the original attack roll would hit the second creature, it takes damage equal to the number you roll on your superiority die.',
    mechanics: 'On hit: Another creature within 5 ft takes superiority die damage.',
  },
  'trip-attack': {
    id: 'trip-attack',
    name: 'Trip Attack',
    source: 'Fighter (Battle Master Maneuver)',
    description: 'When you hit a creature with a weapon attack, you can expend one superiority die to attempt to knock the target down. You add the superiority die to the attack\'s damage roll, and if the target is Large or smaller, it must make a Strength saving throw. On a failed save, you knock the target prone.',
    mechanics: 'On hit: +superiority die damage. Target STR save or knocked prone.',
  },
  // === MORE RACIAL TRAITS ===
  'superior-darkvision': {
    id: 'superior-darkvision',
    name: 'Superior Darkvision',
    source: 'Drow',
    description: 'Your darkvision has a radius of 120 feet, allowing you to see in complete darkness as if it were dim light.',
    mechanics: '120 feet darkvision instead of standard 60 feet.',
  },
  'drow-magic': {
    id: 'drow-magic',
    name: 'Drow Magic',
    source: 'Drow',
    description: 'You know the Dancing Lights cantrip. At 3rd level, you can cast Faerie Fire once per long rest. At 5th level, you can cast Darkness once per long rest. Charisma is your spellcasting ability for these spells.',
    mechanics: 'Innate spellcasting: Dancing Lights (at will), Faerie Fire (3rd level), Darkness (5th level).',
  },
  'drow-weapon-training': {
    id: 'drow-weapon-training',
    name: 'Drow Weapon Training',
    source: 'Drow',
    description: 'You have proficiency with rapiers, shortswords, and hand crossbows.',
    mechanics: 'Proficiency with rapiers, shortswords, and hand crossbows.',
  },
  'infernal-legacy': {
    id: 'infernal-legacy',
    name: 'Infernal Legacy',
    source: 'Tiefling',
    description: 'You know the Thaumaturgy cantrip. At 3rd level, you can cast Hellish Rebuke once per long rest as a 2nd-level spell. At 5th level, you can cast Darkness once per long rest. Charisma is your spellcasting ability for these spells.',
    mechanics: 'Innate spellcasting: Thaumaturgy (at will), Hellish Rebuke (3rd level), Darkness (5th level).',
  },
  'stonecunning': {
    id: 'stonecunning',
    name: 'Stonecunning',
    source: 'Dwarf',
    description: 'Whenever you make an Intelligence (History) check related to the origin of stonework, you are considered proficient in the History skill and add double your proficiency bonus to the check.',
    mechanics: 'Expertise on History checks related to stonework.',
  },
  'dwarven-combat-training': {
    id: 'dwarven-combat-training',
    name: 'Dwarven Combat Training',
    source: 'Dwarf',
    description: 'You have proficiency with the battleaxe, handaxe, light hammer, and warhammer.',
    mechanics: 'Proficiency with battleaxe, handaxe, light hammer, warhammer.',
  },
  'lucky': {
    id: 'lucky',
    name: 'Lucky',
    source: 'Halfling',
    description: 'When you roll a 1 on the d20 for an attack roll, ability check, or saving throw, you can reroll the die and must use the new roll.',
    mechanics: 'Reroll natural 1s on d20 rolls.',
  },
  'brave': {
    id: 'brave',
    name: 'Brave',
    source: 'Halfling',
    description: 'You have advantage on saving throws against being frightened.',
    mechanics: 'Advantage on saves vs. frightened.',
  },
  'halfling-nimbleness': {
    id: 'halfling-nimbleness',
    name: 'Halfling Nimbleness',
    source: 'Halfling',
    description: 'You can move through the space of any creature that is of a size larger than yours.',
    mechanics: 'Move through spaces of larger creatures.',
  },
  'relentless-endurance': {
    id: 'relentless-endurance',
    name: 'Relentless Endurance',
    source: 'Half-Orc',
    description: 'When you are reduced to 0 hit points but not killed outright, you can drop to 1 hit point instead. You can\'t use this feature again until you finish a long rest.',
    mechanics: 'Once per long rest: Drop to 1 HP instead of 0.',
  },
  'savage-attacks': {
    id: 'savage-attacks',
    name: 'Savage Attacks',
    source: 'Half-Orc',
    description: 'When you score a critical hit with a melee weapon attack, you can roll one of the weapon\'s damage dice one additional time and add it to the extra damage of the critical hit.',
    mechanics: 'Extra damage die on melee critical hits.',
  },
  'gnome-cunning': {
    id: 'gnome-cunning',
    name: 'Gnome Cunning',
    source: 'Gnome',
    description: 'You have advantage on all Intelligence, Wisdom, and Charisma saving throws against magic.',
    mechanics: 'Advantage on INT/WIS/CHA saves vs. magic.',
  },
  'breath-weapon': {
    id: 'breath-weapon',
    name: 'Breath Weapon',
    source: 'Dragonborn',
    description: 'You can use your action to exhale destructive energy. Your draconic ancestry determines the size, shape, and damage type of the exhalation. Each creature in the area must make a saving throw. The DC equals 8 + your Constitution modifier + your proficiency bonus. A creature takes 2d6 damage on a failed save, and half as much damage on a successful one. The damage increases at higher levels.',
    mechanics: 'Action: Breath attack based on draconic ancestry. 2d6 damage, DEX or CON save.',
  },
  'damage-resistance-draconic': {
    id: 'damage-resistance-draconic',
    name: 'Draconic Resistance',
    source: 'Dragonborn',
    description: 'You have resistance to the damage type associated with your draconic ancestry.',
    mechanics: 'Resistance to one damage type based on ancestry.',
  },
  // === EXTRA ATTACK & CORE CLASS FEATURES ===
  'extra-attack': {
    id: 'extra-attack',
    name: 'Extra Attack',
    source: 'Fighter (Level 5) / Other Martial Classes',
    description: 'Beginning at 5th level, you can attack twice, instead of once, whenever you take the Attack action on your turn. The number of attacks increases to three at 11th level and four at 20th level (Fighter only).',
    mechanics: 'Attack twice per Attack action. Fighters gain 3 attacks at 11th, 4 at 20th.',
  },
  'indomitable': {
    id: 'indomitable',
    name: 'Indomitable',
    source: 'Fighter (Level 9)',
    description: 'Beginning at 9th level, you can reroll a saving throw that you fail. If you do so, you must use the new roll, and you can\'t use this feature again until you finish a long rest. You can use this feature twice between long rests at 13th level and three times at 17th level.',
    mechanics: 'Reroll a failed saving throw. Uses increase at 13th and 17th level.',
  },
  'eldritch-invocations': {
    id: 'eldritch-invocations',
    name: 'Eldritch Invocations',
    source: 'Warlock (Level 2)',
    description: 'In your study of occult lore, you have unearthed eldritch invocations, fragments of forbidden knowledge that imbue you with an abiding magical ability. You gain two eldritch invocations of your choice. When you gain certain warlock levels, you gain additional invocations of your choice. Additionally, when you gain a level in this class, you can choose one invocation you know and replace it with another.',
    mechanics: 'Gain 2 invocations at level 2, more at higher levels. Some have prerequisites.',
  },
  'pact-boon': {
    id: 'pact-boon',
    name: 'Pact Boon',
    source: 'Warlock (Level 3)',
    description: 'At 3rd level, your otherworldly patron bestows a gift upon you for your loyal service. You gain one of the following features of your choice: Pact of the Chain (familiar), Pact of the Blade (weapon), or Pact of the Tome (cantrips and Book of Shadows).',
    mechanics: 'Choose Pact of the Chain, Blade, or Tome at level 3.',
  },
  'mystic-arcanum': {
    id: 'mystic-arcanum',
    name: 'Mystic Arcanum',
    source: 'Warlock (Level 11)',
    description: 'At 11th level, your patron bestows upon you a magical secret called an arcanum. Choose one 6th-level spell from the warlock spell list as this arcanum. You can cast your arcanum spell once without expending a spell slot. You must finish a long rest before you can do so again. At higher levels, you gain more arcanum spells of higher levels.',
    mechanics: 'Cast one 6th+ level spell once per long rest without a slot. Gains higher level arcanums.',
  },
  'eldritch-master': {
    id: 'eldritch-master',
    name: 'Eldritch Master',
    source: 'Warlock (Level 20)',
    description: 'At 20th level, you can draw on your inner reserve of mystical power while entreating your patron to regain expended spell slots. You can spend 1 minute entreating your patron for aid to regain all your expended spell slots from your Pact Magic feature. Once you regain spell slots with this feature, you must finish a long rest before you can do so again.',
    mechanics: '1 minute to regain all Pact Magic slots. Once per long rest.',
  },
  // === CHAMPION FEATURES ===
  'remarkable-athlete': {
    id: 'remarkable-athlete',
    name: 'Remarkable Athlete',
    source: 'Fighter (Champion, Level 7)',
    description: 'Starting at 7th level, you can add half your proficiency bonus (round up) to any Strength, Dexterity, or Constitution check you make that doesn\'t already use your proficiency bonus. In addition, when you make a running long jump, the distance you can cover increases by a number of feet equal to your Strength modifier.',
    mechanics: 'Add half proficiency to STR/DEX/CON checks. Longer running jumps.',
  },
  'additional-fighting-style': {
    id: 'additional-fighting-style',
    name: 'Additional Fighting Style',
    source: 'Fighter (Champion, Level 10)',
    description: 'At 10th level, you can choose a second option from the Fighting Style class feature.',
    mechanics: 'Gain a second Fighting Style.',
  },
  'superior-critical': {
    id: 'superior-critical',
    name: 'Superior Critical',
    source: 'Fighter (Champion, Level 15)',
    description: 'Starting at 15th level, your weapon attacks score a critical hit on a roll of 18-20.',
    mechanics: 'Critical hits on 18-20 instead of 19-20.',
  },
  'survivor': {
    id: 'survivor',
    name: 'Survivor',
    source: 'Fighter (Champion, Level 18)',
    description: 'At 18th level, you attain the pinnacle of resilience in battle. At the start of each of your turns, you regain hit points equal to 5 + your Constitution modifier if you have no more than half of your hit points left. You don\'t gain this benefit if you have 0 hit points.',
    mechanics: 'Regenerate 5 + CON HP per turn when below half health.',
  },
  // === BATTLE MASTER FEATURES ===
  'student-of-war': {
    id: 'student-of-war',
    name: 'Student of War',
    source: 'Fighter (Battle Master, Level 3)',
    description: 'At 3rd level, you gain proficiency with one type of artisan\'s tools of your choice.',
    mechanics: 'Gain proficiency with one artisan\'s tools.',
  },
  'know-your-enemy': {
    id: 'know-your-enemy',
    name: 'Know Your Enemy',
    source: 'Fighter (Battle Master, Level 7)',
    description: 'Starting at 7th level, if you spend at least 1 minute observing or interacting with another creature outside combat, you can learn certain information about its capabilities compared to your own.',
    mechanics: 'Spend 1 minute to learn relative stats of a creature (higher/lower/equal in 2 characteristics).',
  },
  'improved-combat-superiority': {
    id: 'improved-combat-superiority',
    name: 'Improved Combat Superiority',
    source: 'Fighter (Battle Master, Level 10)',
    description: 'At 10th level, your superiority dice turn into d10s. At 18th level, they turn into d12s.',
    mechanics: 'Superiority dice become d10s (level 10) then d12s (level 18).',
  },
  'relentless': {
    id: 'relentless',
    name: 'Relentless',
    source: 'Fighter (Battle Master, Level 15)',
    description: 'Starting at 15th level, when you roll initiative and have no superiority dice remaining, you regain 1 superiority die.',
    mechanics: 'Regain 1 superiority die when rolling initiative if you have none.',
  },
  // === FIEND WARLOCK FEATURES ===
  'dark-ones-own-luck': {
    id: 'dark-ones-own-luck',
    name: "Dark One's Own Luck",
    source: 'Warlock (The Fiend, Level 6)',
    description: 'Starting at 6th level, you can call on your patron to alter fate in your favor. When you make an ability check or a saving throw, you can use this feature to add a d10 to your roll. You can do so after seeing the initial roll but before any of the roll\'s effects occur. Once you use this feature, you can\'t use it again until you finish a short or long rest.',
    mechanics: 'Add d10 to ability check or saving throw. Recharges on short/long rest.',
  },
  'fiendish-resilience': {
    id: 'fiendish-resilience',
    name: 'Fiendish Resilience',
    source: 'Warlock (The Fiend, Level 10)',
    description: 'Starting at 10th level, you can choose one damage type when you finish a short or long rest. You gain resistance to that damage type until you choose a different one with this feature. Damage from magical weapons or silver weapons ignores this resistance.',
    mechanics: 'Choose resistance to one damage type after each rest.',
  },
  'hurl-through-hell': {
    id: 'hurl-through-hell',
    name: 'Hurl Through Hell',
    source: 'Warlock (The Fiend, Level 14)',
    description: 'Starting at 14th level, when you hit a creature with an attack, you can use this feature to instantly transport the target through the lower planes. The creature disappears and hurtles through a nightmare landscape. At the end of your next turn, the target returns to the space it previously occupied, or the nearest unoccupied space. If the target is not a fiend, it takes 10d10 psychic damage as it reels from its horrific experience. Once you use this feature, you can\'t use it again until you finish a long rest.',
    mechanics: 'Banish target through Hell. Non-fiends take 10d10 psychic damage. Recharges on long rest.',
  },
  // === ARCHFEY WARLOCK FEATURES ===
  'misty-escape': {
    id: 'misty-escape',
    name: 'Misty Escape',
    source: 'Warlock (The Archfey, Level 6)',
    description: 'Starting at 6th level, you can vanish in a puff of mist in response to harm. When you take damage, you can use your reaction to turn invisible and teleport up to 60 feet to an unoccupied space you can see. You remain invisible until the start of your next turn or until you attack or cast a spell. Once you use this feature, you can\'t use it again until you finish a short or long rest.',
    mechanics: 'Reaction when damaged: Turn invisible and teleport 60 ft. Recharges on short/long rest.',
  },
  'beguiling-defenses': {
    id: 'beguiling-defenses',
    name: 'Beguiling Defenses',
    source: 'Warlock (The Archfey, Level 10)',
    description: 'Beginning at 10th level, your patron teaches you how to turn the mind-affecting magic of your enemies against them. You are immune to being charmed, and when another creature attempts to charm you, you can use your reaction to attempt to turn the charm back on that creature.',
    mechanics: 'Immune to charm. Reaction: Reflect charm attempts back at caster.',
  },
  'dark-delirium': {
    id: 'dark-delirium',
    name: 'Dark Delirium',
    source: 'Warlock (The Archfey, Level 14)',
    description: 'Starting at 14th level, you can plunge a creature into an illusory realm. As an action, choose a creature that you can see within 60 feet of you. It must make a Wisdom saving throw against your warlock spell save DC. On a failed save, it is charmed or frightened by you (your choice) for 1 minute or until your concentration is broken. This effect ends early if the creature takes any damage. Until this illusion ends, the creature thinks it is lost in a misty realm. Once you use this feature, you can\'t use it again until you finish a short or long rest.',
    mechanics: 'Action: Target WIS save or charmed/frightened for 1 minute. Recharges on short/long rest.',
  },
}

// RULES DATA - Game mechanics explanations for new players
export const RULES: Record<string, RuleRef> = {
  // Spellcasting Basics
  'spell-levels': {
    id: 'spell-levels',
    name: 'Spell Levels',
    category: 'spellcasting',
    summary: 'Spells range from level 0 (cantrips) to level 9. This is different from your character level!',
    description: 'Every spell has a level from 0 to 9. A spell\'s level indicates how powerful it is. Level 0 spells are called cantrips and can be cast at will. Spell levels 1-9 require spell slots to cast. Higher-level spells are more powerful but require higher-level spell slots. IMPORTANT: Spell level is NOT the same as character level! A level 5 character might only have access to level 3 spells.',
    examples: [
      'Fire Bolt is a cantrip (level 0) - cast it unlimited times',
      'Magic Missile is a 1st-level spell - requires a 1st-level slot or higher',
      'Fireball is a 3rd-level spell - very powerful, requires a 3rd-level slot',
      'Wish is a 9th-level spell - the most powerful magic available'
    ],
    relatedRules: ['spell-slots', 'cantrips', 'character-spell-progression'],
  },
  'character-spell-progression': {
    id: 'character-spell-progression',
    name: 'When You Learn Higher Spells',
    category: 'spellcasting',
    summary: 'Your character level determines what spell levels you can access.',
    description: 'As your character gains levels, you unlock access to more powerful spells. Full casters (Wizard, Cleric, Druid, Bard, Sorcerer) gain spell levels faster than half casters (Paladin, Ranger). You gain access to the highest spell level (9th) at character level 17.',
    table: {
      headers: ['Character Level', 'Highest Spell Level', 'Example Spells'],
      rows: [
        ['1-2', '1st', 'Magic Missile, Cure Wounds, Shield'],
        ['3-4', '2nd', 'Hold Person, Misty Step, Invisibility'],
        ['5-6', '3rd', 'Fireball, Counterspell, Revivify'],
        ['7-8', '4th', 'Polymorph, Banishment, Dimension Door'],
        ['9-10', '5th', 'Raise Dead, Cone of Cold, Wall of Force'],
        ['11-12', '6th', 'Disintegrate, True Seeing, Heal'],
        ['13-14', '7th', 'Teleport, Resurrection, Plane Shift'],
        ['15-16', '8th', 'Power Word Stun, Mind Blank, Maze'],
        ['17-20', '9th', 'Wish, Power Word Kill, Meteor Swarm']
      ]
    },
    relatedRules: ['spell-levels', 'spell-slots'],
  },
  'spell-slots': {
    id: 'spell-slots',
    name: 'Spell Slots',
    category: 'spellcasting',
    summary: 'Spell slots are your daily magical energy. You spend them to cast spells.',
    description: 'Spell slots represent your capacity to cast spells. Each slot can be used once per long rest. To cast a spell, you must expend a slot of that spell\'s level or higher. For example, casting a 1st-level spell uses a 1st-level slot. You can use a higher-level slot to cast a lower-level spell, often making it more powerful (called "upcasting"). You regain all spell slots after a long rest.',
    examples: [
      'You have three 1st-level slots and two 2nd-level slots',
      'Casting Shield (1st level) uses one 1st-level slot',
      'Casting Cure Wounds with a 2nd-level slot heals more HP',
      'When you run out of slots, you can only cast cantrips until you rest'
    ],
    relatedRules: ['spell-levels', 'upcasting', 'long-rest', 'cantrips'],
  },
  'cantrips': {
    id: 'cantrips',
    name: 'Cantrips',
    category: 'spellcasting',
    summary: 'Level 0 spells that can be cast unlimited times without using spell slots.',
    description: 'Cantrips are minor spells that casters have practiced so much they can cast them at will. They don\'t use spell slots and can be cast as many times as you want. Most cantrips deal damage that scales with your character level (not spell level), making them useful throughout the game. Common combat cantrips include Fire Bolt, Eldritch Blast, and Sacred Flame.',
    examples: [
      'Fire Bolt: 1d10 fire damage, increases at levels 5, 11, and 17',
      'Light: Make an object glow - useful for humans in dark dungeons',
      'Mage Hand: Create a spectral hand to manipulate objects at range',
      'Prestidigitation: Minor magical tricks and effects'
    ],
    relatedRules: ['spell-levels', 'cantrip-scaling'],
  },
  'cantrip-scaling': {
    id: 'cantrip-scaling',
    name: 'Cantrip Damage Scaling',
    category: 'spellcasting',
    summary: 'Damage cantrips get stronger as your character levels up.',
    description: 'Unlike leveled spells, cantrips automatically become more powerful as you gain character levels. At levels 5, 11, and 17, most damage-dealing cantrips add extra damage dice. This keeps cantrips relevant as reliable damage options throughout your adventure.',
    table: {
      headers: ['Character Level', 'Cantrip Damage Dice', 'Fire Bolt Example'],
      rows: [
        ['1-4', '1 die', '1d10 fire damage'],
        ['5-10', '2 dice', '2d10 fire damage'],
        ['11-16', '3 dice', '3d10 fire damage'],
        ['17-20', '4 dice', '4d10 fire damage']
      ]
    },
    relatedRules: ['cantrips', 'spell-levels'],
  },
  'spell-components': {
    id: 'spell-components',
    name: 'Spell Components (V, S, M)',
    category: 'spellcasting',
    summary: 'Spells require verbal (V), somatic (S), and/or material (M) components.',
    description: 'Most spells require specific components to cast. V (Verbal) means you must speak words of power - you can\'t cast if silenced. S (Somatic) means you must gesture with at least one free hand. M (Material) means you need specific items, usually held in a component pouch or replaced by a spellcasting focus. If a material has a gold cost listed, you must have that specific item.',
    examples: [
      'V only: Power Word Kill - just speak the word',
      'V, S: Fireball - speak and gesture',
      'V, S, M (a feather): Feather Fall - need an actual feather OR a focus',
      'V, S, M (diamond worth 300 gp): Revivify - MUST have the diamond'
    ],
    relatedRules: ['spellcasting-focus', 'component-pouch'],
  },
  'spellcasting-focus': {
    id: 'spellcasting-focus',
    name: 'Spellcasting Focus',
    category: 'spellcasting',
    summary: 'A focus can replace material components that don\'t have a gold cost.',
    description: 'A spellcasting focus is an item that channels your magic. It can replace material components that don\'t have a listed cost. Different classes use different focuses: Wizards use wands, orbs, or staffs. Clerics use holy symbols. Druids use druidic focuses like wooden staffs or yew wands. Bards use musical instruments. The focus must be held in hand when casting.',
    examples: [
      'Wizard with a wand can cast Fireball without carrying bat guano',
      'Cleric\'s holy symbol replaces material components for their spells',
      'You still need a 300 gp diamond for Revivify - a focus won\'t work'
    ],
    relatedRules: ['spell-components'],
  },
  'concentration': {
    id: 'concentration',
    name: 'Concentration',
    category: 'spellcasting',
    summary: 'Some spells require concentration to maintain. You can only concentrate on one spell at a time.',
    description: 'Spells marked "Concentration" require your ongoing mental focus. You can only concentrate on ONE spell at a time. If you cast another concentration spell, the first one ends immediately. Taking damage forces a Constitution saving throw (DC 10 or half the damage, whichever is higher) to maintain concentration. Being incapacitated or killed also breaks concentration.',
    examples: [
      'You\'re concentrating on Fly - casting Hold Person ends Fly',
      'You take 22 damage while concentrating - DC 11 CON save to maintain',
      'Bless and Spirit Guardians both need concentration - pick one',
      'You can cast non-concentration spells freely while concentrating'
    ],
    relatedRules: ['saving-throws'],
  },
  'upcasting': {
    id: 'upcasting',
    name: 'Casting Spells at Higher Levels',
    category: 'spellcasting',
    summary: 'Using a higher-level spell slot often makes spells more powerful.',
    description: 'Many spells become stronger when cast using a higher-level spell slot than required. The spell description\'s "At Higher Levels" section explains the benefit. Not all spells gain bonuses from upcasting - some just work at their base power regardless of slot used.',
    examples: [
      'Cure Wounds (1st): +1d8 healing per slot level above 1st',
      'Fireball (3rd): +1d6 damage per slot level above 3rd',
      'Hold Person (2nd): +1 target per slot level above 2nd',
      'Shield (1st): No upcasting benefit - always gives +5 AC'
    ],
    relatedRules: ['spell-slots', 'spell-levels'],
  },
  'ritual-casting': {
    id: 'ritual-casting',
    name: 'Ritual Casting',
    category: 'spellcasting',
    summary: 'Some spells can be cast as rituals, taking 10 extra minutes but using no spell slot.',
    description: 'Spells with the ritual tag can be cast normally using a spell slot, OR as a ritual by adding 10 minutes to the casting time. Ritual casting doesn\'t expend a spell slot, making it perfect for utility spells when you\'re not in a hurry. Not all classes can ritual cast - check your class features. Wizards can ritual cast any ritual spell in their spellbook, even if not prepared.',
    examples: [
      'Detect Magic as ritual: 11 minutes, but saves a spell slot',
      'Identify as ritual: Perfect for identifying items during downtime',
      'Find Familiar as ritual: 1 hour 10 minutes, no slot needed',
      'Fireball: No ritual tag, must always use a spell slot'
    ],
    relatedRules: ['spell-slots'],
  },
  'prepared-vs-known': {
    id: 'prepared-vs-known',
    name: 'Prepared vs Known Spells',
    category: 'spellcasting',
    summary: 'Some casters prepare spells daily; others know a fixed list.',
    description: 'Casters fall into two categories. PREPARED casters (Cleric, Druid, Paladin, Wizard) choose which spells to prepare after each long rest from their full spell list or spellbook. KNOWN casters (Bard, Ranger, Sorcerer, Warlock) have a fixed list of spells they know and can\'t change them except when leveling up. Prepared casters are more flexible; known casters are simpler to manage.',
    examples: [
      'Wizard: Prepares INT + wizard level spells from spellbook each day',
      'Cleric: Prepares WIS + cleric level spells from full cleric list',
      'Sorcerer: Knows a fixed number of spells, changes one when leveling',
      'Bard: Knows spells permanently, can swap one spell per level-up'
    ],
    relatedRules: ['long-rest'],
  },
  'spell-attack-rolls': {
    id: 'spell-attack-rolls',
    name: 'Spell Attack Rolls',
    category: 'spellcasting',
    summary: 'Some spells require you to roll to hit, just like weapon attacks.',
    description: 'Spells that say "make a spell attack" require a d20 roll to hit the target. Your spell attack modifier = your spellcasting ability modifier + proficiency bonus. Melee spell attacks are made at touch range. Ranged spell attacks can have disadvantage if an enemy is within 5 feet of you (just like ranged weapons).',
    examples: [
      'Fire Bolt: Ranged spell attack, roll d20 + INT + proficiency (Wizard)',
      'Shocking Grasp: Melee spell attack, touch the target',
      'Guiding Bolt: Roll to hit, deals 4d6 radiant on a hit',
      'Fireball: No attack roll - targets make a DEX save instead'
    ],
    relatedRules: ['spell-save-dc', 'advantage-disadvantage'],
  },
  'spell-save-dc': {
    id: 'spell-save-dc',
    name: 'Spell Save DC',
    category: 'spellcasting',
    summary: 'Your Spell Save DC is what enemies must beat to resist your spells.',
    description: 'Many spells force targets to make saving throws. Your Spell Save DC = 8 + proficiency bonus + spellcasting ability modifier. When a creature makes a save against your spell, they roll a d20 + their relevant ability modifier. If they meet or beat your DC, they typically take reduced or no effect. If they fail, they suffer the full spell effect.',
    examples: [
      'Level 5 Wizard with 18 INT: DC = 8 + 3 + 4 = 15',
      'You cast Hold Person (WIS save DC 15) on a goblin',
      'Goblin rolls d20 + WIS modifier - needs 15+ to break free',
      'Roll of 14 or less: Goblin is paralyzed!'
    ],
    relatedRules: ['spell-attack-rolls', 'saving-throws'],
  },
  'saving-throws': {
    id: 'saving-throws',
    name: 'Saving Throws',
    category: 'combat',
    summary: 'Saves let you resist or reduce harmful effects using your abilities.',
    description: 'When something dangerous happens - a spell, trap, or effect - you often make a saving throw to resist it. Roll d20 + ability modifier + proficiency (if proficient in that save). Each class grants proficiency in two saving throw types. Meeting or exceeding the DC means you succeed. Different effects target different saves: DEX for dodging, CON for enduring, WIS for mental effects.',
    examples: [
      'Fireball: DEX save - dodge to take half damage',
      'Hold Person: WIS save - resist mental control',
      'Poison: CON save - resist the toxin',
      'Disintegrate: DEX save - avoid being reduced to dust'
    ],
    table: {
      headers: ['Save Type', 'Common Uses', 'Classes Proficient'],
      rows: [
        ['Strength', 'Resisting being pushed, grappled, or restrained', 'Fighter, Barbarian, Ranger, Monk'],
        ['Dexterity', 'Dodging area effects like Fireball', 'Rogue, Ranger, Monk, Bard'],
        ['Constitution', 'Resisting poison, disease, maintaining concentration', 'Fighter, Barbarian, Sorcerer'],
        ['Intelligence', 'Resisting mental intrusion, illusions', 'Wizard, Druid, Rogue'],
        ['Wisdom', 'Resisting charm, fear, mind control', 'Cleric, Druid, Paladin, Warlock, Wizard, Monk'],
        ['Charisma', 'Resisting banishment, possession', 'Bard, Sorcerer, Paladin, Warlock']
      ]
    },
    relatedRules: ['spell-save-dc', 'ability-checks'],
  },
  'advantage-disadvantage': {
    id: 'advantage-disadvantage',
    name: 'Advantage & Disadvantage',
    category: 'combat',
    summary: 'Roll 2d20 and take the higher (advantage) or lower (disadvantage) result.',
    description: 'Advantage means favorable circumstances - roll two d20s and use the HIGHER result. Disadvantage means unfavorable circumstances - roll two d20s and use the LOWER result. Multiple sources of advantage don\'t stack (still just 2d20). If you have both advantage AND disadvantage from any sources, they cancel out - roll normally.',
    examples: [
      'Attacking an unseen enemy: Disadvantage',
      'Attacking while hidden: Advantage',
      'Faerie Fire on target: Attacks have advantage',
      'Prone target: Melee attacks have advantage, ranged have disadvantage'
    ],
    relatedRules: ['attack-rolls'],
  },
  'attack-rolls': {
    id: 'attack-rolls',
    name: 'Making Attack Rolls',
    category: 'combat',
    summary: 'Roll d20 + modifiers vs target\'s AC. Meet or beat AC to hit.',
    description: 'To attack, roll d20 + ability modifier (STR for melee, DEX for ranged/finesse) + proficiency bonus (if proficient with weapon). Compare to target\'s Armor Class (AC). If your total meets or beats the AC, you hit and roll damage. A natural 20 always hits and is a critical hit (double damage dice). A natural 1 always misses.',
    examples: [
      'Fighter attacks with longsword: d20 + STR + proficiency vs AC',
      'Rogue with rapier (finesse): Can use DEX instead of STR',
      'Roll total of 15 vs AC 15: HIT!',
      'Natural 20: Critical hit - roll damage dice twice!'
    ],
    relatedRules: ['advantage-disadvantage', 'critical-hits'],
  },
  'critical-hits': {
    id: 'critical-hits',
    name: 'Critical Hits',
    category: 'combat',
    summary: 'Natural 20 on attack = double all damage dice!',
    description: 'When you roll a natural 20 on an attack roll, you score a critical hit. Roll all damage dice twice and add them together, then add your normal modifiers. This applies to weapon damage dice AND any extra dice (like Sneak Attack or smites). Some features expand crit range (19-20) or add effects on crits.',
    examples: [
      'Longsword crit: 2d8 + STR instead of 1d8 + STR',
      'Rogue crit with Sneak Attack: Double ALL the d6s too',
      'Paladin smite crit: Double the smite dice as well',
      'Champion Fighter: Crits on 19-20 (later 18-20)'
    ],
    relatedRules: ['attack-rolls'],
  },
  'long-rest': {
    id: 'long-rest',
    name: 'Long Rest',
    category: 'rest',
    summary: '8 hours of rest - regain all HP, spell slots, and most abilities.',
    description: 'A long rest is at least 8 hours long, with at least 6 hours sleeping and no more than 2 hours of light activity (reading, keeping watch). You regain all lost HP, all spell slots, and most class features that say "recharges on long rest." You can only benefit from one long rest per 24-hour period. Interruptions of 1 hour or more require restarting.',
    examples: [
      'Sleep at an inn: Full HP and all spell slots restored',
      'Wizard regains all prepared spells for the day',
      'Fighter regains all Action Surge and Second Wind uses',
      'Hit Dice: Regain half your total (minimum 1) for healing'
    ],
    relatedRules: ['short-rest', 'hit-dice'],
  },
  'short-rest': {
    id: 'short-rest',
    name: 'Short Rest',
    category: 'rest',
    summary: '1 hour of rest - spend Hit Dice to heal, some abilities recharge.',
    description: 'A short rest is at least 1 hour of downtime - eating, reading, tending wounds. You can spend Hit Dice to heal: roll the die + CON modifier per Hit Die spent. Some class features recharge on short rests: Warlock spell slots, Fighter\'s Second Wind and Action Surge, Monk\'s Ki points. Short rests are vital for these classes!',
    examples: [
      'Spend 2 Hit Dice: Roll 2d10 + CON mod twice (Fighter)',
      'Warlock: Regain ALL spell slots (Pact Magic)',
      'Fighter: Regain Second Wind and Action Surge',
      'Monk: Regain all Ki points'
    ],
    relatedRules: ['long-rest', 'hit-dice'],
  },
  'hit-dice': {
    id: 'hit-dice',
    name: 'Hit Dice',
    category: 'rest',
    summary: 'Dice you can spend during short rests to heal yourself.',
    description: 'You have one Hit Die per character level. The die type matches your class (d6 for Wizard, d10 for Fighter, etc.). During a short rest, you can spend any number of Hit Dice. For each one spent, roll the die and add your CON modifier - you regain that many HP. You regain half your total Hit Dice (minimum 1) after a long rest.',
    table: {
      headers: ['Class', 'Hit Die', 'Average Healing per Die'],
      rows: [
        ['Barbarian', 'd12', '6.5 + CON'],
        ['Fighter, Paladin, Ranger', 'd10', '5.5 + CON'],
        ['Bard, Cleric, Druid, Monk, Rogue, Warlock', 'd8', '4.5 + CON'],
        ['Sorcerer, Wizard', 'd6', '3.5 + CON']
      ]
    },
    relatedRules: ['short-rest', 'long-rest'],
  },
  'ability-checks': {
    id: 'ability-checks',
    name: 'Ability Checks',
    category: 'general',
    summary: 'Roll d20 + ability modifier (+ proficiency if skilled) vs DC.',
    description: 'When you attempt something with uncertain outcome, the DM calls for an ability check. Roll d20 + the relevant ability modifier. If you have proficiency in a related skill, add your proficiency bonus too. The DM sets a Difficulty Class (DC) - meet or beat it to succeed. Expertise doubles your proficiency bonus.',
    examples: [
      'Climb a wall: Athletics (STR) check',
      'Pick a lock: Sleight of Hand or Thieves\' Tools (DEX) check',
      'Recall lore: History or Arcana (INT) check',
      'Detect a lie: Insight (WIS) check'
    ],
    table: {
      headers: ['Difficulty', 'DC', 'Example'],
      rows: [
        ['Very Easy', '5', 'Climb a rope ladder'],
        ['Easy', '10', 'Hear an approaching patrol'],
        ['Medium', '15', 'Pick a standard lock'],
        ['Hard', '20', 'Swim in stormy waters'],
        ['Very Hard', '25', 'Pick an exceptional lock'],
        ['Nearly Impossible', '30', 'Leap across a 30-foot chasm']
      ]
    },
    relatedRules: ['saving-throws'],
  },
  'proficiency-bonus': {
    id: 'proficiency-bonus',
    name: 'Proficiency Bonus',
    category: 'general',
    summary: 'A bonus that scales with level, added to things you\'re trained in.',
    description: 'Your proficiency bonus represents your training and experience. It increases as you level up and applies to: attack rolls with proficient weapons, saving throws you\'re proficient in, skill checks for proficient skills, spell attacks and save DCs, and tool checks with proficient tools. Everyone at the same level has the same proficiency bonus.',
    table: {
      headers: ['Character Level', 'Proficiency Bonus'],
      rows: [
        ['1-4', '+2'],
        ['5-8', '+3'],
        ['9-12', '+4'],
        ['13-16', '+5'],
        ['17-20', '+6']
      ]
    },
    relatedRules: ['ability-checks', 'attack-rolls', 'spell-save-dc'],
  },
  'death-saves': {
    id: 'death-saves',
    name: 'Death Saving Throws',
    category: 'combat',
    summary: 'At 0 HP, roll d20 each turn. 3 successes = stable, 3 failures = death.',
    description: 'When you drop to 0 HP, you fall unconscious and start making death saves. At the start of each turn, roll d20 (no modifiers). 10+ is a success, 9 or less is a failure. Three successes = you stabilize (still unconscious, but no longer dying). Three failures = your character dies. Rolling a 1 counts as TWO failures. Rolling a 20 = you regain 1 HP and wake up! Taking damage at 0 HP = automatic failure (crit = 2 failures).',
    examples: [
      'Roll 12: One success, need two more',
      'Roll 7: One failure, two more and you die',
      'Roll 1: TWO failures at once!',
      'Roll 20: Wake up with 1 HP!',
      'Ally casts Healing Word: You wake up with HP!'
    ],
    relatedRules: ['stabilizing'],
  },
  'stabilizing': {
    id: 'stabilizing',
    name: 'Stabilizing a Creature',
    category: 'combat',
    summary: 'Use an action to make a DC 10 Medicine check to stop someone from dying.',
    description: 'When an ally is at 0 HP and making death saves, you can use your action to stabilize them with a DC 10 Wisdom (Medicine) check. A stabilized creature is still unconscious at 0 HP but no longer makes death saves. They regain 1 HP after 1d4 hours. Any magical healing immediately wakes them with that HP instead.',
    examples: [
      'Cleric\'s turn: "I use my action to stabilize the Fighter"',
      'Medicine check: Roll 11+ to succeed',
      'Alternative: Cast any healing spell (even 1 HP wakes them)',
      'Spare the Dying cantrip: Automatically stabilizes'
    ],
    relatedRules: ['death-saves'],
  },
  'opportunity-attacks': {
    id: 'opportunity-attacks',
    name: 'Opportunity Attacks',
    category: 'combat',
    summary: 'When an enemy leaves your reach, you can use your reaction to attack them.',
    description: 'When a hostile creature you can see moves out of your reach, you can use your reaction to make one melee attack against them. This happens BEFORE they complete their movement. The Disengage action prevents opportunity attacks. Some features grant special opportunity attack abilities (like Sentinel feat) or immunity to them (like mobile feat, or the spell Misty Step).',
    examples: [
      'Goblin runs past your Fighter - you swing at it!',
      'Enemy Disengages - no opportunity attack allowed',
      'Wizard casts Misty Step to teleport away - no opportunity attack',
      'You already used your reaction this round - can\'t opportunity attack'
    ],
    relatedRules: ['reactions', 'disengage'],
  },
  'reactions': {
    id: 'reactions',
    name: 'Reactions',
    category: 'combat',
    summary: 'You get ONE reaction per round to respond to triggers.',
    description: 'A reaction is a special response to a trigger. You get one reaction per round, which refreshes at the start of your turn. Common reactions include: opportunity attacks, casting Shield or Counterspell, using class features like Uncanny Dodge. You can take a reaction on your turn or others\' turns, but only one total until your next turn starts.',
    examples: [
      'Enemy casts Fireball: Reaction to cast Counterspell',
      'Enemy attacks you: Reaction to cast Shield (+5 AC)',
      'Enemy runs away: Reaction for opportunity attack',
      'Rogue takes damage: Reaction for Uncanny Dodge (half damage)'
    ],
    relatedRules: ['opportunity-attacks'],
  },
  'bonus-actions': {
    id: 'bonus-actions',
    name: 'Bonus Actions',
    category: 'combat',
    summary: 'An extra action you can take if you have a feature or spell that grants one.',
    description: 'You can only take a bonus action if a feature, spell, or ability specifically says it uses a bonus action. You get at most ONE bonus action per turn. Common bonus actions: casting a bonus action spell (like Healing Word or Misty Step), Two-Weapon Fighting\'s off-hand attack, certain class features (Cunning Action, Rage). You cannot "downgrade" a bonus action spell to an action.',
    examples: [
      'Rogue: Cunning Action to Dash, Disengage, or Hide as bonus action',
      'Cleric: Cast Healing Word (bonus action), then attack or cantrip',
      'Two-weapon fighting: Attack with main hand, bonus action attack with off-hand',
      'Barbarian: Bonus action to enter Rage'
    ],
    relatedRules: ['actions'],
  },
  'actions': {
    id: 'actions',
    name: 'Actions in Combat',
    category: 'combat',
    summary: 'On your turn, you can move and take one action.',
    description: 'Each turn you have movement (usually 30 feet) and one action. Standard actions include: Attack (make weapon attacks), Cast a Spell (most spells), Dash (double movement), Disengage (avoid opportunity attacks), Dodge (attacks against you have disadvantage), Help (give ally advantage), Hide (attempt to become hidden), Ready (prepare an action for a trigger), Use an Object.',
    examples: [
      'Attack: Make one attack (more with Extra Attack)',
      'Cast a Spell: Cast Fireball',
      'Dash: Move extra distance (60 ft total with 30 ft speed)',
      'Dodge: All attacks against you have disadvantage until next turn'
    ],
    relatedRules: ['bonus-actions', 'reactions'],
  },
  'cover': {
    id: 'cover',
    name: 'Cover',
    category: 'combat',
    summary: 'Obstacles provide +2 or +5 to AC and DEX saves.',
    description: 'Cover represents physical obstacles between you and an attacker. Half cover (+2 AC, +2 DEX saves) includes things like another creature, low walls, or furniture. Three-quarters cover (+5 AC, +5 DEX saves) includes things like arrow slits, thick tree trunks, or creatures much larger than you. Total cover blocks all direct attacks and targeted spells.',
    examples: [
      'Behind a low wall: Half cover (+2 AC)',
      'Peeking around a corner: Three-quarters cover (+5 AC)',
      'Behind a friend: They provide half cover',
      'Completely behind a pillar: Total cover, can\'t be targeted'
    ],
    relatedRules: ['attack-rolls'],
  },
  'difficult-terrain': {
    id: 'difficult-terrain',
    name: 'Difficult Terrain',
    category: 'movement',
    summary: 'Moving through difficult terrain costs double movement.',
    description: 'Difficult terrain includes rubble, undergrowth, stairs, snow, shallow water, or any surface that\'s hard to move across. Every foot of movement in difficult terrain costs 2 feet. This means with 30 feet of speed, you can only move 15 feet through difficult terrain. Some features ignore difficult terrain (like Land\'s Stride for Rangers).',
    examples: [
      '30 ft speed in difficult terrain = 15 ft actual movement',
      'Web spell creates difficult terrain',
      'Spike Growth is difficult terrain + deals damage',
      'Freedom of Movement ignores difficult terrain'
    ],
    relatedRules: ['movement-speed'],
  },
  'movement-speed': {
    id: 'movement-speed',
    name: 'Movement & Speed',
    category: 'movement',
    summary: 'Your speed determines how far you can move on your turn.',
    description: 'Your speed is how many feet you can move on your turn. Most races have 30 feet. You can split your movement before, during, and after actions. Some effects give different movement types: fly speed, swim speed, climb speed, burrow speed. Without a swim or climb speed, those movements count as difficult terrain.',
    examples: [
      'Move 15 ft, attack, move 15 ft more (30 ft total)',
      'Dash action: Move up to 60 ft (double speed)',
      'Fly spell: Gain 60 ft fly speed',
      'Climbing without climb speed: 2 ft per 1 ft of movement'
    ],
    relatedRules: ['difficult-terrain', 'actions'],
  },
  'conditions-overview': {
    id: 'conditions-overview',
    name: 'Common Conditions',
    category: 'combat',
    summary: 'Status effects that modify what a creature can do.',
    description: 'Conditions are status effects applied by spells, abilities, or hazards. Multiple conditions can affect a creature at once. Common conditions include: Blinded (can\'t see, disadvantage on attacks), Charmed (can\'t attack the charmer), Frightened (disadvantage when source visible), Paralyzed (incapacitated, auto-fail STR/DEX saves, attacks auto-crit), Poisoned (disadvantage on attacks and checks), Prone (disadvantage on attacks, melee attacks have advantage against you), Restrained (speed 0, disadvantage on attacks and DEX saves), Stunned (incapacitated, auto-fail STR/DEX saves), Unconscious (like paralyzed but unaware).',
    relatedRules: ['paralyzed', 'stunned', 'prone'],
  },
}

// Helper function to get any reference by type and ID
export type RefType = 'spell' | 'skill' | 'ability' | 'weapon' | 'armor' | 'condition' | 'trait' | 'rule'

export function getReference(type: RefType, id: string): SpellRef | SkillRef | AbilityRef | WeaponRef | ArmorRef | ConditionRef | TraitRef | RuleRef | null {
  switch (type) {
    case 'spell':
      return SPELLS[id] || null
    case 'skill':
      return SKILLS[id] || null
    case 'ability':
      return ABILITIES[id] || null
    case 'weapon':
      return WEAPONS[id] || null
    case 'armor':
      return ARMOR[id] || null
    case 'condition':
      return CONDITIONS[id] || null
    case 'trait':
      return TRAITS[id] || null
    case 'rule':
      return RULES[id] || null
    default:
      return null
  }
}

// Helper to get all rules by category
export function getRulesByCategory(category: RuleRef['category']): RuleRef[] {
  return Object.values(RULES).filter(rule => rule.category === category)
}

// Get all spellcasting rules for new player reference
export function getSpellcastingRules(): RuleRef[] {
  return getRulesByCategory('spellcasting')
}

// Get all combat rules
export function getCombatRules(): RuleRef[] {
  return getRulesByCategory('combat')
}
