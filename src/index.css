@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --color-primary: #d4af37;
    --color-secondary: #8b6914;
    --color-background: #1a1a2e;
    --color-surface: #25253d;
    --color-text: #e4e4e7;
    --color-text-muted: #a1a1aa;
    --font-family: 'Inter', system-ui, sans-serif;
  }

  /* OpenDyslexic font for accessibility */
  @font-face {
    font-family: 'OpenDyslexic';
    src: url('https://cdn.jsdelivr.net/npm/opendyslexic@2.0.0/fonts/OpenDyslexic-Regular.woff2') format('woff2');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
  }

  @font-face {
    font-family: 'OpenDyslexic';
    src: url('https://cdn.jsdelivr.net/npm/opendyslexic@2.0.0/fonts/OpenDyslexic-Bold.woff2') format('woff2');
    font-weight: bold;
    font-style: normal;
    font-display: swap;
  }

  @font-face {
    font-family: 'OpenDyslexic';
    src: url('https://cdn.jsdelivr.net/npm/opendyslexic@2.0.0/fonts/OpenDyslexic-Italic.woff2') format('woff2');
    font-weight: normal;
    font-style: italic;
    font-display: swap;
  }

  body {
    @apply bg-gray-900 text-gray-100 antialiased;
    font-family: var(--font-family);
    transition: background-color 0.3s ease, color 0.3s ease;
    overflow-x: hidden;
  }

  /* Smooth transitions for theme changes */
  * {
    transition-property: background-color, border-color, color;
    transition-duration: 200ms;
    transition-timing-function: ease-in-out;
  }

  /* Preserve fast transitions for interactive elements */
  button, a, input, select, textarea {
    transition-duration: 150ms;
  }

  /* Dyslexic font adjustments */
  .font-dyslexic {
    letter-spacing: 0.05em;
    word-spacing: 0.1em;
    line-height: 1.6;
  }

  /* Theme overrides */
  .theme-light {
    --tw-bg-opacity: 1;
  }

  .theme-light body,
  .theme-light .bg-gray-900 {
    background-color: #f5f5f5 !important;
  }

  .theme-light .bg-gray-800 {
    background-color: #ffffff !important;
  }

  .theme-light .bg-gray-700 {
    background-color: #e5e5e5 !important;
  }

  .theme-light .text-gray-100,
  .theme-light .text-white {
    color: #1a1a1a !important;
  }

  .theme-light .text-gray-300,
  .theme-light .text-gray-400 {
    color: #4a4a4a !important;
  }

  .theme-light .text-gray-500 {
    color: #6a6a6a !important;
  }

  .theme-light .border-gray-700 {
    border-color: #d1d1d1 !important;
  }

  .theme-lighter body,
  .theme-lighter .bg-gray-900 {
    background-color: #ffffff !important;
  }

  .theme-lighter .bg-gray-800 {
    background-color: #fafafa !important;
  }

  .theme-lighter .bg-gray-700 {
    background-color: #f0f0f0 !important;
  }

  .theme-lighter .text-gray-100,
  .theme-lighter .text-white {
    color: #000000 !important;
  }

  .theme-lighter .text-gray-300,
  .theme-lighter .text-gray-400 {
    color: #1a1a1a !important;
  }

  .theme-lighter .text-gray-500 {
    color: #4a4a4a !important;
  }

  .theme-lighter .border-gray-700 {
    border-color: #e0e0e0 !important;
  }

  .theme-darker body,
  .theme-darker .bg-gray-900 {
    background-color: #000000 !important;
  }

  .theme-darker .bg-gray-800 {
    background-color: #0a0a0a !important;
  }

  .theme-darker .bg-gray-700 {
    background-color: #141414 !important;
  }

  .theme-darker .text-gray-100,
  .theme-darker .text-white {
    color: #ffffff !important;
  }

  .theme-darker .text-gray-400 {
    color: #a0a0a0 !important;
  }

  .theme-darker .text-gray-500 {
    color: #606060 !important;
  }

  .theme-darker .border-gray-700 {
    border-color: #2a2a2a !important;
  }

  .theme-dnd body,
  .theme-dnd .bg-gray-900 {
    background-color: #1a1512 !important;
  }

  .theme-dnd .bg-gray-800 {
    background-color: #2a2219 !important;
  }

  .theme-dnd .bg-gray-700 {
    background-color: #3a3129 !important;
  }

  .theme-dnd .text-gray-100,
  .theme-dnd .text-white {
    color: #f4e4c1 !important;
  }

  .theme-dnd .text-gray-400 {
    color: #c4b491 !important;
  }

  .theme-dnd .text-gray-500 {
    color: #8a7a61 !important;
  }

  .theme-dnd .border-gray-700 {
    border-color: #5a4a31 !important;
  }

  .theme-wow body,
  .theme-wow .bg-gray-900 {
    background-color: #0d0d0d !important;
  }

  .theme-wow .bg-gray-800 {
    background-color: #1a1410 !important;
  }

  .theme-wow .bg-gray-700 {
    background-color: #2a2420 !important;
  }

  .theme-wow .text-gray-100,
  .theme-wow .text-white {
    color: #f0d0a0 !important;
  }

  .theme-wow .text-gray-400 {
    color: #d4af37 !important;
  }

  .theme-wow .text-gray-500 {
    color: #8b7355 !important;
  }

  .theme-wow .border-gray-700 {
    border-color: #4a3f2f !important;
  }

  .theme-final-fantasy body,
  .theme-final-fantasy .bg-gray-900 {
    background-color: #0a0e1a !important;
  }

  .theme-final-fantasy .bg-gray-800 {
    background-color: #141a2e !important;
  }

  .theme-final-fantasy .bg-gray-700 {
    background-color: #1e2a4a !important;
  }

  .theme-final-fantasy .text-gray-100,
  .theme-final-fantasy .text-white {
    color: #e0f0ff !important;
  }

  .theme-final-fantasy .text-gray-400 {
    color: #a0c0ff !important;
  }

  .theme-final-fantasy .text-gray-500 {
    color: #6080c0 !important;
  }

  .theme-final-fantasy .border-gray-700 {
    border-color: #304a7a !important;
  }

  .theme-diablo body,
  .theme-diablo .bg-gray-900 {
    background-color: #0f0a0a !important;
  }

  .theme-diablo .bg-gray-800 {
    background-color: #1a0f0f !important;
  }

  .theme-diablo .bg-gray-700 {
    background-color: #2a1414 !important;
  }

  .theme-diablo .text-gray-100,
  .theme-diablo .text-white {
    color: #ffd0d0 !important;
  }

  .theme-diablo .text-gray-400 {
    color: #d08080 !important;
  }

  .theme-diablo .text-gray-500 {
    color: #8a5050 !important;
  }

  .theme-diablo .border-gray-700 {
    border-color: #4a2020 !important;
  }

  /* Focus styles for keyboard navigation */
  *:focus-visible {
    @apply outline-none ring-2 ring-gold-500 ring-offset-2 ring-offset-gray-900;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-gray-800;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gray-600 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-500;
  }
}

@layer components {
  .btn {
    @apply px-4 py-2 rounded-lg font-medium transition-all duration-200;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900;
    @apply shadow-md hover:shadow-lg active:shadow-sm;
    @apply transform hover:scale-[1.02] active:scale-[0.98];
  }

  .btn-primary {
    @apply btn bg-gradient-to-r from-gold-600 to-yellow-600 text-white;
    @apply hover:from-gold-700 hover:to-yellow-700 focus:ring-gold-500;
  }

  .btn-secondary {
    @apply btn bg-gray-700 text-gray-100 hover:bg-gray-600 focus:ring-gray-500;
  }

  .card {
    @apply bg-gray-800 rounded-xl p-6 shadow-xl border border-gray-700;
    @apply hover:shadow-2xl transition-shadow duration-300;
    background-image: linear-gradient(to bottom right, rgba(255,255,255,0.02), transparent);
  }

  .card-interactive {
    @apply card cursor-pointer;
    @apply hover:border-gold-500/50 hover:-translate-y-1;
    @apply transition-all duration-300;
  }

  .input {
    @apply w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg;
    @apply text-gray-100 placeholder-gray-500;
    @apply focus:border-gold-500 focus:ring-2 focus:ring-gold-500/50;
    @apply transition-all duration-200;
    @apply shadow-inner hover:border-gray-600;
  }

  .label {
    @apply block text-sm font-medium text-gray-300 mb-2;
  }

  /* Animated gradient background */
  .gradient-bg {
    background: linear-gradient(-45deg, #1a1a2e, #25253d, #1f1f2e, #2a2a3e);
    background-size: 400% 400%;
    animation: gradient-shift 15s ease infinite;
  }

  @keyframes gradient-shift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  /* Shimmer effect for loading states */
  .shimmer {
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
  }

  @keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }

  /* Pulse animation for attention */
  .pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite;
  }

  @keyframes pulse-glow {
    0%, 100% { box-shadow: 0 0 0 0 rgba(212, 175, 55, 0); }
    50% { box-shadow: 0 0 20px 5px rgba(212, 175, 55, 0.3); }
  }
}

/* Print Styles for Character Sheets */
@media print {
  /* Hide non-essential elements */
  header,
  footer,
  nav,
  button,
  .no-print {
    display: none !important;
  }

  /* Reset colors for printing */
  * {
    color: #000 !important;
    background: #fff !important;
    border-color: #333 !important;
  }

  body {
    font-size: 12pt;
    line-height: 1.4;
  }

  /* Page breaks */
  .card {
    page-break-inside: avoid;
    break-inside: avoid;
    border: 1px solid #333 !important;
    padding: 12pt;
    margin-bottom: 8pt;
  }

  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
    break-after: avoid;
    color: #000 !important;
    font-weight: bold;
  }

  /* Remove shadows and rounded corners for cleaner print */
  .card,
  .btn,
  .input {
    box-shadow: none !important;
    border-radius: 4pt;
  }

  /* Ensure text is readable */
  .text-gray-400,
  .text-gray-500,
  .text-gray-300 {
    color: #333 !important;
  }

  /* Make important numbers stand out */
  .text-dnd-gold,
  .text-gold-500,
  .text-red-400 {
    color: #000 !important;
    font-weight: bold;
  }

  /* Grid layouts should flow for print */
  .grid {
    display: block !important;
  }

  .grid > * {
    margin-bottom: 8pt;
  }

  /* Show character sheet tabs content all at once */
  [role="tabpanel"] {
    display: block !important;
  }

  /* Optimize spacing */
  @page {
    margin: 1cm;
  }

  /* Prevent orphans and widows */
  p {
    orphans: 3;
    widows: 3;
  }

  /* Table formatting for skill lists */
  table {
    border-collapse: collapse;
    width: 100%;
  }

  table, th, td {
    border: 1px solid #333;
    padding: 4pt;
  }
}
